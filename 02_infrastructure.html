<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US-x-Hixie"><head>


	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>2 Common infrastructure — HTML 5</title>
	<link rel="stylesheet" type="text/css" href="infrastructure_files/w3c.css">
	<link href="data:text/css," rel="stylesheet" title="Complete specification">
	<link href="data:text/css,.impl%20%7B%20display:%20none;%20%7D" rel="alternate stylesheet" title="Author documentation only">
	<link href="data:text/css,.impl%20%7B%20background:%20%23FFEEEE;%20%7D" rel="alternate stylesheet" title="Highlight implementation requirements">
	<link href="infrastructure_files/W3C-WD.css" rel="stylesheet" type="text/css"><!-- ZZZ ED vs WD -->
	<script type="text/javascript" src="infrastructure_files/link-fixup.js"></script>
	<link href="http://www.w3.org/TR/html5/introduction.html" title="1 Introduction" rel="prev">
	<link href="http://www.w3.org/TR/html5/spec.html#contents" title="Table of contents" rel="index">
	<link href="http://www.w3.org/TR/html5/dom.html" title="3 Semantics, structure, and APIs of HTML documents" rel="next">
	<link rel="stylesheet" type="text/css" href="infrastructure_files/translation.css">
</head><body onload="fixBrokenLink(); fixBrokenLink();">
<div class="head">
<p><a href="http://www.w3.org/"><img alt="W3C" src="infrastructure_files/w3c_home.png" height="48" width="72"></a></p>
<h1>HTML 5</h1>
<h2 class="no-num no-toc" id="a-vocabulary-and-associated-apis-for-html-and-xhtml">A vocabulary and associated APIs for HTML and XHTML</h2>
</div><nav class="hidden">
<a href="http://www.clearboth.org/html5/introduction.html">← 1 Introduction</a> –
<a href="http://www.clearboth.org/html5/spec.html#contents">Table of contents</a> –
<a href="http://www.clearboth.org/html5/dom.html">3 Semantics, structure, and APIs of HTML documents →</a>
</nav><p>This is revision 1.2852.</p><ol id="toc"><li class="H2"><a href="#infrastructure"><span class="secno">2 </span>Common infrastructure</a></li><li class="H3"><a href="#terminology"><span class="secno">2.1 </span>Terminology 단어 사용</a></li><li class="H4"><a href="#resources"><span class="secno">2.1.1 </span>Resources</a></li><li class="H4"><a href="#xml"><span class="secno">2.1.2 </span>XML</a></li><li class="H4"><a href="#dom-trees"><span class="secno">2.1.3 </span>DOM trees</a></li><li class="H4"><a href="#scripting-0"><span class="secno">2.1.4 </span>Scripting</a></li><li class="H4"><a href="#plugins"><span class="secno">2.1.5 </span>Plugins</a></li><li class="H4"><a href="#character-encodings"><span class="secno">2.1.6 </span>Character encodings</a></li><li class="H3"><a href="#conformance-requirements"><span class="secno">2.2 </span>Conformance requirements</a></li><li class="H4"><a href="#dependencies"><span class="secno">2.2.1 </span>Dependencies</a></li><li class="H4"><a href="#extensibility"><span class="secno">2.2.2 </span>Extensibility</a></li><li class="H3"><a href="#case-sensitivity-and-string-comparison"><span class="secno">2.3 </span>Case-sensitivity and string comparison</a></li><li class="H3"><a href="#common-microsyntaxes"><span class="secno">2.4 </span>Common microsyntaxes</a></li><li class="H4"><a href="#common-parser-idioms"><span class="secno">2.4.1 </span>Common parser idioms</a></li><li class="H4"><a href="#boolean-attributes"><span class="secno">2.4.2 </span>Boolean attributes</a></li><li class="H4"><a href="#keywords-and-enumerated-attributes"><span class="secno">2.4.3 </span>Keywords and enumerated attributes</a></li><li class="H4"><a href="#numbers"><span class="secno">2.4.4 </span>Numbers</a></li><li class="H5"><a href="#non-negative-integers"><span class="secno">2.4.4.1 </span>Non-negative integers</a></li><li class="H5"><a href="#signed-integers"><span class="secno">2.4.4.2 </span>Signed integers</a></li><li class="H5"><a href="#real-numbers"><span class="secno">2.4.4.3 </span>Real numbers</a></li><li class="H5"><a href="#ratios"><span class="secno">2.4.4.4 </span>Ratios</a></li><li class="H5"><a href="#percentages-and-dimensions"><span class="secno">2.4.4.5 </span>Percentages and lengths</a></li><li class="H5"><a href="#lists-of-integers"><span class="secno">2.4.4.6 </span>Lists of integers</a></li><li class="H5"><a href="#lists-of-dimensions"><span class="secno">2.4.4.7 </span>Lists of dimensions</a></li><li class="H4"><a href="#dates-and-times"><span class="secno">2.4.5 </span>Dates and times</a></li><li class="H5"><a href="#months"><span class="secno">2.4.5.1 </span>Months</a></li><li class="H5"><a href="#dates"><span class="secno">2.4.5.2 </span>Dates</a></li><li class="H5"><a href="#times"><span class="secno">2.4.5.3 </span>Times</a></li><li class="H5"><a href="#local-dates-and-times"><span class="secno">2.4.5.4 </span>Local dates and times</a></li><li class="H5"><a href="#global-dates-and-times"><span class="secno">2.4.5.5 </span>Global dates and times</a></li><li class="H5"><a href="#weeks"><span class="secno">2.4.5.6 </span>Weeks</a></li><li class="H5"><a href="#vaguer-moments-in-time"><span class="secno">2.4.5.7 </span>Vaguer moments in time</a></li><li class="H4"><a href="#colors"><span class="secno">2.4.6 </span>Colors</a></li><li class="H4"><a href="#space-separated-tokens"><span class="secno">2.4.7 </span>Space-separated tokens</a></li><li class="H4"><a href="#comma-separated-tokens"><span class="secno">2.4.8 </span>Comma-separated tokens</a></li><li class="H4"><a href="#reversed-dns-identifiers"><span class="secno">2.4.9 </span>Reversed DNS identifiers</a></li><li class="H4"><a href="#syntax-references"><span class="secno">2.4.10 </span>References</a></li><li class="H3"><a href="#urls"><span class="secno">2.5 </span>URLs</a></li><li class="H4"><a href="#terminology-0"><span class="secno">2.5.1 </span>Terminology</a></li><li class="H4"><a href="#dynamic-changes-to-base-urls"><span class="secno">2.5.2 </span>Dynamic changes to base URLs</a></li><li class="H4"><a href="#interfaces-for-url-manipulation"><span class="secno">2.5.3 </span>Interfaces for URL manipulation</a></li><li class="H3"><a href="#fetching-resources"><span class="secno">2.6 </span>Fetching resources</a></li><li class="H4"><a href="#concept-http-equivalent"><span class="secno">2.6.1 </span>Protocol concepts</a></li><li class="H4"><a href="#encrypted-http-and-related-security-concerns"><span class="secno">2.6.2 </span>Encrypted HTTP and related security concerns</a></li><li class="H4"><a href="#content-type-sniffing"><span class="secno">2.6.3 </span>Determining the type of a resource</a></li><li class="H3"><a href="#character-encodings-0"><span class="secno">2.7 </span>Character encodings</a></li><li class="H3"><a href="#common-dom-interfaces"><span class="secno">2.8 </span>Common DOM interfaces</a></li><li class="H4"><a href="#reflecting-content-attributes-in-dom-attributes"><span class="secno">2.8.1 </span>Reflecting content attributes in DOM attributes</a></li><li class="H4"><a href="#collections-0"><span class="secno">2.8.2 </span>Collections</a></li><li class="H5"><a href="#htmlcollection-0"><span class="secno">2.8.2.1 </span>HTMLCollection</a></li><li class="H5"><a href="#htmlallcollection-0"><span class="secno">2.8.2.2 </span>HTMLAllCollection</a></li><li class="H5"><a href="#htmlformcontrolscollection-0"><span class="secno">2.8.2.3 </span>HTMLFormControlsCollection</a></li><li class="H5"><a href="#htmloptionscollection-0"><span class="secno">2.8.2.4 </span>HTMLOptionsCollection</a></li><li class="H5"><a href="#htmlpropertycollection-0"><span class="secno">2.8.2.5 </span>HTMLPropertyCollection</a></li><li class="H4"><a href="#domtokenlist-0"><span class="secno">2.8.3 </span>DOMTokenList</a></li><li class="H4"><a href="#domsettabletokenlist-0"><span class="secno">2.8.4 </span>DOMSettableTokenList</a></li><li class="H4"><a href="#safe-passing-of-structured-data"><span class="secno">2.8.5 </span>Safe passing of structured data</a></li><li class="H4"><a href="#domstringmap-0"><span class="secno">2.8.6 </span>DOMStringMap</a></li><li class="H4"><a href="#dom-feature-strings"><span class="secno">2.8.7 </span>DOM feature strings</a></li><li class="H4"><a href="#exceptions"><span class="secno">2.8.8 </span>Exceptions</a></li><li class="H4"><a href="#garbage-collection"><span class="secno">2.8.9 </span>Garbage collection</a></li></ol>

	<h2 id="infrastructure"><span class="secno">2 </span>Common infrastructure</h2>
	
	<h3 id="terminology"><span class="secno">2.1 </span>Terminology 단어 사용</h3>
	<p class="XXX annotation"><b>Status: </b><i>Working draft</i></p>
	<p class=" KR" lang="KR">이 명세서는 HTML과 XML 속성, 그리고 DOM 속성을 종종 같은 문맥에서 다룹니다. 이러한 설명이 어느것을 가리키는지 불분명한 경우, <strong>내용 속성</strong> 이라는 표현으로 HTML과 XML 속성을 말하며, <strong>DOM 속성</strong> 이라는 표현으로 DOM의 속성을 가리킵니다. 흡사하게, 프로퍼티 라는 표현이 자바스크립트와 CSS에 동시에 적용됩니다. 만약 이것이 모호할 경우, 이들을 각각 <strong>객체 프로퍼티</strong>, <strong>CSS 프로퍼티</strong> 로 구분할 것입니다.</p>
	<p class="kip">역
주 : 명세서의 번역 전체에 걸쳐 "속성" 이라는 표현은 attribute를 가리킵니다. property는 구성원, 구성요소
등으로 표현할 수 있지만 이러한 표현이 오히려 혼동을 일으킬 수 있다는 판단으로 프로퍼티 라는 표현을 사용하겠습니다.</p>
	<p class=" smallEn" lang="EN">This
specification refers to both HTML and XML attributes and DOM
attributes, often in the same context. When it is not clear which is
being referred to, they are referred to as <dfn title="">content	attributes</dfn> for HTML and XML attributes, and <dfn title="">DOM attributes</dfn>
for those from the DOM. Similarly, the term "properties" is used for
both JavaScript object properties and CSS properties. When these are
ambiguous they are qualified as <dfn title="">object properties</dfn> and <dfn title="">CSS properties</dfn> respectively.</p>

	<p class=" KR" lang="KR">일
반적으로, 이 명세서에서 HTML 문법, 또는 XHTML 문법 이라는 표현을 사용할 경우 그 표현은 양쪽 모두에 적용됩니다.
만약 어떤 기능이 두 언어 중 하나에만 적용된다면, 다른것에는 적용되지 않음을 "HTML에서는, ...(이것은 XHTML에는
적용되지 않습니다)" 와 같이 명시적으로 나타낼 것입니다.</p>
	<p class=" smallEn" lang="EN">Generally, when the specification states that a feature applies to <a href="http://www.clearboth.org/html5/syntax.html#syntax">the HTML syntax</a> or <a href="http://www.clearboth.org/html5/the-xhtml-syntax.html#the-xhtml-syntax">the XHTML syntax</a>,
it also includes the other. When a feature specifically only applies to
one of the two languages, it is called out by explicitly stating that
it does not apply to the other format, as in "for HTML, ... (this does
not apply to XHTML)".</p>

	<p class=" KR" lang="KR">이 명세서는 <strong>문서</strong> 라는 단어를 모든 HTML에 걸쳐 사용합니다. 작고 정적인 문서, 긴 길이의 에세이, 멀티미디어 요소를 포함하는 보고서, 완전히 상호작용하는 어플리케이션 모두가 이에 포함됩니다.</p>
	<p class=" smallEn" lang="EN">This specification uses the term <dfn title="">document</dfn>
to refer to any use of HTML, ranging from short static documents to
long essays or reports with rich multimedia, as well as to
fully-fledged interactive applications.</p>

	<p class=" KR" lang="KR">간결함을 위해, <strong>보여지는</strong>, <strong>표시된</strong>, 그리고 <strong>보이는</strong> 이라는 단어들은 문서가 사용자에게 렌더링되어지는 방법을 지칭합니다. 이러한 단어가 시각적인 매체를 암시적으로 지칭하는 것은 아닙니다. 다른 매체에서도 같은 방법으로 적용된다고 인식해야 합니다.</p>
	<p class=" smallEn" lang="EN">For simplicity, terms such as <dfn title="">shown</dfn>, <dfn title="">displayed</dfn>, and <dfn title="">visible</dfn>
might sometimes be used when referring to the way a document is
rendered to the user. These terms are not meant to imply a visual
medium; they must be considered to apply to other media in quivalent
ways.</p>

	<p class=" KR" lang="KR">B라는 알고리즘이 다른 알고리즘 A에게 돌아간다고 하면, 그것은 A가 B를 호출하였음을 암시합니다. A에게 돌아갈 때, 사용자 에이전트는 반드시 호출 시점에서부터 계속해야 합니다.</p>
	<p class=" smallEn" lang="EN">When
an algorithm B says to return to another algorithm A, it implies that A
called B. Upon returning to A, the implementation must continue from
where it left off in calling B.</p>

	<h4 id="resources"><span class="secno">2.1.1 </span>Resources</h4>
	<p class=" KR" lang="KR">이 명세서에서 <strong>지원되는</strong>
이라는 단어를 사용할 때에는, 사용자 에이전트가 외부 자원을 의미적으로 해석할 수 있는지를 말합니다. 어떤 포맷이나 타입이
지원된다 라고 말한다면, 그것은 사용자 에이전트가 그 자원의 중요한 부분을 무시하지 않은 채 처리할 수 있음을 말합니다. 특정한
자원이 지원되는가의 여부는 그 자원의 포맷이 어떠한 기능을 가지고 있는가에 따라 달라질 수 있습니다.</p>
	<p class=" smallEn" lang="EN">The specification uses the term <dfn title="">supported</dfn>
when referring to whether a user agent has an implementation capable of
decoding the semantics of an external resource. A format or type is
said to be <i>supported</i> if the implementation can process an
external resource of that format or type without critical aspects of
the resource being ignored. Whether a specific resource is <i>supported</i> can depend on what features of the resource's format are in use.</p>
	<div class="example">
		<p class=" KR" lang="KR">예를 들어, PNG 이미지는, 사용자 에이전트가 이미지에 애니메이션 데이터가 포함되어 있음을 인지하지 못한다고 하더라도, 그 픽셀 데이터를 해석해서 표현할 수 있다면 지원되는 것으로 간주합니다.</p>
		<p class=" smallEn" lang="EN">For
example, a PNG image would be considered to be in a supported format if
its pixel data could be decoded and rendered, even if, unbeknownst to
the implementation, the image also contained animation data.</p>
		<p class=" KR" lang="KR">MPEG64 비디오 파일의 경우, 설령 사용자 에이전트가 그 파일의 메타데이터에서 가로/세로 크기를 읽어낼 수 있다고 하더라도 압축 포맷을 지원하지 못한다면 지원되지 않는 것으로 간주합니다.</p>
		<p class=" smallEn" lang="EN">A
MPEG4 video file would not be considered to be in a supported format if
the compression format used was not supported, even if the
implementation could determine the dimensions of the movie from the
file's metadata.</p>
	</div>
	<p class=" KR" lang="KR"><strong>마임 타입</strong> 이라는 단어는 프로토콜 분야에서 간혹 인터넷 미디어 타입 이라고 불리는 것을 말합니다. 이 명세서에서 미디어 타입 이라는 단어는 또한 CSS 명세에서 사용하는 바와 같이, 표현되어지는 매체의 타입을 지칭합니다.</p>
	<p class=" smallEn" lang="EN">The term <dfn id="mime-type">MIME type</dfn> is used to refer to what is sometimes called an <i>Internet media type</i> in protocol	literature. The term <i>media type</i> in this specification is used to refer to the type of media intended for presentation, as used by the CSS specifications. <a href="http://www.clearboth.org/html5/references.html#refsRFC2046">[RFC2046]</a> <a href="http://www.clearboth.org/html5/references.html#refsMQ">[MQ]</a></p>

	<p class=" KR" lang="KR">문자열은 RFC 2616 3.7장의 미디어 타입 섹션에 기술된 토큰에 일치한다면, 적합한 마임 타입으로 간주합니다.</p>
	<p class=" smallEn" lang="EN">A string is a <dfn id="valid-mime-type">valid MIME type</dfn> if it matches the <code title="">media-type</code> token defined in section 3.7 "Media
	Types" of RFC 2616. <a href="http://www.clearboth.org/html5/references.html#refsHTTP">[HTTP]</a></p>

	<h4 id="xml"><span class="secno">2.1.2 </span>XML</h4><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p>
	<p class=" KR" lang="KR">HTML에서 XHTML로 이동하는 것을 쉽게 하기 위해, 이 명세서에 부합하는 사용자 에이전트는 HTML 요소들을 <code>http://www.w3.org/1999/xhtml</code> 네임스페이스에 맞게 해석할 것입니다. 따라서, <strong>HTML 네임스페이스의 요소들</strong>, 또는 간단히 <strong>HTML 요소들</strong> 이라는 단어는 이 명세서에서 HTML과 XHTML 요소 모두를 지칭합니다.</p>
	<p class=" smallEn" id="html-namespace" lang="EN">To ease migration from HTML to XHTML, UAs
	conforming to this specification will place elements in HTML in the
	<code>http://www.w3.org/1999/xhtml</code> namespace, at least for
	the purposes of the DOM and CSS. The term "<dfn id="elements-in-the-html-namespace">elements in the HTML
	namespace</dfn>", or "<dfn id="html-elements">HTML elements</dfn>" for short, when used
	in this specification, thus refers to both HTML and XHTML
	elements.</p>
	<p class=" KR" lang="KR">다른 방법으로 명시되지 않았다면, 이 명세서에서 정의되거나 언급되는 모든 요소들은 <code>http://www.w3.org/1999/xhtml</code> 네임스페이스 정의를 따르며, 이 명세서에서 정의되거나 언급되는 모든 속성들은 별도의 네임스페이스를 갖지 않습니다.</p>
	<p class=" smallEn" lang="EN">Unless otherwise stated, all elements defined or mentioned in
	this specification are in the
	<code>http://www.w3.org/1999/xhtml</code> namespace, and all
	attributes defined or mentioned in this specification have no
	namespace.</p>
	<p class=" KR" lang="KR">속
성이나 요소의 이름과 같은 XML 이름은 접두사:지역명칭의 형태를 갖는데, xml:id 또는 svg:rect 와 같습니다.
지역명칭이란 접두사에서 지정한 네임스페이스를 통해 정해지는 이름을 참조하는데, 접두사의 네임스페이스 지정은 아래와 같습니다. </p>
	<p class=" smallEn" lang="EN">When an XML name, such as an attribute or element name, is
	referred to in the form <code><var title="">prefix</var>:<var title="">localName</var></code>, as in <code>xml:id</code> or
	<code>svg:rect</code>, it refers to a name with the local name <var title="">localName</var> and the namespace given by the prefix, as
	defined by the following table:</p><dl><dt><code title="">xml</code></dt>
	<dd><code>http://www.w3.org/XML/1998/namespace</code></dd>
	<dt><code title="">html</code></dt>
	<dd><code>http://www.w3.org/1999/xhtml</code></dd>
	<dt><code title="">svg</code></dt>
	<dd><code>http://www.w3.org/2000/svg</code></dd>
	</dl>
	<p class=" KR" lang="KR">속성의 이름들은, XML에서 정의하는 이름 규칙에 맞고, U+003A 콜론(:)을 포함하지 않으며, 첫 세글자가 "xml"로 시작하지 않는다면 <strong>XML 호환</strong>이라고 칭해집니다.</p>
	<p class=" smallEn" lang="EN">Attribute names are said to be <dfn id="xml-compatible">XML-compatible</dfn> if they
	match the <a href="http://www.w3.org/TR/REC-xml/#NT-Name"><code title="">Name</code></a> production defined in XML, they contain no
	U+003A COLON (:) characters, and their first three characters are
	not an <a href="http://www.clearboth.org/html5/infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for the string
	"<code title="">xml</code>". <a href="http://www.clearboth.org/html5/references.html#refsXML">[XML]</a></p>
	<p class=" KR" lang="KR"><strong>XML 마임 타입</strong>이란 단어는 text/xml, application/xml, 그리고 마지막 네 글자가 "+xml" 로 끝나는 모든 마임 타입을 지칭합니다.</p>
	<p class=" smallEn" lang="EN">The term <dfn id="xml-mime-type">XML MIME type</dfn> is used to refer to the <a href="http://www.clearboth.org/html5/infrastructure.html#mime-type" title="MIME type">MIME types</a> <code title="">text/xml</code>,
	<code title="">application/xml</code>, and any MIME type ending with
	the four characters "<code title="">+xml</code>". <a href="http://www.clearboth.org/html5/references.html#refsRFC3023">[RFC3023]</a></p>

	<h4 id="dom-trees"><span class="secno">2.1.3 </span>DOM trees</h4>
	<p class=" KR" lang="KR"><strong>루트 요소</strong>라
는 단어는, 문서의 루트 요소라고 명시적으로 지정하지 않았다면, 현재 논의하고 있는 요소의 노드 중 가장 상위에 있는 요소,
혹은 조상 요소를 갖지 않는 요소를 지칭합니다. 노드가 문서의 일부분이라면, 당연히 루트 요소는 문서의 루트 요소를
지칭합니다만, 현재 논의하는 요소가 문서 트리의 일부분이 아닐 경우 루트 요소는 고아 노드가 될 것입니다.</p>
	<p class=" smallEn" lang="EN">The term <dfn id="root-element">root element</dfn>, when not explicitly qualified
	as referring to the document's root element, means the furthest
	ancestor element node of whatever node is being discussed, or the
	node itself if it has no ancestors. When the node is a part of the
	document, then that is indeed the document's root element; however,
	if the node is not currently part of the document tree, the root
	element will be an orphaned node.</p>
	<p class=" KR" lang="KR">노드의 <strong>홈 서브트리</strong> 란 현재 노드의 루트 요소를 공유하는 서브트리를 말합니다.</p>
	<p class=" smallEn" lang="EN">A node's <dfn id="home-subtree">home subtree</dfn> is the subtree rooted at that
	node's <a href="http://www.clearboth.org/html5/infrastructure.html#root-element">root element</a>.</p>
	<p class=" KR" lang="KR">노드(요소와 같은)의 문서는 문서의 DOM 속성 중 ownerDocument이 반환하는 문서를 말합니다.</p>
	<p class=" smallEn" lang="EN">The <code>Document</code> of a <code>Node</code> (such as an
	element) is the <code>Document</code> that the <code>Node</code>'s
	<code title="">ownerDocument</code> DOM attribute returns.</p>
	<p class=" KR" lang="KR">요소의 루트 요소가 문서의 루트 요소일 경우, 그 요소는 문서 안에 있다고 말합니다. 요소의 루트 요소가 변화해서 문서의 루트 요소를 공유할 경우, 그 요소는 <strong>문서에 삽입되었다</strong> 라고 말합니다. 반대로, 요소의 루트 요소가 변화해서 문서의 루트 요소와 다른 요소가 될 경우, <strong>문서에서 제거되었다</strong> 라고 말합니다.</p>
	<p class=" smallEn" lang="EN">When an element's <a href="http://www.clearboth.org/html5/infrastructure.html#root-element">root element</a> is the <a href="http://www.clearboth.org/html5/infrastructure.html#root-element">root
	element</a> of a <code>Document</code>, it is said to be <dfn id="in-a-document">in
	a <code>Document</code></dfn>. An element is said to have been <dfn id="insert-an-element-into-a-document" title="insert an element into a document">inserted into a
	document</dfn> when its <a href="http://www.clearboth.org/html5/infrastructure.html#root-element">root element</a> changes and is now
	the document's <a href="http://www.clearboth.org/html5/infrastructure.html#root-element">root element</a>. Analogously, an element is
	said to have been <dfn id="remove-an-element-from-a-document" title="remove an element from a
	document">removed from a document</dfn> when its <a href="http://www.clearboth.org/html5/infrastructure.html#root-element">root
	element</a> changes from being the document's <a href="http://www.clearboth.org/html5/infrastructure.html#root-element">root
	element</a> to being another element.</p>
	<p class=" KR" lang="KR">노드가 문서 내에 있다면, 문서는 항상 노드의 문서가 되며, 따라서 노드의 DOM 속성 ownerDocument는 항상 문서를 반환하게 됩니다.</p>
	<p class=" smallEn" lang="EN">If a <code>Node</code> is <a href="http://www.clearboth.org/html5/infrastructure.html#in-a-document">in a <code>Document</code></a>
	then that <code>Document</code> is always the <code>Node</code>'s
	<code>Document</code>, and the <code>Node</code>'s <code title="">ownerDocument</code> DOM attribute thus always returns that
	<code>Document</code>.</p>
	<p class=" KR" lang="KR"><strong>트리 순서</strong>라는 단어는 깊이 순서로 미리 정렬된, 관련된(parentNode/childNodes 관계를 통해서) DOM 노드들을 말합니다. </p>
	<p class=" smallEn" lang="EN">The term <dfn id="tree-order">tree order</dfn> means a pre-order, depth-first
	traversal of DOM nodes involved (through the <code title="">parentNode</code>/<code title="">childNodes</code>
	relationship).</p>
	<p class=" KR" lang="KR">어떤 요소나 속성이 <strong>무시되었다</strong> 라고 선언되거나, 다른 값으로 취급되거나, 또는 어떤 다른 것이었던 것처럼 다루어진다면, 이러한 것은 요소가 DOM 노드에 존재한 다음의 이야기입니다. 사용자 에이전트는 이러한 상황에서 DOM을 변형시켜서는 안됩니다.</p>
	<p class=" smallEn" lang="EN">When it is stated that some element or attribute is <dfn id="ignore" title="ignore">ignored</dfn>, or treated as some other value, or
	handled as if it was something else, this refers only to the
	processing of the node after it is in the DOM. <span class="impl">A
	user agent must not mutate the DOM in such situations.</span></p>
	<p class=" KR" lang="KR"><strong>텍스트 노드</strong> 라는 단어는 CDATASections 노드를 포함한 모든 텍스트를 말합니다. 좀 더 구체적으로, 이것은 TEXT_NODE 타입이거나 CDATA_SECTION_NODE 타입인 모든 노드를 말합니다.</p>
	<p class=" smallEn" lang="EN">The term <dfn id="text-node">text node</dfn> refers to any <code>Text</code>
	node, including <code>CDATASection</code> nodes; specifically, any
	<code>Node</code> with node type <code title="">TEXT_NODE</code> (3)
	or <code title="">CDATA_SECTION_NODE</code> (4). <a href="http://www.clearboth.org/html5/references.html#refsDOMCORE">[DOMCORE]</a></p>
	<p class=" KR" lang="KR">내용의 속성이 <strong>바뀌었다</strong> 라고 표현하는 것은, 오직 그 새로운 값이 이전의 값과 다른 경우 뿐입니다. 이미 존재하는 값의 속성 이름을 설정하는 것은 그것을 바꾸는 것이 아닙니다.</p>
	<p class=" smallEn" lang="EN">A content attribute is said to <dfn title="">change</dfn> value
	only if its new value is different than its previous value; setting
	an attribute to a value it already has does not change it.</p>

	<h4 id="scripting-0"><span class="secno">2.1.4 </span>Scripting</h4>
	<p class=" KR" lang="KR">"a Foo 객체" 라는 구조는, Foo 가 실제로는 인터페이스 일 경우, 좀 더 정확한 표현인 "인터페이스 Foo를 이행하는 객체" 라는 표현 대신 사용되기도 합니다.</p>
	<p class=" smallEn" lang="EN">The construction "a <code>Foo</code> object", where
	<code>Foo</code> is actually an interface, is sometimes used instead
	of the more accurate "an object implementing the interface
	<code>Foo</code>".</p>
	<p class=" KR" lang="KR">DOM 속성이 그 값을 전달받고 있을 때(스크립트 등을 통해) 속성을 <strong>갖게 되고 있다</strong> 라고 하며, 새로운 값이 설정되었을때 <strong>세팅되었다</strong> 고 말합니다.</p>
	<p class=" smallEn" lang="EN">A DOM attribute is said to be <dfn title="">getting</dfn> when its value is
	being retrieved (e.g. by author script), and is said to be
	<dfn title="">setting</dfn> when a new value is assigned to it.</p>
	<p class=" KR" lang="KR">DOM 객체가 <strong>살아있다</strong> 라고 표현한다면, 해당 객체를 반환하는 속성은 항상 반드시 동일한 객체(매번 새로운 객체가 아닌)을 반환해야 합니다. 또한 그 객체의 속성과 메서드는 실제 데이터를 조작해야 하며, 데이터의 스냅샷을 조작해서는 안됩니다.</p>
	<p class=" smallEn" lang="EN">If a DOM object is said to be <dfn id="live">live</dfn>, then that means
	that any attributes returning that object <span class="impl">must</span> always return the same object (not a new
	object each time), and the attributes and methods on that object
	<span class="impl">must</span> operate on the actual underlying
	data, not a snapshot of the data.</p>
	<p class=" KR" lang="KR"><strong>발사<sub>fire</sub></strong> 와 <strong>발송<sub>dispatch</sub></strong> 라는 단어는 이벤트의 문맥 내에서 혼용됩니다.</p>
	<p class=" smallEn" lang="EN">The terms <dfn title="">fire</dfn> and <dfn title="">dispatch</dfn> are used
	interchangeably in the context of events, as in the DOM Events
	specifications. <a href="http://www.clearboth.org/html5/references.html#refsDOMEVENTS">[DOMEVENTS]</a></p>

	<h4 id="plugins"><span class="secno">2.1.5 </span>Plugins</h4>
	<p class=" KR" lang="KR"><strong>플러그인</strong> 이라는 단어는 사용자 에이전트 자체적으로는 지원되지 않거나 DOM 을 드러내지 않는 웹 컨텐츠 타입을, 사용자 에이전트의 인터페이스 내부에서 렌더링하는 핸들러 전체를 의미합니다.</p>
	<p class=" smallEn" lang="EN">The term <dfn id="plugin">plugin</dfn> is used to mean any content handler
	for Web content types that are either not supported by the user
	agent natively or that do not expose a DOM, which supports rendering
	the content as part of the user agent's interface.</p>
	<p class=" KR" lang="KR">일반적으로 이러한 핸들러들은 써드파티에서 제공됩니다.</p>
	<p class=" smallEn" lang="EN">Typically such content handlers are provided by third
	parties.</p>
	<div class="example">
		<p class=" KR" lang="KR">이
러한 플러그인의 한가지 예를 들자면, 사용자가 PDF 파일에 접근했을때 그것을 브라우징 문맥 내에서 처리해주는 PDF 뷰어를
예로 들 수 있습니다. 이러한 경우, PDF 뷰어를 제작한 벤더가 브라우저 벤더와 동일하다고 하더라도 마찬가지로 플러그인으로
간주합니다. 반대로, 사용자 에이전트와는 별도의 창을 띄워 PDF 파일을 표시해주는 프로그램은 이 정의에서는 플러그인으로
간주하지 않습니다.</p>
		<p class=" smallEn" lang="EN">One example of a plugin would be a PDF viewer
		that is instantiated in a <a href="http://www.clearboth.org/html5/browsers.html#browsing-context">browsing context</a>
when the user navigates to a PDF file. This would count as a plugin
regardless of whether the party that implemented the PDF viewer
component was the same as that which implemented the user agent itself.
However, a PDF viewer application that launches separate from the user
agent (as opposed to using the same interface) is not a plugin by this
definition.</p>
	</div>
	<div class="note">
	<p class=" KR" lang="KR">이
명세서에서는 플러그인과 상호작용하는 메카니즘에 대해서는 정의하지 않습니다. 그것은 사용자 에이전트의 몫이며 운영체제에 따라
다르기 때문입니다. 일부 사용자 에이전트는 넷스케이프의 플러그인 API와 같은 것을 선택할 수 있으며, 다른 일부는 내용 형식을
변화시키는 방법을 차용할수도 있고 또는 몇가지 타입에 대해 내장된 지원을 선택할수도 있습니다.</p>
	<p class=" smallEn" lang="EN">This specification does not define a mechanism for
	interacting with plugins, as it is expected to be user-agent- and
	platform-specific. Some UAs might opt to support a plugin mechanism
	such as the Netscape Plugin API; others might use remote content
	converters or have built-in support for certain types. <a href="http://www.clearboth.org/html5/references.html#refsNPAPI">[NPAPI]</a></p>
	</div>
	<p class="warning KR" lang="KR">브
라우저는 플러그인을 사용하는 외부 컨텐츠를 다룰 때 극도의 주의를 기울여야 합니다. 써드파티 프로그램이 사용자 에이전트 자신과
같은 권한을 가지고 실행될 때, 이러한 써드파티 프로그램의 취약점은 사용자 에이전트 자신의 취약점인것처럼 위험할 수 있습니다.</p>
	<p class="warning smallEn" lang="EN">Browsers should take extreme care when
	interacting with external content intended for <a href="http://www.clearboth.org/html5/infrastructure.html#plugin" title="plugin">plugins</a>. When third-party software is run with
	the same privileges as the user agent itself, vulnerabilities in the
	third-party software become as dangerous as those in the user
	agent.</p>

	<h4 id="character-encodings"><span class="secno">2.1.6 </span>Character encodings</h4>
	<p class="kip">역자의 지식이 부족하여 이 절은 전혀 이해하지 못하였으므로 원문 그대로를 남겨 둡니다. 또한, 원본 내의 html 주석에는 이 절의 내용이 곧 변경될 수 있음을 암시하는 표현이 있음을 알려드립니다.</p>
	<p>An <dfn id="ascii-compatible-character-encoding">ASCII-compatible character encoding</dfn> is a
	single-byte or variable-length encoding in which the bytes 0x09,
	0x0A, 0x0C, 0x0D, 0x20 - 0x22, 0x26, 0x27, 0x2C - 0x3F, 0x41 - 0x5A,
	and 0x61 - 0x7A<!-- is that list ok? do any character sets we want
	to support do things outside that range?  -->, ignoring bytes that
	are the second and later bytes of multibyte sequences, all
	correspond to single-byte sequences that map to the same Unicode
	characters as those bytes in ANSI_X3.4-1968 (US-ASCII). <a href="http://www.clearboth.org/html5/references.html#refsRFC1345">[RFC1345]</a></p>
	<p></p>
	<p class="note">This includes such encodings as Shift_JIS and
	variants of ISO-2022, even though it is possible in these encodings
	for bytes like 0x70 to be part of longer sequences that are
	unrelated to their interpretation as ASCII. It excludes such
	encodings as UTF-7, UTF-16, HZ-GB-2312, GSM03.38, and EBCDIC
	variants.</p>
	<!--
	We'll have to change that if anyone comes up with a way to have a
	document that is valid as two different encodings at once, with
	different <meta charset> elements applying in each case.
	-->

	<h3 id="conformance-requirements"><span class="secno">2.2 </span>Conformance requirements</h3><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p>
	<p class=" KR" lang="KR">다른 모든 섹션들에서 명시적으로 표현된 것과 같이, 이 명세서에 사용된 모든 다이어그램, 예제, 노트들은 규범이 아닙니다. 그 외의 모든것들은 규정된 것입니다.</p>
	<p class=" smallEn" lang="EN">All diagrams, examples, and notes in this specification are
	non-normative, as are all sections explicitly marked non-normative.
	Everything else in this specification is normative.</p>
	<p class=" KR" lang="KR">이
문서의 규정된 부분에서 "해야 한다", "하지 말아야 한다", "요구된다", "권고한다", "하지 않기를 권고한다",
"권한다", "해도 된다" 라는 표현들은 RFC2119에서 정의한 내용대로 해석되어야 합니다. 가독성을 위해, 이러한 단어들은
명세서에서 대문자로 기재하지는 않고 있습니다.</p>
	<p class=" smallEn" lang="EN">The key words "MUST", "MUST NOT", "REQUIRED", <!--"SHALL", "SHALL
	NOT",--> "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
	"OPTIONAL" in the normative parts of this document are to be
	interpreted as described in RFC2119. For readability, these words do
	not appear in all uppercase letters in this specification. <a href="http://www.clearboth.org/html5/references.html#refsRFC2119">[RFC2119]</a></p>
	<p class="kip">RFC2119의 내용은 HTML 4 명세서 번역 과정에서 <a href="http://html401.clearboth.org/conform.html" target="_blank">번역한 것</a>이 있으므로, 이 내용이 궁금하신 분은 참고하시기 바랍니다.</p>
	<p class=" KR" lang="KR">알
고리즘("문자열 시작부분의 공백을 모두 없애시오", 또는 "false를 반환하고 모든 단계를 취소하시오")에 포함된 요구사항들은
키워드("해야 한다", "권고한다", "해도 된다" 등)의 의미대로 해석되어야 하며 알고리즘을 소개할 때에도 그렇게 해야 합니다.</p>
	<p class="impl smallEn" lang="EN">Requirements phrased in the imperative as part of
	algorithms (such as "strip any leading space characters" or "return
	false and abort these steps") are to be interpreted with the meaning
	of the key word ("must", "should", "may", etc) used in introducing
	the algorithm.</p>
	<p class=" KR" lang="KR">이 명세서에서는 사용자 에이전트(제작자와 관련됩니다) 및 문서(문서 저자, 저작도구 제작자와 관련됩니다)의 준수 사항에 관하여 기술하고 있습니다. </p>
	<p class=" smallEn" lang="EN">This specification describes the conformance criteria for <span class="impl">user agents (relevant to implementors) and</span>
	documents<span class="impl"> (relevant to authors and authoring tool
	implementors)</span>.</p>
	<div class="note impl">
	<p class=" KR" lang="KR">문
서가 준수해야 할 요구사항과, 사용자 에이전트가 준수해야 할 요구사항에는 아무런 묵시적인 연계도 없습니다. 사용자 에이전트가,
이 명세의 준수사항을 벗어나는 문서를 마음대로 다룰 권리를 갖지는 않습니다; 이 명세에서 제시하는 처리 모델은 문서가 요구사항을
준수하였는지의 여부에 관계 없이 적용되어야 합니다.</p>
	<p class=" smallEn" lang="EN">There is no implied relationship between
	document conformance requirements and implementation conformance
	requirements. User agents are not free to handle non-conformant
	documents as they please; the processing model described in this
	specification applies to implementations regardless of the
	conformity of the input documents.</p>
	</div>
	<div class="impl">

	<!-- put this list into its own section -->
	<p class=" KR" lang="KR">사용자 에이전트는 몇가지(곂치는) 준수 사항 카테고리의 적용을 받습니다.</p>

	<p class=" smallEn" lang="EN">User agents fall into several (overlapping) categories with
	different conformance requirements.</p>

	<dl><dt id="interactive">Web browsers and other interactive user agents</dt>

	<dd>
	<p class=" KR" lang="KR">XHTML
문법을 지원하는 웹 브라우저는, 사용자가 요소 및 속성과 상호작용 할 수 있도록, XML 문서에 존재하는 요소와 속성에 대해
HTML 네임스페이스에 준하여 처리해야 합니다. 요소의 의미가 다른 명세에 의해 덮어 써 지는 경우는 예외로 합니다.</p>
	<p class=" smallEn" lang="EN">Web browsers that support <a href="http://www.clearboth.org/html5/the-xhtml-syntax.html#the-xhtml-syntax">the XHTML syntax</a> must
	process elements and attributes from the <a href="http://www.clearboth.org/html5/syntax.html#html-namespace-0">HTML
	namespace</a> found in XML documents as described in this
	specification, so that users can interact with them, unless the
	semantics of those elements have been overridden by other
	specifications.</p>
	<div class="example">
	<p class=" KR" lang="KR">명
세서 사양을 준수하는 XHTML 프로세서는, XML 문서에서 XHTML 스크립트 요소를 발견하였을 때 이것을 실행할 수
있습니다. 그러나, 만약 요소가 XSLT로 표현된 변환 속에서 발견된다면, 프로세서는 스크립트 요소를 변환에 관계된 불투명한
요소로 취급할 것입니다.</p>
	<p class=" smallEn" lang="EN">A conforming XHTML processor would, upon
	finding an XHTML <code><a href="http://www.clearboth.org/html5/semantics.html#script">script</a></code> element in an XML document,
	execute the script contained in that element. However, if the
	element is found within a transformation expressed in XSLT
	(assuming the user agent also supports XSLT), then the processor
	would instead treat the <code><a href="http://www.clearboth.org/html5/semantics.html#script">script</a></code> element as an opaque
	element that forms part of the transform.</p>
	</div>
	<p class=" KR" lang="KR">HTML 문법을 지원하는 웹 브라우저는 text/html 로 명명된 문서를 이 명세에서 설명하는대로 처리해야 합니다.</p>
	<p class=" smallEn" lang="EN">Web browsers that support <a href="http://www.clearboth.org/html5/syntax.html#syntax">the HTML syntax</a> must
	process documents labeled as <code><a href="http://www.clearboth.org/html5/iana-considerations.html#text-html">text/html</a></code> as described
	in this specification, so that users can interact with them.</p>
	<p class=" KR" lang="KR">스크립팅을 지원하는 사용자 에이전트는, 반드시 웹 IDL 명세에 설명된대로, 이 명세서의 IDL 규정을 준수하여야 합니다.</p>
	<p class=" smallEn" lang="EN">User agents that support scripting must also be conforming
	implementations of the IDL fragments in this specification, as
	described in the Web IDL specification. <a href="http://www.clearboth.org/html5/references.html#refsWEBIDL">[WEBIDL]</a></p>

	</dd>

	<dt id="non-interactive">Non-interactive presentation user agents</dt>

	<dd>
	<p class=" KR" lang="KR">순수하게 비상호작용적인 HTML, XHTML 문서만을 렌더링하는 사용자 에이전트의 경우에도, 사용자와의 상호작용에 관한 요구사항이 면제될 뿐 웹 브라우저의 준수사항과 동일한 것을 지켜야 합니다. </p>
	<p class=" smallEn" lang="EN">User agents that process HTML and XHTML documents purely to
	render non-interactive versions of them must comply to the same
	conformance criteria as Web browsers, except that they are exempt
	from requirements regarding user interaction.</p>
	<div class="note">
	<p class=" KR" lang="KR">이
러한 비 상호작용적 사용자 에이전트로는 프린터(정적 사용자 에이전트) 혹은 overhead display(동적 사용자 에이전트)
등을 들 수 있습니다. 이러한 정적이고 비 상호작용적 사용자 에이전트는 또한 스크립트에 대한한 지원 역시 없을 것이라 간주합니다.</p>
	<p class=" smallEn" lang="EN">Typical examples of non-interactive presentation
	user agents are printers (static UAs) and overhead displays
	(dynamic UAs). It is expected that most static non-interactive
	presentation user agents will also opt to <a href="http://www.clearboth.org/html5/infrastructure.html#non-scripted">lack scripting support</a>.</p>
	</div>
	<div class="example">
	<p class=" KR" lang="KR">비
상호작용적이지만 동적인 사용자 에이전트는 스크립트를 실행할 수 있으며, 폼이 동적으로 제출되도록 할 수 있고, 기타 다른 기능을
가질 수 있습니다. 그러나, "포커스" 의 컨셉에서 보면 사용자가 문서와 상호작용하는 것이 불가능하므로, 이러한 사용자
에이전트는 포커스와 연관된 DOM API를 지원할 수 없을 것입니다.</p>
	<p class=" smallEn" lang="EN">A non-interactive but dynamic presentation UA
	would still execute scripts, allowing forms to be dynamically
	submitted, and so forth. However, since the concept of "focus" is
	irrelevant when the user cannot interact with the document, the UA
	would not need to support any of the focus-related DOM APIs.</p>
	</div>
	</dd>

	<dt><dfn id="non-scripted">User agents with no scripting support</dfn></dt>

	<dd>
	<p class=" KR" lang="KR">스
크립트를 지원하지 않는(또는 완전히 비활성화시킨) 사용자 에이전트의 경우 이 명세서에서 언급하는 DOM 인터페이스와 이벤트의
지원을 면제 받습니다. 이 명세서에서 다루는 이벤트 모델이나 DOM의 개념들에 대해서는, 그러한 사용자 에이전트는 DOM이 마치
지원되는 것 처럼 행동해야 합니다.</p>
	<p class=" smallEn" lang="EN">Implementations that do not support scripting (or which have
	their scripting features disabled entirely) are exempt from
	supporting the events and DOM interfaces mentioned in this
	specification. For the parts of this specification that are
	defined in terms of an events model or in terms of the DOM, such
	user agents must still act as if events and the DOM were
	supported.</p>
	<div class="note">
	<p class=" KR" lang="KR">스크립트는 어플리케이션의 절대적인 부분을 차지할 수 있습니다. 스크립팅을 지원하지 않는 웹 브라우저, 혹은 스크립팅이 비활성화된 웹 브라우저는 저자의 의도를 완전히 표현하지 못할 수 있습니다.</p>
	<p class=" smallEn" lang="EN">Scripting can form an integral part of an
	application. Web browsers that do not support scripting, or that
	have scripting disabled, might be unable to fully convey the
	author's intent.</p>
	</div>
	</dd>

	<dt>Conformance checkers</dt>

	<dd id="conformance-checkers">
	<p class=" KR" lang="KR">준
수사항 검사기는 문서가 이 명세에 설명된 준수사항 카테고리에 일정부분 부합하는지 검증할 수 있어야 합니다. 자동화된 준수사항
검사기는 저자의 의도를 해석할 필요는 없습니다. 예를 들어, blockquote 요소를 인용 목적으로 사용하지 않고 다른 의도로
사용하였다면 이 문서는 요구사항을 준수하지 않은 것이지만, 사람이 수동으로 검증하지 않을 경우 검사기는 blockquote
요소가 실제로 인용된 문구만을 포함하는지를 검사하지 않아도 됩니다.</p>
	<p class=" smallEn" lang="EN">Conformance checkers must verify that a document conforms to
	the applicable conformance criteria described in this
	specification. Automated conformance checkers are exempt from
	detecting errors that require interpretation of the author's
	intent (for example, while a document is non-conforming if the
	content of a <code><a href="http://www.clearboth.org/html5/semantics.html#the-blockquote-element">blockquote</a></code> element is not a quote,
	conformance checkers running without the input of human judgement
	do not have to check that <code><a href="http://www.clearboth.org/html5/semantics.html#the-blockquote-element">blockquote</a></code> elements only
	contain quoted material).</p>
	<p class=" KR" lang="KR">준
수사항 검사기는 입력된 문서가 브라우징 문맥에서 분리된 상태(아무런 스크립트도 동작하지 않고, 파서의 스크립팅 플랙이 비활성화
된 상태)는 반드시 체크해야 하며, 또한 입력된 문서를 브라우징 문맥 내에서, 스크립트가 실행되는 상태에서 스크립트의 결과로
준수사항을 벗어나지 않는지 체크하기를 권고합니다. (이것은 "권고" 이지 "반드시" 가 아닙니다. 이것을 완전히 준수하는 것은
불가능한 것으로 결론지어졌습니다)</p>
	<p class=" smallEn" lang="EN">Conformance checkers must check that the input document
	conforms when parsed without a <a href="http://www.clearboth.org/html5/browsers.html#browsing-context">browsing context</a>
	(meaning that no scripts are run, and that the parser's
	<a href="http://www.clearboth.org/html5/syntax.html#scripting-flag">scripting flag</a> is disabled), and should also check
	that the input document conforms when parsed with a <a href="http://www.clearboth.org/html5/browsers.html#browsing-context">browsing
	context</a> in which scripts execute, and that the scripts
	never cause non-conforming states to occur other than transiently
	during script execution itself. (This is only a "SHOULD" and not a
	"MUST" requirement because it has been proven to be impossible. <a href="http://www.clearboth.org/html5/references.html#refsCOMPUTABLE">[COMPUTABLE]</a>)</p>
	<p class=" KR" lang="KR">"HTML 5 유효성 검사기" 라는 단어는 이 명세의 요구사항을 준수하는 준수사항 검사기를 지칭할 수 있습니다.</p>
	<p class=" smallEn" lang="EN">The term "HTML5 validator" can be used to refer to a
	conformance checker that itself conforms to the applicable
	requirements of this specification.</p>

	<div class="note">
	<p class=" KR" lang="KR">XMD
DTD들은 이 명세의 모든 준수사항을 표현할 수 없습니다. 따라서, XML 유효성 검사기와 DTD는 준수사항 검사기를 구성할 수
없습니다. 또한, 이 명세서에서 정의하는 두가지 중 아무것도 SGML 응용 프로그램이 아니므로, SGML 유효성 검사기는
준수사항 검사기를 구성할 수 없습니다.</p>
	<p class=" smallEn" lang="EN">XML DTDs cannot express all the conformance requirements of
	this specification. Therefore, a validating XML processor and a
	DTD cannot constitute a conformance checker. Also, since neither
	of the two authoring formats defined in this specification are
	applications of SGML, a validating SGML system cannot constitute
	a conformance checker either.</p>
	<p class=" KR" lang="KR">다르게 표현한다면, 준수사항은 세가지로 분류할 수 있습니다:</p>
	<p class=" smallEn" lang="EN">To put it another way, there are three types of conformance
	criteria:</p>

	<ol>
	<li class=" KR" lang="KR">DTD로 표현될 수 있는 기준<span class=" smallEn" lang="EN">Criteria that can be expressed in a DTD.</span></li>	
	
	<li class=" KR" lang="KR">DTD로 표현될 수 없지만, 기계로 체크할 수 있는 기준<span class=" smallEn" lang="EN">Criteria that cannot be expressed by a DTD, but can still be checked by a machine.</span></li>
	

	<li class=" KR" lang="KR">사람이 체크할수밖에 없는 기준<span class=" smallEn" lang="EN">Criteria that can only be checked by a human.</span></li>	

	</ol>
	<p class=" KR" lang="KR">준수사항 검사기는 위의 두가지 기준을 반드시 체크해야 합니다. 단순히 DTD에 기초한 유효성 검사기는 첫번째 기준의 에러밖에는 알 수 없고, 따라서 이 명세의 기준에 부합하는 준수사항 검사기라 할 수 없습니다.</p>
	<p class=" smallEn" lang="EN">A conformance checker must check for the first two. A simple
	DTD-based validator only checks for the first class of errors and
	is therefore not a conforming conformance checker according to
	this specification.</p>

	</div>
	</dd>

	<dt>Data mining tools</dt>

	<dd id="data-mining">
	<p class=" KR" lang="KR">HTML과 XHTML 문서를, 문서의 표현이나 준수사항 검사 이외의 의도로 처리하고자 하는 프로그램과 도구들은 해당 문서의 의미에 맞게 행동하여야 합니다.</p>
	<p class=" smallEn" lang="EN">Applications and tools that process HTML and XHTML documents
	for reasons other than to either render the documents or check
	them for conformance should act in accordance with the semantics
	of the documents that they process.</p>
	<div class="example">
	<p class=" KR" lang="KR">문서의 개요를 생성하지만, 개별 섹션의 중첩수준을 증가시키지 않고 개별 문단의 중첩수준을 증가시키는 툴은 준수사항에 부합하지 않는다 할 수 있습니다.</p>
	<p class=" smallEn" lang="EN">A tool that generates <a href="http://www.clearboth.org/html5/semantics.html#outline" title="outline">document outlines</a> but increases the nesting
	level for each paragraph and does not increase the nesting level
	for each section would not be conforming.</p>
	</div>
	</dd>

	<dt id="editors">Authoring tools and markup generators</dt>

	<dd>
	<p class=" KR" lang="KR">저작도구와 마크업 생성기는 기준에 부합하는 문서를 생성해야 합니다. 저자들이 지켜야 하는 준수사항 기준은 저작도구 역시 가능하다면 지켜야 합니다.</p>
	<p class=" smallEn" lang="EN">Authoring tools and markup generators must generate conforming
	documents. Conformance criteria that apply to authors also apply
	to authoring tools, where appropriate.</p>
	<p class=" KR" lang="KR">저작도구들은 요소의 사용에 있어, 특정한 목적으로만 사용하도록 하는 엄격한 요구 사항은 면제받습니다.  그러나 이러한 면제사항은 저작도구가 저자의 의도를 유추하는것이 불가능한 경우에 한합니다.</p>
	<p class=" smallEn" lang="EN">Authoring tools are exempt from the strict requirements of
	using elements only for their specified purpose, but only to the
	extent that authoring tools are not yet able to determine author
	intent.</p>
	<div class="example">
	<p class=" KR" lang="KR">예
를 들어, 임의의 연락처를 기재하기 위해 address 요소를 사용하는 것은 이 명세의 준수사항을 위반하는 것입니다;
address 요소는 문서, 혹은 섹션의 저자에게 연락할 수 있는 정보를 마크업 하는 용도로만 사용하여야 합니다. 그러나,
저작도구는 이러한 차이를 구분할 수 없으므로, 저작도구는 이러한 엄격한 준수사항의 예외가 됩니다.</p>
	<p class=" smallEn" lang="EN">For example, it is not conforming to use an
	<code><a href="http://www.clearboth.org/html5/semantics.html#the-address-element">address</a></code> element for arbitrary contact information;
	that element can only be used for marking up contact information
	for the author of the document or section. However, since an
	authoring tool is likely unable to determine the difference, an
	authoring tool is exempt from that requirement.</p></div>
	<div class="note">
	<p class=" KR" lang="KR">준수사항 체크의 관점에서, 편집기는 준수사항 검사기가 검증할 내용과 동일한 기준에 부합하는 문서를 만들 것을 요구받습니다.</p>
	<p class=" smallEn" lang="EN">In terms of conformance checking, an editor is
	therefore required to output documents that conform to the same
	extent that a conformance checker will verify.</p></div>
	<p class=" KR" lang="KR">저
작도구를 사용해서 기준에 부합하지 않는 문서를 편집하는 경우, 해당 저작도구를 이용해서 편집하지 않은 섹션은 여전히 에러를
포함하고 있을 수 있습니다. 그러나, 이러한 에러가 보존된 경우 저작도구는 문서가 기준에 부합함을 주장할 수 없습니다.</p>
	<p class=" smallEn" lang="EN">When an authoring tool is used to edit a non-conforming
	document, it may preserve the conformance errors in sections of
	the document that were not edited during the editing session
	(i.e. an editing tool is allowed to round-trip erroneous
	content). However, an authoring tool must not claim that the
	output is conformant if errors have been so preserved.</p>
	<p class=" KR" lang="KR">저작도구는 크게 두가지 범주 안에 속할 것으로 간주합니다: 문서의 구조/의미적 데이터 위에서 작업하는 툴과, 위지윅 기반의 도구입니다.</p>
	<p class=" smallEn" lang="EN">Authoring tools are expected to come in two broad varieties:
	tools that work from structure or semantic data, and tools that
	work on a What-You-See-Is-What-You-Get media-specific editing
	basis (WYSIWYG).</p>
	<p class=" KR" lang="KR">HTML로 문서를 작성하는 저자들에게 있어서는 전자의 메카니즘을 가진 툴을 더 추천할 만 합니다. 정보의 소스에 포함된 구조들을 통해 어떠한 HTML요소와 속성이 가장 적합한지 판단할 정보를 제공하기 때문입니다.</p>
	<p class=" smallEn" lang="EN">The former is the preferred mechanism for tools that author
	HTML, since the structure in the source information can be used to
	make informed choices regarding which HTML elements and attributes
	are most appropriate.</p>
	<p class=" KR" lang="KR">물
론, 위지윅 툴 들 역시 정당합니다. 위지윅 툴은 적당하다고 판단되는 요소를 사용하여야 하며, 적절한지 아닌지 판단할 수 없는
요소는 사용하지 말아야 합니다. 특히, div, span, b, i 같은 요소를 남용하여서는 안되며, style 속성에 대해
너무 관대한 것도 좋지 않습니다.</p>
	<p class=" smallEn" lang="EN">However, WYSIWYG tools are legitimate. WYSIWYG tools should use
	elements they know are appropriate, and should not use elements
	that they do not know to be appropriate. This might in certain
	extreme cases mean limiting the use of flow elements to just a few
	elements, like <code><a href="http://www.clearboth.org/html5/interactive-elements.html#the-div-element">div</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-b-element">b</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-i-element">i</a></code>,
	and <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-span-element">span</a></code> and making liberal use of the <code title="attr-style"><a href="http://www.clearboth.org/html5/dom.html#the-style-attribute">style</a></code> attribute.</p>
	<p class=" KR" lang="KR">모든 저작도구는, 그것이 위지윅 방식이든 아니든 간에, 사용자가 잘 구조화되고, 의미적으로 풍부하며, 매체에 구애받지 않는 내용을 작성할 수 있도록 최선의 노력을 해야 합니다.</p>
	<p class=" smallEn" lang="EN">All authoring tools, whether WYSIWYG or not, should make a best
	effort attempt at enabling users to create well-structured,
	semantically rich, media-independent content.</p>

	</dd>

	</dl>
	<p class=" KR" lang="KR">몇
몇 요구사항들은 요소, 속성, 메서드, 혹은 객체에 개별적인 것으로 표시됩니다. 이러한 요구사항들은 두가지 분류 중 하나입니다:
내용 모델의 제한사항을 설명하는 것이거나, 혹은 사용자 에이전트의 동작을 설명하는 것입니다. 전자의 분류에 속하는 것들은 문서,
혹은 저작도구에 대한 것입니다. 두번째 분류에 속하는 것은 사용자 에이전트에 대한 요구사항입니다. </p>
	<p class=" smallEn" lang="EN">Some conformance requirements are phrased as requirements on
	elements, attributes, methods or objects. Such requirements fall
	into two categories: those describing content model restrictions,
	and those describing implementation behavior. Those in the former
	category are requirements on documents and authoring tools. Those in
	the second category are requirements on user agents.</p>
	<p class=" KR" lang="KR">알
고리즘, 혹은 특정 단계에 대한 요구사항은, 그 결과물이 동일하다면 구현 방법에 대해서는 구애받지 않아도 됩니다. (특히, 이
명세서에서 정의하는 알고리즘은 구현의 편이성에 초점을 맞추고 있으며 그 성능은 염두에 두지 않고 있습니다.)</p>
	<p class=" smallEn" lang="EN">Conformance requirements phrased as algorithms or specific steps
	may be implemented in any manner, so long as the end result is
	equivalent. (In particular, the algorithms defined in this
	specification are intended to be easy to follow, and not intended to
	be performant.)</p>
	<p class=" KR" lang="KR">사용자 에이전트는 몇가지 경우에 자신에게 특화된 제한사항을 부가할 수 있습니다. 예를 들어, 서비스 거부 공격을 막기 위해서라든가, 메모리 고갈을 방지하기 위해서, 또는 운영체제에 종속된 제한사항을 해결하기 위한 경우 등입니다.</p>
	<p class=" smallEn" id="hardwareLimitations" lang="EN">User agents may impose
	implementation-specific limits on otherwise unconstrained inputs,
	e.g. to prevent denial of service attacks, to guard against running
	out of memory, or to work around platform-specific limitations.</p>
	</div>
	<p class=" KR" lang="KR">현
존하는 컨텐츠, 그리고 기존의 명세에 호환되기 위하여, 이 명세는 두가지 저작 포맷을 설명합니다: 하나는 XML에 기초한
것(XHTML 문법이라 지칭합니다)이고, 다른 하나는 SGML에 기초한 커스텀 포맷(HTML 문법이라 지칭합니다)입니다. 둘
모두를 지원하기를 권장하지만, 사용자 에이전트는 이들 중 하나만을 지원해도 됩니다.</p>
	<p class=" smallEn" lang="EN">For compatibility with existing content and prior specifications,
	this specification describes two authoring formats: one based on XML
	(referred to as <a href="http://www.clearboth.org/html5/the-xhtml-syntax.html#the-xhtml-syntax">the XHTML syntax</a>), and one using a <a href="http://www.clearboth.org/html5/syntax.html#writing">custom format</a> inspired by SGML (referred to as
	<a href="http://www.clearboth.org/html5/syntax.html#syntax">the HTML syntax</a>). <span class="impl">Implementations
	may support only one of these two formats, although supporting both
	is encouraged.</span></p>
	<p class=" KR" lang="KR">HTML 네임스페이스에 기초한 요소, 혹은 속성을 사용하고 HTTP 등의 회선을 통해 서비스되는 XML 문서는 <strong>반드시</strong> application/xml 혹은 application/xthml+xml 의 마임 타입을 가져야 하며, text/html 로 전송되어서는 <strong>안됩니다</strong>.</p>
	<p class=" smallEn" id="authors-using-xhtml" lang="EN">XML documents that use elements or
	attributes from the <a href="http://www.clearboth.org/html5/syntax.html#html-namespace-0">HTML namespace</a> and that are served
	over the wire (e.g. by HTTP) must be sent using an <a href="http://www.clearboth.org/html5/infrastructure.html#xml-mime-type">XML MIME
	type</a> such as <code>application/xml</code> or
	<code><a href="http://www.clearboth.org/html5/iana-considerations.html#application-xhtml-xml">application/xhtml+xml</a></code> and must not be served as
	<code><a href="http://www.clearboth.org/html5/iana-considerations.html#text-html">text/html</a></code>. <a href="http://www.clearboth.org/html5/references.html#refsRFC3023">[RFC3023]</a></p>
	<p class=" KR" lang="KR"></p>
	<p class=" smallEn" id="authors-using-html" lang="EN">Documents that use <a href="http://www.clearboth.org/html5/syntax.html#syntax">the HTML
	syntax</a>, if they are served over the wire (e.g. by HTTP) must
	be labeled with the <code><a href="http://www.clearboth.org/html5/iana-considerations.html#text-html">text/html</a></code> <a href="http://www.clearboth.org/html5/infrastructure.html#mime-type">MIME
	type</a>.</p>
	<p class=" KR" lang="KR">이
명세에서 사용하는 언어는 사용자 에이전트가 모든 개체 참조로 확장할 것을 간주하며, 따라서 DOM의 개체 참조 노드를 포함하지
않습니다. 만약 사용자 에이전트가 DOM에 개체 참조를 포함시킨다면, 사용자 에이전트는 이 명세를 이행할 때 반드시 그러한
노드가 완전히 확장되어 있는 것 처럼 다루어야 합니다. 예를 들어, 요구사항에서 어떤 요소의 자식 텍스트 노드에 대해 말할
경우, 현재 노드의 개체 참조의 자식에 속하는 어떤 텍스트 노드라도 사용될 수 있습니다. 이 명세에서는 정의되지 않는 노드에
대한 개체 참조를 비어있는 텍스트 노드만을 포함한 것으로 간주하므로 그렇게 취급해야 합니다. </p>
	<p class="impl smallEn" id="entity-references" lang="EN">The language in this
	specification assumes that the user agent expands all entity
	references, and therefore does not include entity reference nodes in
	the DOM. If user agents do include entity reference nodes in the
	DOM, then user agents must handle them as if they were fully
	expanded when implementing this specification. For example, if a
	requirement talks about an element's child text nodes, then any text
	nodes that are children of an entity reference that is a child of
	that element would be used as well. Entity references to unknown
	entities must be treated as if they contained just an empty text
	node for the purposes of the algorithms defined in this
	specification.</p><div class="impl">

	<h4 id="dependencies"><span class="secno">2.2.1 </span>Dependencies</h4><p class="XXX annotation"><b>Status: </b><i>Last call for comments</i></p>
	<p class=" KR" lang="KR">이 명세는 몇가지 다른 명세에 기초하고 있습니다.</p>
	<p class=" smallEn" lang="EN">This specification relies on several other underlying
	specifications.</p>

	<dl><dt>XML</dt>

	<dd>
	<p class=" KR" lang="KR">XHTML 문법을 지원하는 사용자 에이전트는 XML과, 그에 대응하는 네임스페이스 명세를 반드시 함께 지원해야 합니다. XHTML 문법은 XML 직렬화 사양과 네임스페이스를 함께 사용하기 때문입니다.</p>
	<p class=" smallEn" lang="EN">Implementations that support <a href="http://www.clearboth.org/html5/the-xhtml-syntax.html#the-xhtml-syntax">the XHTML syntax</a> must
	support some version of XML, as well as its corresponding
	namespaces specification, because that syntax uses an XML
	serialization with namespaces. <a href="http://www.clearboth.org/html5/references.html#refsXML">[XML]</a> <a href="http://www.clearboth.org/html5/references.html#refsXMLNS">[XMLNS]</a></p>

	</dd>

	<dt>DOM</dt>

	<dd>
	<p class=" KR" lang="KR">문서 객체 모델(DOM)은 문서와 그 내용의 표현 - 모델 - 입니다. DOM은 단순한 API가 아니며, 이 명세에서 HTML 준수 기준은 DOM에 기초하고 있습니다.</p>
	<p class=" smallEn" lang="EN">The Document Object Model (DOM) is a representation — a
	model — of a document and its content. The DOM is not just
	an API; the conformance criteria of HTML implementations are
	defined, in this specification, in terms of operations on the DOM.
	<a href="http://www.clearboth.org/html5/references.html#refsDOMCORE">[DOMCORE]</a></p>
	<p class=" KR" lang="KR">사용자 에이전트는 DOM 코어와 DOM 이벤트를 함께 지원해야 합니다. 이 명세서는 DOM에 기초하고 있으며, 기능 중 일부는 DOM 코어 인터페이스의 확장으로서 정의되었기 때문입니다.</p>
	<p class=" smallEn" lang="EN">Implementations must support some version of DOM Core and DOM
	Events, because this specification is defined in terms of the DOM,
	and some of the features are defined as extensions to the DOM Core
	interfaces. <a href="http://www.clearboth.org/html5/references.html#refsDOMCORE">[DOMCORE]</a> <a href="http://www.clearboth.org/html5/references.html#refsDOMCORE">[DOMEVENTS]</a></p>

	</dd>

	<dt>Web IDL</dt>

	<dd>
	<p class="kip">IDL 에 대해서는 전혀 아는 바가 없으므로 원문 그대로를 남겨둡니다.</p>
	<p>The IDL fragments in this specification must be interpreted as
	required for conforming IDL fragments, as described in the Web IDL
	specification. <a href="http://www.clearboth.org/html5/references.html#refsWEBIDL">[WEBIDL]</a></p>
	<p id="float-nan">Unless otherwise specified, if a DOM attribute
	that is a floating point number type (<code title="">float</code>)
	is assigned an Infinity or Not-a-Number (NaN) value, a
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#not_supported_err">NOT_SUPPORTED_ERR</a></code> exception must be raised.</p>
	<p></p>
	<p>Unless otherwise specified, if a method with an argument that
	is a floating point number type (<code title="">float</code>) is
	passed an Infinity or Not-a-Number (NaN) value, a
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#not_supported_err">NOT_SUPPORTED_ERR</a></code> exception must be raised.</p>

	</dd>

	<dt>JavaScript</dt>
	
	<dd>
	<p class=" KR" lang="KR">이 명세서에서 설명하는 언어의 일부는 스크립트 언어로 오직 자바스크립트만을 지원합니다.</p>
	<p class=" smallEn" lang="EN">Some parts of the language described by this specification only
	support JavaScript as the underlying scripting language. <a href="http://www.clearboth.org/html5/references.html#refsECMA262">[ECMA262]</a></p>
	<div class="note">
	<p class=" KR" lang="KR">이
명세서에서 "자바스크립트" 라는 단어는 공식 어휘인 ECMAScript를 지칭하는 것이 아닌, ECMA262를 말하는데,
자바스크립트라는 단어가 좀 더 보편적으로 알려져 있기 때문입니다. 이와 유사하게, 이 명세서에서 자바스크립트의 마임 타입은
RFC 4329에서 폐기되었음에도 불구하고 가장 보편적으로 사용되는 <code>text/javascript</code>를 말합니다.</p>
	<p class=" smallEn" lang="EN">The term "JavaScript" is used to refer to ECMA262,
	rather than the official term ECMAScript, since the term
	JavaScript is more widely known. Similarly, the <a href="http://www.clearboth.org/html5/infrastructure.html#mime-type">MIME
	type</a> used to refer to JavaScript in this specification is
	<code title="">text/javascript</code>, since that is the most
	commonly used type, <a href="http://www.clearboth.org/html5/introduction.html#willful-violation" title="willful violation">despite it
	being an officially obsoleted type</a> according to RFC
	4329. <a href="http://www.clearboth.org/html5/references.html#refsRFC4329">[RFC4329]</a></p></div>

	</dd>

	<dt id="mq">Media Queries</dt>

	<dd>
	<p class=" KR" lang="KR">사용자 에이전트는 반드시 미디어 쿼리 언어중 하나를 지원해야 합니다.</p>
	<p class=" smallEn" lang="EN">Implementations must support some version of the Media Queries
	language. <a href="http://www.clearboth.org/html5/references.html#refsMQ">[MQ]</a></p>

	</dd>

	</dl>
	<p class=" KR" lang="KR">이
명세서는 위에서 설명한 것들을 제외하고는 어떠한 특정한 네트워크 프로토콜, 스타일시트 언어, 스크립트 언어, DOM API,
WebAPI 명세도 지원할 것을 요구하지 않습니다. 그러나, 이 명세서에서 설명하는 스타일시트 언어는 CSS로, 스크립트 언어는
자바스크립트로, 네트워크 프로토콜은 HTTP로 편향되어 있으며, 다양한 기능들이 이러한 언어 및 프로토콜을 사용한다고 가정하고
있습니다.</p>
	<p class=" smallEn" lang="EN">This specification does not <em>require</em> support of any
	particular network transport protocols, style sheet language,
	scripting language, or any of the DOM and WebAPI specifications
	beyond those described above. However, the language described by
	this specification is biased towards CSS as the styling language,
	JavaScript as the scripting language, and HTTP as the network
	protocol, and several features assume that those languages and
	protocols are in use.</p>
	<div class="note">
	<p class=" KR" lang="KR">문자 인코딩, 이미지 포맷, 오디오 포맷, 비디오 포맷 등의 특화된 섹션에서는 별도의 요구사항을 가질 수 있습니다.</p>
	<p class=" smallEn" lang="EN">This specification might have certain additional
	requirements on character encodings, image formats, audio formats,
	and video formats in the respective sections.</p></div>

	</div><div class="impl">

	<h4 id="extensibility"><span class="secno">2.2.2 </span>Extensibility</h4><p class="XXX annotation"><span><a href="http://www.w3.org/html/wg/tracker/issues/41">ISSUE-41</a> (Decentralized-extensibility) blocks progress to Last Call</span></p>
	<p class=" KR" lang="KR">이
명세서에 제시된 사항을 특정 제작사에 기반한 확장으로 구현하지 않기를 강력히 권합니다. 문서에 그러한 확장을 사용하면
상호작용성을 감소시키고 사용자 기반을 조각내어, 특정 사용자 에이전트를 사용해야만 일부 컨텐츠에 접근할수 있게 되는 결과를
낳으므로, 그렇게 하지 말아야 합니다.</p>
	<p class=" smallEn" lang="EN">Vendor-specific proprietary extensions to this specification are
	strongly discouraged. Documents must not use such extensions, as
	doing so reduces interoperability and fragments the user base,
	allowing only users of specific user agents to access the content in
	question.</p>
	<p class=" KR" lang="KR">마
크업 확장이 필요하다면, 특화된 네임스페이스를 정의하고 그것에 맞추어 요소와 속성을 사용하는 XML 문서로 만들기를 권고합니다.
DOM 확장이 필요하다면, 이 명세의 이후 버전과 충돌하지 않도록, 제작사별로 고유한 접두사를 사용하기를 권고합니다. 확장을
제작할때는, 그 확장으로 인해 이 명세서에서 정의하는 기능성과 모순되거나, 또는 준수사항을 어기는 결과를 낳지 않도록 해야
합니다.</p>
	<p class=" smallEn" lang="EN">If markup extensions are needed, they should be done using XML,
	with elements or attributes from custom namespaces. If DOM
	extensions are needed, the members should be prefixed by
	vendor-specific strings to prevent clashes with future versions of
	this specification. Extensions must be defined so that the use of
	extensions neither contradicts nor causes the non-conformance of
	functionality defined in the specification.</p> <!-- thanks to QA
	Framework -->

	<div class="example">
	<p class=" KR" lang="KR">예를 들어서, 비록 그렇게 하지 않기를 강력히 권하고 있지만, "Foo 브라우저" 라는 사용자 에이전트가 "<code>fooTypeTime</code>"
이라는 새로운 DOM 속성을 컨트롤의 DOM 인터페이스에 추가하여, 사용자가 해당 컨트롤의 값을 선택하도록 했다고 가정합니다.
바꿔 말한다면, 새로운 컨트롤을 폼의 요소 배열에 나타나도록 정의하는 것은 위의 요구사항을 어기는 것인데, 이 명세서에서 요소를
정의한 사항을 어기는 것이기 때문입니다.</p>
	<p class=" smallEn" lang="EN">For example, while strongly discouraged from doing so, an
	implementation "Foo Browser" could add a new DOM attribute "<code title="">fooTypeTime</code>" to a control's DOM interface that
	returned the time it took the user to select the current value of a
	control (say). On the other hand, defining a new control that
	appears in a form's <code title="dom-form-elements"><a href="http://www.clearboth.org/html5/forms.html#dom-form-elements">elements</a></code>
	array would be in violation of the above requirement, as it would
	violate the definition of <code title="dom-form-elements"><a href="http://www.clearboth.org/html5/forms.html#dom-form-elements">elements</a></code> given in this
	specification.</p>

	</div>
	<p class=" KR" lang="KR">사용자 에이전트는 자신이 이해하지 못하는 요소와 속성들이 의미를 갖지 않는 것으로 취급하여는 안됩니다: 그것을 DOM에 그대로 남겨두고, CSS에 의해 스타일을 표현하여야 하며, 의미를 추측하여서는 안됩니다.</p>
	<p class=" smallEn" lang="EN">User agents must treat elements and attributes that they do not
	understand as semantically neutral; leaving them in the DOM (for DOM
	processors), and styling them according to CSS (for CSS processors),
	but not inferring any meaning from them.</p>

	</div><h3 id="case-sensitivity-and-string-comparison"><span class="secno">2.3 </span>Case-sensitivity and string comparison</h3>

<span class="collapser">show</span><div class="notyet hidden"><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p>
	<p>Comparing two strings in a <dfn id="case-sensitive">case-sensitive</dfn> manner means
	comparing them exactly, code point for code point.</p><p>Comparing two strings in an <dfn id="ascii-case-insensitive">ASCII case-insensitive</dfn>
	manner means comparing them exactly, code point for code point, except
	that the characters in the range U+0041 .. U+005A (i.e. LATIN
	CAPITAL LETTER A to LATIN CAPITAL LETTER Z) and the corresponding
	characters in the range U+0061 .. U+007A (i.e. LATIN SMALL LETTER A
	to LATIN SMALL LETTER Z) are considered to also match.</p><p>Comparing two strings in a <dfn id="compatibility-caseless">compatibility caseless</dfn>
	manner means using the Unicode <i>compatibility caseless match</i>
	operation to compare the two strings. <a href="http://www.clearboth.org/html5/references.html#refsUNICODE">[UNICODE]</a></p><div class="impl">

	<p><dfn id="converted-to-ascii-uppercase" title="converted to ASCII uppercase">Converting a string to
	ASCII uppercase</dfn> means replacing all characters in the range
	U+0061 .. U+007A (i.e. LATIN SMALL LETTER A to LATIN SMALL LETTER Z)
	with the corresponding characters in the range U+0041 .. U+005A
	(i.e. LATIN CAPITAL LETTER A to LATIN CAPITAL LETTER Z).</p>

	<p><dfn id="converted-to-ascii-lowercase" title="converted to ASCII lowercase">Converting a string to
	ASCII lowercase</dfn> means replacing all characters in the range
	U+0041 .. U+005A (i.e. LATIN CAPITAL LETTER A to LATIN CAPITAL
	LETTER Z) with the corresponding characters in the range U+0061
	.. U+007A (i.e. LATIN SMALL LETTER A to LATIN SMALL LETTER Z).</p>

	</div><p>A string <var title="">pattern</var> is a <dfn id="prefix-match">prefix match</dfn>
	for a string <var title="">s</var> when <var title="">pattern</var>
	is not longer than <var title="">s</var> and truncating <var title="">s</var> to <var title="">pattern</var>'s length leaves the
	two strings as matches of each other.</p>
</div>
	<h3 id="common-microsyntaxes"><span class="secno">2.4 </span>Common microsyntaxes</h3>

<span class="collapser">show</span><div class="notyet hidden">
	<p class="XXX annotation"><b>Status: </b><i>Working draft</i></p><p>There are various places in HTML that accept particular data
	types, such as dates or numbers. This section describes what the
	conformance criteria for content in those formats is, and how to
	parse them.</p>
	<div class="impl">
		<p class="note">Implementors
are strongly urged to carefully examine any third-party libraries they
might consider using to implement the parsing of syntaxes described
below. For example, date libraries are likely to implement error
handling behavior that differs from what is required in this
specification, since error-handling behavior is often not defined in
specifications that describe date syntaxes similar to those used in
this specification, and thus implementations tend to vary greatly in
how they handle errors.</p>
	</div><div class="impl">

	<h4 id="common-parser-idioms"><span class="secno">2.4.1 </span>Common parser idioms</h4>

	<p>The <dfn id="space-character" title="space character">space characters</dfn>, for the
	purposes of this specification, are U+0020 SPACE, U+0009 CHARACTER
	TABULATION (tab), U+000A LINE FEED (LF), U+000C FORM FEED (FF), and
	U+000D CARRIAGE RETURN (CR).</p>

	<p>The <dfn id="white_space" title="White_Space">White_Space characters</dfn> are
	those that have the Unicode property "White_Space". <a href="http://www.clearboth.org/html5/references.html#refsUNICODE">[UNICODE]</a></p>

	<p>The <dfn id="alphanumeric-ascii-characters">alphanumeric ASCII characters</dfn> are those in the
	ranges U+0030 DIGIT ZERO .. U+0039 DIGIT NINE, U+0041 LATIN CAPITAL
	LETTER A .. U+005A LATIN CAPITAL LETTER Z, U+0061 LATIN SMALL LETTER
	A .. U+007A LATIN SMALL LETTER Z.</p>

	<p>Some of the micro-parsers described below follow the pattern of
	having an <var title="">input</var> variable that holds the string
	being parsed, and having a <var title="">position</var> variable
	pointing at the next character to parse in <var title="">input</var>.</p>

	<p>For parsers based on this pattern, a step that requires the user
	agent to <dfn id="collect-a-sequence-of-characters">collect a sequence of characters</dfn> means that the
	following algorithm must be run, with <var title="">characters</var>
	being the set of characters that can be collected:</p>

	<ol><li><p>Let <var title="">input</var> and <var title="">position</var> be the same variables as those of the same
	name in the algorithm that invoked these steps.</p></li>

	<li><p>Let <var title="">result</var> be the empty string.</p></li>

	<li><p>While <var title="">position</var> doesn't point past the
	end of <var title="">input</var> and the character at <var title="">position</var> is one of the <var title="">characters</var>, append that character to the end of <var title="">result</var> and advance <var title="">position</var> to
	the next character in <var title="">input</var>.</p></li>

	<li><p>Return <var title="">result</var>.</p></li>

	</ol><p>The step <dfn id="skip-whitespace">skip whitespace</dfn> means that the user agent
	must <a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of characters</a> that are <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a>. The step <dfn id="skip-white_space-characters">skip
	White_Space characters</dfn> means that the user agent must
	<a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of characters</a> that are
	<a href="http://www.clearboth.org/html5/infrastructure.html#white_space">White_Space</a> characters. In both cases, the collected
	characters are not used. <a href="http://www.clearboth.org/html5/references.html#refsUNICODE">[UNICODE]</a></p>

	<p>When a user agent is to <dfn id="strip-line-breaks">strip line breaks</dfn> from a
	string, the user agent must remove any U+000A LINE FEED (LF) and
	U+000D CARRIAGE RETURN (CR) characters from that string.</p>

	<p>The <dfn id="code-point-length">code-point length</dfn> of a string is the number of
	Unicode code points in that string.</p>

	</div>
	<h4 id="boolean-attributes"><span class="secno">2.4.2 </span>Boolean attributes</h4>

	<p>A number of attributes are <dfn id="boolean-attribute" title="boolean attribute">boolean
	attributes</dfn>. The presence of a boolean attribute on an element
	represents the true value, and the absence of the attribute
	represents the false value.</p><p>If the attribute is present, its value must either be the empty
	string or a value that is an <a href="http://www.clearboth.org/html5/infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a>
	match for the attribute's canonical name, with no leading or
	trailing whitespace.</p><p class="note">The values "true" and "false" are not allowed on
	boolean attributes. To represent a false value, the attribute has to
	be omitted altogether.</p><h4 id="keywords-and-enumerated-attributes"><span class="secno">2.4.3 </span>Keywords and enumerated attributes</h4><p>Some attributes are defined as taking one of a finite set of
	keywords. Such attributes are called <dfn id="enumerated-attribute" title="enumerated
	attribute">enumerated attributes</dfn>. The keywords are each
	defined to map to a particular <em>state</em> (several keywords
	might map to the same state, in which case some of the keywords are
	synonyms of each other; additionally, some of the keywords can be
	said to be non-conforming, and are only in the specification for
	historical reasons). In addition, two default states can be
	given. The first is the <i>invalid value default</i>, the second
	is the <i>missing value default</i>.</p><p>If an enumerated attribute is specified, the attribute's value
	must be an <a href="http://www.clearboth.org/html5/infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for one of the
	given keywords that are not said to be non-conforming, with no
	leading or trailing whitespace.</p><p>When the attribute is specified, if its value is an <a href="http://www.clearboth.org/html5/infrastructure.html#ascii-case-insensitive">ASCII
	case-insensitive</a> match for one of the given keywords then
	that keyword's state is the state that the attribute represents. If
	the attribute value matches none of the given keywords, but the
	attribute has an <i>invalid value default</i>, then the attribute
	represents that state. Otherwise, if the attribute value matches
	none of the keywords but there is a <i>missing value default</i>
	state defined, then <em>that</em> is the state represented by the
	attribute. Otherwise, there is no default, and invalid values must
	be ignored.</p><p>When the attribute is <em>not</em> specified, if there is a
	<i>missing value default</i> state defined, then that is the state
	represented by the (missing) attribute. Otherwise, the absence of
	the attribute means that there is no state represented.</p><p class="note">The empty string can be a valid keyword.</p>
	<h4 id="numbers"><span class="secno">2.4.4 </span>Numbers</h4>

	<p class="XXX annotation"><b>Status: </b><i>First draft</i></p><h5 id="non-negative-integers"><span class="secno">2.4.4.1 </span>Non-negative integers</h5><p>A string is a <dfn id="valid-non-negative-integer">valid non-negative integer</dfn> if it
	consists of one or more characters in the range U+0030 DIGIT ZERO
	(0) to U+0039 DIGIT NINE (9).</p><p>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-non-negative-integer">valid non-negative integer</a> represents the number
	that is represented in base ten by that string of digits.</p><div class="impl">

	<p>The <dfn id="rules-for-parsing-non-negative-integers">rules for parsing non-negative integers</dfn> are as
	given in the following algorithm. When invoked, the steps must be
	followed in the order given, aborting at the first step that returns
	a value. This algorithm will either return zero, a positive integer,
	or an error. Leading spaces are ignored. Trailing spaces and any
	trailing garbage characters are ignored.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p>Let <var title="">value</var> have the value 0.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#skip-whitespace">Skip whitespace</a>.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

	<li><p>If the next character is a U+002B PLUS SIGN character (+),
	advance <var title="">position</var> to the next character.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

	<li><p>If the next character is not one of U+0030 DIGIT ZERO (0)
	.. U+0039 DIGIT NINE (9), then return an error.</p></li>

	<!-- Ok. At this point we know we have a number. It might have
	trailing garbage which we'll ignore, but it's a number, and we
	won't return an error. -->

	<li>

	<p><i>Loop</i>: If the next character is one of U+0030 DIGIT ZERO
	(0) .. U+0039 DIGIT NINE (9):</p>

	<ol><li>Multiply <var title="">value</var> by ten.</li>

	<li>Add the value of the current character (0..9) to <var title="">value</var>.</li>

	<li>Advance <var title="">position</var> to the next
	character.</li>

	<li>If <var title="">position</var> is not past the end of <var title="">input</var>, return to the top of the step labeled
	<i>loop</i> in the overall algorithm (that's the step within
	which these substeps find themselves).</li>

	</ol></li>

	<li><p>Return <var title="">value</var>.</p></li>

	</ol></div><h5 id="signed-integers"><span class="secno">2.4.4.2 </span>Signed integers</h5><p>A string is a <dfn id="valid-integer">valid integer</dfn> if it consists of one or
	more characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT
	NINE (9), optionally prefixed with a U+002D HYPHEN-MINUS ("-")
	character.</p><p>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-integer">valid integer</a> without a U+002D HYPHEN-MINUS ("-")
	prefix represents the number that is represented in base ten by that
	string of digits. A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-integer">valid integer</a> <em>with</em> a
	U+002D HYPHEN-MINUS ("-") prefix represents the number represented
	in base ten by the string of digits that follows the U+002D
	HYPHEN-MINUS, subtracted from zero.</p><div class="impl">

	<p>The <dfn id="rules-for-parsing-integers">rules for parsing integers</dfn> are similar to the
	<a href="http://www.clearboth.org/html5/infrastructure.html#rules-for-parsing-non-negative-integers" title="rules for parsing non-negative integers">rules for
	non-negative integers</a>, and are as given in the following
	algorithm. When invoked, the steps must be followed in the order
	given, aborting at the first step that returns a value. This
	algorithm will either return an integer or an error. Leading spaces
	are ignored. Trailing spaces and trailing garbage characters are
	ignored.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p>Let <var title="">value</var> have the value 0.</p></li>

	<li><p>Let <var title="">sign</var> have the value
	"positive".</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#skip-whitespace">Skip whitespace</a>.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

	<li>

	<p>If the character indicated by <var title="">position</var> (the
	first character) is a U+002D HYPHEN-MINUS ("-") character:</p>

	<ol><li>Let <var title="">sign</var> be "negative".</li>

	<li>Advance <var title="">position</var> to the next
	character.</li>

	<li>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</li>

	</ol><p>Otherwise, if the character indicated by <var title="">position</var> (the first character) is a U+002B PLUS
	SIGN character (+), then advance <var title="">position</var> to
	the next character. (The "<code title="">+</code>" is ignored, but
	it is not conforming.)</p>

	</li>

	<li><p>If the next character is not one of U+0030 DIGIT ZERO (0)
	.. U+0039 DIGIT NINE (9), then return an error.</p></li>

	<!-- Ok. At this point we know we have a number. It might have
	trailing garbage which we'll ignore, but it's a number, and we
	won't return an error. -->

	<li>

	<p>If the next character is one of U+0030 DIGIT ZERO (0) .. U+0039
	DIGIT NINE (9):</p>

	<ol><li>Multiply <var title="">value</var> by ten.</li>

	<li>Add the value of the current character (0..9) to <var title="">value</var>.</li>

	<li>Advance <var title="">position</var> to the next
	character.</li>

	<li>If <var title="">position</var> is not past the end of <var title="">input</var>, return to the top of step 9 in the overall
	algorithm (that's the step within which these substeps find
	themselves).</li>

	</ol></li>

	<li><p>If <var title="">sign</var> is "positive", return <var title="">value</var>, otherwise return the result of subtracting
	<var title="">value</var> from zero.</p></li>

	</ol></div><h5 id="real-numbers"><span class="secno">2.4.4.3 </span>Real numbers</h5><p>A string is a <dfn id="valid-floating-point-number">valid floating point number</dfn> if it
	consists of:</p><ol class="brief"><li>Optionally, a U+002D HYPHEN-MINUS ("-") character.</li>

	<li>A series of one or more characters in the range U+0030 DIGIT
	ZERO (0) to U+0039 DIGIT NINE (9).</li>

	<li>Optionally:

	<ol><li>A single U+002E FULL STOP (".") character.</li>

	<li>A series of one or more characters in the range U+0030 DIGIT
	ZERO (0) to U+0039 DIGIT NINE (9).</li>

	</ol></li>

	<li>Optionally:

	<ol><li>Either a U+0065 LATIN SMALL LETTER E character or a U+0045
	LATIN CAPITAL LETTER E character.</li>

	<li>Optionally, a U+002D HYPHEN-MINUS ("-") character or U+002B
	PLUS SIGN ("+") character.</li>

	<li>A series of one or more characters in the range U+0030 DIGIT
	ZERO (0) to U+0039 DIGIT NINE (9).</li>

	</ol></li>

	</ol><p>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-floating-point-number">valid floating point number</a> represents the number
	obtained by multiplying the significand by ten raised to the power
	of the exponent, where the significand is the first number,
	interpreted as base ten (including the decimal point and the number
	after the decimal point, if any, and interpreting the significand as
	a negative number if the whole string starts with a U+002D
	HYPHEN-MINUS ("-") character and the number is not zero), and where
	the exponent is the number after the E, if any (interpreted as a
	negative number if there is a U+002D HYPHEN-MINUS ("-") character
	between the E and the number and the number is not zero, or else
	ignoring a U+002B PLUS SIGN ("+") character between the E and the
	number if there is one). If there is no E, then the exponent is
	treated as zero.</p><p class="note">The Infinity and Not-a-Number (NaN) values are not
	<a href="http://www.clearboth.org/html5/infrastructure.html#valid-floating-point-number" title="valid floating point number">valid floating point
	numbers</a>.</p><div class="impl">

	<p>The <dfn id="best-representation-of-the-floating-point-number">best representation of the floating point number</dfn>
	<var title="">n</var> is the string obtained from applying the
	JavaScript operator ToString to <var title="">n</var>.</p>

	<p>The <dfn id="rules-for-parsing-floating-point-number-values">rules for parsing floating point number values</dfn> are
	as given in the following algorithm. This algorithm must be aborted
	at the first step that returns something. This algorithm will either
	return a number or an error. Leading spaces are ignored. Trailing
	spaces and garbage characters are ignored.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p>Let <var title="">value</var> have the value 1.</p></li>

	<li><p>Let <var title="">divisor</var> have the value 1.</p></li>

	<li><p>Let <var title="">exponent</var> have the value 1.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#skip-whitespace">Skip whitespace</a>.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

	<li>

	<p>If the character indicated by <var title="">position</var> is a
	U+002D HYPHEN-MINUS ("-") character:</p>

	<ol><li>Change <var title="">value</var> and <var title="">divisor</var> to −1.</li>

	<li>Advance <var title="">position</var> to the next
	character.</li>

	<li>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</li>

	</ol></li>

	<li><p>If the character indicated by <var title="">position</var>
	is not one of U+0030 DIGIT ZERO (0) .. U+0039 DIGIT NINE (9), then
	return an error.</p></li>

	<!-- Ok. At this point we know we have a number. It might have
	trailing garbage which we'll ignore, but it's a number, and we
	won't return an error. -->

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
	resulting sequence as a base-ten integer. Multiply <var title="">value</var> by that integer.</p></li>

	<li>If <var title="">position</var> is past the end of <var title="">input</var>, return <var title="">value</var>.</li>

	<li><p>If the character indicated by <var title="">position</var>
	is a U+002E FULL STOP ("."), run these substeps:</p>

	<ol><li><p>Advance <var title="">position</var> to the next
	character.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, or if the character indicated by <var title="">position</var> is not one of U+0030 DIGIT ZERO (0)
	.. U+0039 DIGIT NINE (9), then return <var title="">value</var>.</p></li>

	<li><p><i>Fraction loop</i>: Multiply <var title="">divisor</var>
	by ten.</p></li>

	<li>Add the value of the current character interpreted as a
	base-ten digit (0..9) divided by <var title="">divisor</var>, to
	<var title="">value</var>.</li>

	<li><p>Advance <var title="">position</var> to the next
	character.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then return <var title="">value</var>.</p></li>

	<li><p>If the character indicated by <var title="">position</var>
	is one of U+0030 DIGIT ZERO (0) .. U+0039 DIGIT NINE (9), return
	to the step labeled <i>fraction loop</i> in these
	substeps.</p></li>

	</ol></li>

	<li><p>If the character indicated by <var title="">position</var>
	is a U+0065 LATIN SMALL LETTER E character or a U+0045 LATIN
	CAPITAL LETTER E character, run these substeps:</p>

	<ol><li><p>Advance <var title="">position</var> to the next
	character.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then return <var title="">value</var>.</p></li>

	<li>

	<p>If the character indicated by <var title="">position</var> is
	a U+002D HYPHEN-MINUS ("-") character:</p>

	<ol><li>Change <var title="">exponent</var> to −1.</li>

	<li>Advance <var title="">position</var> to the next
	character.</li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then return <var title="">value</var>.</p></li>

	</ol><p>Otherwise, if the character indicated by <var title="">position</var> is a U+002B PLUS SIGN ("+")
	character:</p>

	<ol><li>Advance <var title="">position</var> to the next
	character.</li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, then return <var title="">value</var>.</p></li>

	</ol></li>

	<li><p>If the character indicated by <var title="">position</var>
	is not one of U+0030 DIGIT ZERO (0) .. U+0039 DIGIT NINE (9),
	then return <var title="">value</var>.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
	resulting sequence as a base-ten integer. Multiply <var title="">exponent</var> by that integer.</p></li>

	<li><p>Multiply <var title="">value</var> by ten raised to the
	<var title="">exponent</var>th power.</p></li>

	</ol></li>

	<li><p>Return <var title="">value</var>.</p></li>

	</ol></div><h5 id="ratios"><span class="secno">2.4.4.4 </span>Ratios</h5><p class="note">The algorithms described in this section are used by
	the <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-progress-element">progress</a></code> and <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-meter-element">meter</a></code> elements.</p><p>A <dfn id="valid-denominator-punctuation-character">valid denominator punctuation character</dfn> is one of
	the characters from the table below. There is <dfn id="values-associated-with-denominator-punctuation-characters" title="values
	associated with denominator punctuation characters">a value
	associated with each denominator punctuation character</dfn>, as
	shown in the table below.</p><table><thead><tr><th colspan="2">Denominator Punctuation Character</th>
	<th>Value</th>
	</tr></thead><tbody><tr><td>U+0025 PERCENT SIGN</td>
	<td>%</td>
	<td>100</td>
	</tr><tr><td>U+066A ARABIC PERCENT SIGN</td>
	<td>٪</td>
	<td>100</td>
	</tr><tr><td>U+FE6A SMALL PERCENT SIGN</td>
	<td>﹪</td>
	<td>100</td>
	</tr><tr><td>U+FF05 FULLWIDTH PERCENT SIGN</td>
	<td>％</td>
	<td>100</td>
	</tr><tr><td>U+2030 PER MILLE SIGN</td>
	<td>‰</td>
	<td>1000</td>
	</tr><tr><td>U+2031 PER TEN THOUSAND SIGN</td>
	<td>‱</td>
	<td>10000</td>
	</tr></tbody></table><div class="impl">

	<p>The <dfn id="steps-for-finding-one-or-two-numbers-of-a-ratio-in-a-string">steps for finding one or two numbers of a ratio in a
	string</dfn> are as follows:</p>

	<ol><li>If the string is empty, then return nothing and abort these
	steps.</li>

	<li><a href="http://www.clearboth.org/html5/infrastructure.html#find-a-number">Find a number</a> in the string according to the
	algorithm below, starting at the start of the string.</li>

	<li>If the sub-algorithm in step 2 returned nothing or returned an
	error condition, return nothing and abort these steps.</li>

	<li>Set <var title="">number1</var> to the number returned by the
	sub-algorithm in step 2.</li>

	<li>Starting with the character immediately after the last one
	examined by the sub-algorithm in step 2, skip all
	<a href="http://www.clearboth.org/html5/infrastructure.html#white_space">White_Space</a> characters in the string (this might match
	zero characters).</li>

	<li>If there are still further characters in the string, and the
	next character in the string is a <a href="http://www.clearboth.org/html5/infrastructure.html#valid-denominator-punctuation-character">valid denominator
	punctuation character</a>, set <var title="">denominator</var>
	to that character.</li>

	<li>If the string contains any other characters in the range U+0030
	DIGIT ZERO to U+0039 DIGIT NINE, but <var title="">denominator</var> was
	given a value in the step 6, return nothing and abort these
	steps.</li>

	<li>Otherwise, if <var title="">denominator</var> was given a value
	in step 6, return <var title="">number1</var> and <var title="">denominator</var> and abort these steps.</li>

	<li><a href="http://www.clearboth.org/html5/infrastructure.html#find-a-number">Find a number</a> in the string again, starting
	immediately after the last character that was examined by the
	sub-algorithm in step 2.</li>

	<li>If the sub-algorithm in step 9 returned nothing or an error
	condition, return <var title="">number1</var> and abort these
	steps.</li>

	<li>Set <var title="">number2</var> to the number returned by the
	sub-algorithm in step 9.</li>

	<li>Starting with the character immediately after the last one
	examined by the sub-algorithm in step 9, skip all
	<a href="http://www.clearboth.org/html5/infrastructure.html#white_space">White_Space</a> characters in the string (this might match
	zero characters).</li>

	<li>If there are still further characters in the string, and the
	next character in the string is a <a href="http://www.clearboth.org/html5/infrastructure.html#valid-denominator-punctuation-character">valid denominator
	punctuation character</a>, return nothing and abort these
	steps.</li>

	<li>If the string contains any other characters in the range U+0030
	DIGIT ZERO to U+0039 DIGIT NINE, return nothing and abort these
	steps.</li>

	<li>Otherwise, return <var title="">number1</var> and
	<var title="">number2</var>.</li>

	</ol><p>The algorithm to <dfn id="find-a-number">find a number</dfn> is as follows. It is
	given a string and a starting position, and returns either nothing,
	a number, or an error condition.</p>

	<ol><li>Starting at the given starting position, ignore all characters
	in the given string until the first character that is either a
	U+002E FULL STOP or one of the ten characters in the range U+0030
	DIGIT ZERO to U+0039 DIGIT NINE.</li>

	<li>If there are no such characters, return nothing and abort these
	steps.</li>

	<li>Starting with the character matched in step 1, collect all the
	consecutive characters that are either a U+002E FULL STOP or one of
	the ten characters in the range U+0030 DIGIT ZERO to U+0039 DIGIT
	NINE, and assign this string of one or more characters to
	<var title="">string</var>.</li>

	<li>If <var title="">string</var> consists of just a single U+002E
	FULL STOP character or if it contains more than one U+002E FULL
	STOP character then return an error condition and abort these
	steps.</li>

	<li>Parse <var title="">string</var> according to the <a href="http://www.clearboth.org/html5/infrastructure.html#rules-for-parsing-floating-point-number-values">rules
	for parsing floating point number values</a>, to obtain <var title="">number</var>. This step cannot fail (<var title="">string</var> is guaranteed to be a <a href="http://www.clearboth.org/html5/infrastructure.html#valid-floating-point-number">valid floating
	point number</a>).</li>

	<li>Return <var title="">number</var>.</li>

	</ol></div><div class="impl">
	<h5 id="percentages-and-dimensions"><span class="secno">2.4.4.5 </span>Percentages and lengths</h5>
	<!--(percentages are not used in valid html anymore)
	<p>A string is a <dfn>valid dimension value</dfn> if it consists of
	a character in the range U+0031 DIGIT ONE (1) to U+0039 DIGIT NINE
	(9), optionally followed by zero of more characters in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), optionally followed
	by a U+002E FULL STOP character (.) and one or more characters in
	the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and
	optionally suffixed by a U+0025 PERCENT SIGN character (%).</p>

	<p>A <span>valid dimension value</span> represents the number that
	is represented in base ten by that string of digits, optionally with
	a fractional component. If the U+0025 PERCENT SIGN is present, then
	the dimension is a percentage; otherwise, it is a length.</p>

	<p class="note">For historical reasons, percentanges and lengths
	less than 1.0 cannot be represented as <span title="valid dimension
	value">valid dimension values</span>.</p>
	-->
	<p>The <dfn id="rules-for-parsing-dimension-values">rules for parsing dimension values</dfn> are as given in
	the following algorithm. When invoked, the steps must be followed in
	the order given, aborting at the first step that returns a
	value. This algorithm will either return a number greater than or
	equal to 1.0, or an error; if a number is returned, then it is
	further categorized as either a percentage or a length.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#skip-whitespace">Skip whitespace</a>.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

	<li><p>If the next character is a U+002B PLUS SIGN character (+),
	advance <var title="">position</var> to the next character.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are
	U+0030 DIGIT ZERO (0) characters, and discard them.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return an error.</p></li>

	<li><p>If the next character is not one of U+0031 DIGIT ONE (1)
	.. U+0039 DIGIT NINE (9), then return an error.</p></li>

	<!-- Ok. At this point we know we have a number. It might have
	trailing garbage which we'll ignore, but it's a number, and we
	won't return an error. -->

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), and interpret the
	resulting sequence as a base-ten integer. Let <var title="">value</var> be that number.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return <var title="">value</var> as an
	integer.</p></li>

	<li>

	<p>If the next character is a U+002E FULL STOP character (.):</p>

	<ol><li><p>Advance <var title="">position</var> to the next
	character.</p></li>

	<li><p>If the next character is not one of U+0030 DIGIT ZERO (0)
	.. U+0039 DIGIT NINE (9), then return <var title="">value</var>
	as an integer.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). Let <var title="">length</var> be the number of characters collected. Let
	<var title="">fraction</var> be the result of interpreting the
	collected characters as a base-ten integer, and then dividing
	that number by <span title="">10<sup title=""><var title="">length</var></sup></span>.</p></li>

	<li><p>Increment <var title="">value</var> by <var title="">fraction</var>.</p></li>

	</ol></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, return <var title="">value</var> as a
	length.</p></li>

	<li><p>If the next character is a U+0025 PERCENT SIGN character
	(%), return <var title="">value</var> as a percentage.</p></li>

	<li><p>Return <var title="">value</var> as a length.</p></li>

	</ol></div><h5 id="lists-of-integers"><span class="secno">2.4.4.6 </span>Lists of integers</h5><p>A <dfn id="valid-list-of-integers">valid list of integers</dfn> is a number of <a href="http://www.clearboth.org/html5/infrastructure.html#valid-integer" title="valid integer">valid integers</a> separated by U+002C
	COMMA characters, with no other characters (e.g. no <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a>). In addition, there
	might be restrictions on the number of integers that can be given,
	or on the range of values allowed.</p><div class="impl">

	<p>The <dfn id="rules-for-parsing-a-list-of-integers">rules for parsing a list of integers</dfn> are as
	follows:</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p>Let <var title="">numbers</var> be an initially empty list
	of integers. This list will be the result of this
	algorithm.</p></li>

	<li><p>If there is a character in the string <var title="">input</var> at position <var title="">position</var>, and
	it is either a U+0020 SPACE, U+002C COMMA, or U+003B SEMICOLON
	character, then advance <var title="">position</var> to the next
	character in <var title="">input</var>, or to beyond the end of the
	string if there are no more characters.</p></li>

	<li><p>If <var title="">position</var> points to beyond the end of
	<var title="">input</var>, return <var title="">numbers</var> and
	abort.</p></li>

	<li><p>If the character in the string <var title="">input</var> at
	position <var title="">position</var> is a U+0020 SPACE, U+002C
	COMMA, or U+003B SEMICOLON character, then return to step 4.</p></li>

	<li><p>Let <var title="">negated</var> be false.</p></li>
	<li><p>Let <var title="">value</var> be 0.</p></li>

	<li><p>Let <var title="">started</var> be false. This variable is
	set to true when the parser sees a number or a U+002D HYPHEN-MINUS
	("-") character.</p></li>

	<li><p>Let <var title="">got number</var> be false. This variable
	is set to true when the parser sees a number.</p></li>

	<li><p>Let <var title="">finished</var> be false. This variable is
	set to true to switch parser into a mode where it ignores
	characters until the next separator.</p></li>

	<li><p>Let <var title="">bogus</var> be false.</p></li>

	<li><p><i>Parser</i>: If the character in the string <var title="">input</var> at position <var title="">position</var>
	is:</p>

	<dl class="switch"><dt>A U+002D HYPHEN-MINUS character</dt>

	<dd>

	<p>Follow these substeps:</p>

	<ol><li>If <var title="">got number</var> is true, let <var title="">finished</var> be true.</li>

	<li>If <var title="">finished</var> is true, skip to the next
	step in the overall set of steps.</li>

	<li>If <var title="">started</var> is true, let <var title="">negated</var> be false.</li>

	<li>Otherwise, if <var title="">started</var> is false and if <var title="">bogus</var> is false, let <var title="">negated</var>
	be true.</li>

	<li>Let <var title="">started</var> be true.</li>

	</ol></dd>


	<dt>A character in the range U+0030 DIGIT ZERO .. U+0039 DIGIT
	NINE</dt>

	<dd>

	<p>Follow these substeps:</p>

	<ol><li>If <var title="">finished</var> is true, skip to the next
	step in the overall set of steps.</li>

	<li>Multiply <var title="">value</var> by ten.</li>

	<li>Add the value of the digit, interpreted in base ten, to
	<var title="">value</var>.</li>

	<li>Let <var title="">started</var> be true.</li>

	<li>Let <var title="">got number</var> be true.</li>

	</ol></dd>


	<dt>A U+0020 SPACE character</dt>
	<dt>A U+002C COMMA character</dt>
	<dt>A U+003B SEMICOLON character</dt>

	<dd>

	<p>Follow these substeps:</p>

	<ol><li>If <var title="">got number</var> is false, return the <var title="">numbers</var> list and abort. This happens if an entry
	in the list has no digits, as in "<code title="">1,2,x,4</code>".</li>

	<li>If <var title="">negated</var> is true, then negate <var title="">value</var>.</li>

	<li>Append <var title="">value</var> to the <var title="">numbers</var> list.</li>

	<li>Jump to step 4 in the overall set of steps.</li>

	</ol></dd>


	<!-- <dt>A U+002E FULL STOP character</dt> -->
	<dt>A character in the range U+0001 .. U+001F, <!-- space --> U+0021 .. U+002B, <!-- comma --> U+002D .. U+002F, <!-- digits --> U+003A, <!-- semicolon --> U+003C .. U+0040, <!-- a-z --> U+005B .. U+0060, <!-- A-Z --> U+007b .. U+007F
	(i.e. any other non-alphabetic ASCII character)</dt>

	<!--
	Test: http://www.hixie.ch/tests/adhoc/html/flow/image-maps/004-demo.html
	IE6 on Wine treats the following characters like this also: U+1-U+1f,
	U+21-U+2b, U+2d-U+2f, U+3a, U+3c-U+40, U+5b-U+60, U+7b-U+82,
	U+84-U+89, U+8b, U+8d, U+8f-U+99, U+9b, U+9d, U+a0-U+bf, U+d7, U+f7,
	U+1f6-U+1f9, U+218-U+24f, U+2a9-U+385, U+387, U+38b, U+38d, U+3a2,
	U+3cf, U+3d7-U+3d9, U+3db, U+3dd, U+3df, U+3e1, U+3f4-U+400, U+40d,
	U+450, U+45d, U+482-U+48f, U+4c5-U+4c6, U+4c9-U+4ca, U+4cd-U+4cf,
	U+4ec-U+4ed, U+4f6-U+4f7, U+4fa-U+530, U+557-U+560, U+588-U+5cf,
	U+5eb-U+5ef, U+5f3-U+620, U+63b-U+640, U+64b-U+670, U+6b8-U+6b9,
	U+6bf, U+6cf, U+6d4, U+6d6-U+904, U+93a-U+957, U+962-U+984,
	U+98d-U+98e, U+991-U+992, U+9a9, U+9b1, U+9b3-U+9b5, U+9ba-U+9db,
	U+9de, U+9e2-U+9ef, U+9f2-U+a04, U+a0b-U+a0e, U+a11-U+a12, U+a29,
	U+a31, U+a34, U+a37, U+a3a-U+a58, U+a5d, U+a5f-U+a84, U+a8c, U+a8e,
	U+a92, U+aa9, U+ab1, U+ab4, U+aba-U+adf, U+ae1-U+b04, U+b0d-U+b0e,
	U+b11-U+b12, U+b29, U+b31, U+b34-U+b35, U+b3a-U+b5b, U+b5e,
	U+b62-U+b84, U+b8b-U+b8d, U+b91, U+b96-U+b98, U+b9b, U+b9d,
	U+ba0-U+ba2, U+ba5-U+ba7, U+bab-U+bad, U+bb6, U+bba-U+c04, U+c0d,
	U+c11, U+c29, U+c34, U+c3a-U+c5f, U+c62-U+c84, U+c8d, U+c91, U+ca9,
	U+cb4, U+cba-U+cdd, U+cdf, U+ce2-U+d04, U+d0d, U+d11, U+d29,
	U+d3a-U+d5f, U+d62-U+e00, U+e2f, U+e31, U+e34-U+e3f, U+e46-U+e80,
	U+e83, U+e85-U+e86, U+e89, U+e8b-U+e8c, U+e8e-U+e93, U+e98, U+ea0,
	U+ea4, U+ea6, U+ea8-U+ea9, U+eac, U+eaf-U+edb, U+ede-U+109f,
	U+10c6-U+10cf, U+10f7-U+10ff, U+115a-U+115e, U+11a3-U+11a7,
	U+11fa-U+1dff, U+1e9b-U+1e9f, U+1efa-U+1eff, U+1f16-U+1f17,
	U+1f1e-U+1f1f, U+1f46-U+1f47, U+1f4e-U+1f4f, U+1f58, U+1f5a, U+1f5c,
	U+1f5e, U+1f7e-U+1f7f, U+1fb5, U+1fbd-U+1fc1, U+1fc5, U+1fcd-U+1fcf,
	U+1fd4-U+1fd5, U+1fdc-U+1fdf, U+1fed-U+1ff1, U+1ff5, U+1ffd-U+249b,
	U+24ea-U+3004, U+3006-U+3040, U+3095-U+309a, U+309f-U+30a0, U+30fb,
	U+30ff-U+3104, U+312d-U+3130, U+318f-U+4dff, U+9fa6-U+abff,
	U+d7a4-U+d7ff, U+e000-U+f8ff, U+fa2e-U+faff, U+fb07-U+fb12,
	U+fb18-U+fb1e, U+fb37, U+fb3d, U+fb3f, U+fb42, U+fb45, U+fbb2-U+fbd2,
	U+fbe9, U+fce1, U+fd3e-U+fd4f, U+fd90-U+fd91, U+fdc8-U+fdef,
	U+fdfc-U+fe7f, U+fefd-U+ff20, U+ff3b-U+ff40, U+ff5b-U+ff65, U+ffa0,
	U+ffbf-U+ffc1, U+ffc8-U+ffc9, U+ffd0-U+ffd1, U+ffd8-U+ffd9,
	U+ffdd-U+ffff
	IE7 on Win2003 treats the following characters like this also
	instead: U+1-U+1f, U+21-U+2b, U+2d-U+2f, U+3a, U+3c-U+40, U+5b-U+60,
	U+7b-U+82, U+84-U+89, U+8b, U+8d, U+8f-U+99, U+9b, U+9d, U+a0-U+a9,
	U+ab-U+b4, U+b6-U+b9, U+bb-U+bf, U+d7, U+f7, U+220-U+221,
	U+234-U+24f, U+2ae-U+2af, U+2b9-U+2ba, U+2c2-U+2df, U+2e5-U+2ed,
	U+2ef-U+344, U+346-U+379, U+37b-U+385, U+387, U+38b, U+38d, U+3a2,
	U+3cf, U+3d8-U+3d9, U+3f4-U+3ff, U+482-U+48b, U+4c5-U+4c6,
	U+4c9-U+4ca, U+4cd-U+4cf, U+4f6-U+4f7, U+4fa-U+530, U+557-U+558,
	U+55a-U+560, U+588-U+5cf, U+5eb-U+5ef, U+5f3-U+620, U+63b-U+640,
	U+656-U+66f, U+6d4, U+6dd-U+6e0, U+6e9-U+6ec, U+6ee-U+6f9,
	U+6fd-U+70f, U+72d-U+72f, U+740-U+77f, U+7b1-U+900, U+904,
	U+93a-U+93c, U+94d - U+94f, U+951-U+957, U+964-U+980, U+984,
	U+98d-U+98e, U+991-U+992, U+9a9, U+9b1, U+9b3-U+9b5, U+9ba-U+9bd,
	U+9c5-U+9c6, U+9c9-U+9ca, U+9cd-U+9d6, U+9d8-U+9db, U+9de,
	U+9e4-U+9ef, U+9f2-U+a01, U+a03-U+a04, U+a0b-U+a0e, U+a11-U+a12,
	U+a29, U+a31, U+a34, U+a37, U+a3a-U+a3d, U+a43-U+a46, U+a49-U+a4a,
	U+a4d-U+a58, U+a5d, U+a5f-U+a6f, U+a75-U+a80, U+a84, U+a8c, U+a8e,
	U+a92, U+aa9, U+ab1, U+ab4, U+aba-U+abc, U+ac6, U+aca, U+acd-U+acf,
	U+ad1-U+adf, U+ae1-U+b00, U+b04, U+b0d-U+b0e, U+b11-U+b12, U+b29,
	U+b31, U+b34-U+b35, U+b3a-U+b3c, U+b44-U+b46, U+b49 - U+b4a,
	U+b4d-U+b55, U+b58-U+b5b, U+b5e, U+b62-U+b81, U+b84, U+b8b-U+b8d,
	U+b91, U+b96-U+b98, U+b9b, U+b9d, U+ba0 - U+ba2, U+ba5-U+ba7,
	U+bab-U+bad, U+bb6, U+bba-U+bbd, U+bc3-U+bc5, U+bc9, U+bcd-U+bd6,
	U+bd8-U+c00, U+c04, U+c0d, U+c11, U+c29, U+c34, U+c3a-U+c3d, U+c45,
	U+c49, U+c4d-U+c54, U+c57-U+c5f, U+c62-U+c81, U+c84, U+c8d, U+c91,
	U+ca9, U+cb4, U+cba-U+cbd, U+cc5, U+cc9, U+ccd-U+cd4, U+cd7-U+cdd,
	U+cdf, U+ce2-U+d01, U+d04, U+d0d, U+d11, U+d29, U+d3a-U+d3d,
	U+d44-U+d45, U+d49, U+d4d-U+d56, U+d58-U+d5f, U+d62-U+d81, U+d84,
	U+d97-U+d99, U+db2, U+dbc, U+dbe - U+dbf, U+dc7-U+dce, U+dd5, U+dd7,
	U+de0-U+df1, U+df4-U+e00, U+e3b-U+e3f, U+e4f-U+e80, U+e83,
	U+e85-U+e86, U+e89, U+e8b-U+e8c, U+e8e-U+e93, U+e98, U+ea0, U+ea4,
	U+ea6, U+ea8-U+ea9, U+eac, U+eba, U+ebe-U+ebf, U+ec5-U+ecc,
	U+ece-U+edb, U+ede-U+eff, U+f01-U+f3f, U+f48, U+f6b-U+f70,
	U+f82-U+f87, U+f8c-U+f8f, U+f98, U+fbd-U+fff, U+1022, U+1028, U+102b,
	U+1033-U+1035, U+1037, U+1039-U+104f, U+105a-U+109f, U+10c6-U+10cf,
	U+10f7-U+10ff, U+115a - U+115e, U+11a3-U+11a7, U+11fa-U+11ff, U+1207,
	U+1247, U+1249, U+124e-U+124f, U+1257, U+1259, U+125e-U+125f, U+1287,
	U+1289, U+128e-U+128f, U+12af, U+12b1, U+12b6-U+12b7, U+12bf, U+12c1,
	U+12c6-U+12c7, U+12cf, U+12d7, U+12ef, U+130f, U+1311, U+1316-U+1317,
	U+131f, U+1347, U+135b-U+139f, U+13f5-U+1400, U+166d-U+166e,
	U+1677-U+1680, U+169b - U+169f, U+16eb-U+177f, U+17c9-U+181f, U+1843,
	U+1878-U+187f, U+18aa-U+1dff, U+1e9c-U+1e9f, U+1efa-U+1eff,
	U+1f16-U+1f17, U+1f1e-U+1f1f, U+1f46-U+1f47, U+1f4e-U+1f4f, U+1f58,
	U+1f5a, U+1f5c, U+1f5e, U+1f7e-U+1f7f, U+1fb5, U+1fbd, U+1fbf-U+1fc1,
	U+1fc5, U+1fcd-U+1fcf, U+1fd4-U+1fd5, U+1fdc-U+1fdf, U+1fed-U+1ff1,
	U+1ff5, U+1ffd-U+207e, U+2080-U+2101, U+2103-U+2106, U+2108-U+2109,
	U+2114, U+2116-U+2118, U+211e-U+2123, U+2125, U+2127, U+2129, U+212e,
	U+2132, U+213a-U+215f, U+2184-U+3005, U+3008-U+3020, U+302a-U+3037,
	U+303b-U+3104, U+312d-U+3130, U+318f - U+319f, U+31b8-U+33ff,
	U+4db6-U+4dff, U+9fa6-U+9fff, U+a48d-U+abff, U+d7a4-U+d7ff,
	U+e000-U+f8ff, U+fa2e-U+faff, U+fb07-U+fb12, U+fb18-U+fb1c, U+fb1e,
	U+fb29, U+fb37, U+fb3d, U+fb3f, U+fb42, U+fb45, U+fbb2-U+fbd2,
	U+fd3e-U+fd4f, U+fd90-U+fd91, U+fdc8-U+fdef, U+fdfc-U+fe6f, U+fe73,
	U+fe75, U+fefd-U+ff20, U+ff3b-U+ff40, U+ff5b-U+ff9f, U+ffbf-U+ffc1,
	U+ffc8-U+ffc9, U+ffd0-U+ffd1, U+ffd8-U+ffd9, U+ffdd-U+ffff
	-->

	<dd>

	<p>Follow these substeps:</p>

	<ol><li>If <var title="">got number</var> is true, let <var title="">finished</var> be true.</li>

	<li>If <var title="">finished</var> is true, skip to the next
	step in the overall set of steps.</li>

	<li>Let <var title="">negated</var> be false.</li>

	</ol></dd>


	<dt>Any other character</dt>
	<!-- alphabetic a-z A-Z, and non-ASCII -->

	<dd>

	<p>Follow these substeps:</p>

	<ol><li>If <var title="">finished</var> is true, skip to the next
	step in the overall set of steps.</li>

	<li>Let <var title="">negated</var> be false.</li>

	<li>Let <var title="">bogus</var> be true.</li>

	<li>If <var title="">started</var> is true, then return the
	<var title="">numbers</var> list, and abort. (The value in <var title="">value</var> is not appended to the list first; it is
	dropped.)</li>

	</ol></dd>

	</dl></li>

	<li><p>Advance <var title="">position</var> to the next character
	in <var title="">input</var>, or to beyond the end of the string if
	there are no more characters.</p></li>

	<li><p>If <var title="">position</var> points to a character (and
	not to beyond the end of <var title="">input</var>), jump to the
	big <i>Parser</i> step above.</p></li>

	<li><p>If <var title="">negated</var> is true, then negate <var title="">value</var>.</p></li>

	<li><p>If <var title="">got number</var> is true, then append <var title="">value</var> to the <var title="">numbers</var> list.</p></li>

	<li><p>Return the <var title="">numbers</var> list and
	abort.</p></li>

	</ol></div><div class="impl">

	<h5 id="lists-of-dimensions"><span class="secno">2.4.4.7 </span>Lists of dimensions</h5>

	<!-- no definition of a type since no conforming feature uses this
	syntax (it's only used in cols="" and rows="" on <frameset> -->

	<p>The <dfn id="rules-for-parsing-a-list-of-dimensions">rules for parsing a list of dimensions</dfn> are as
	follows. These rules return a list of zero or more pairs consisting
	of a number and a unit, the unit being one of <i>percentage</i>,
	<i>relative</i>, and <i>absolute</i>.</p>

	<ol><li><p>Let <var title="">raw input</var> be the string being
	parsed.</p></li>

	<li><p>If the last character in <var title="">raw input</var> is a
	U+002C COMMA character (","), then remove that character from <var title="">raw input</var>.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#split-a-string-on-commas" title="split a string on commas">Split the string <var title="">raw input</var> on commas</a>. Let <var title="">raw
	tokens</var> be the resulting list of tokens.</p></li>

	<li><p>Let <var title="">result</var> be an empty list of
	number/unit pairs.</p></li>

	<li>

	<p>For each token in <var title="">raw tokens</var>, run the
	following substeps:</p>

	<ol><li><p>Let <var title="">input</var> be the token.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p>Let <var title="">value</var> be the number 0.</p></li>

	<li><p>Let <var title="">unit</var> be <i>absolute</i>.</p></li>

	<li><p>If <var title="">position</var> is past the end of <var title="">input</var>, set <var title="">unit</var> to
	<i>relative</i> and jump to the last substep.</p></li>

	<li><p>If the character at <var title="">position</var> is a
	character in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE
	(9), <a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), interpret the
	resulting sequence as an integer in base ten, and increment <var title="">value</var> by that integer.</p></li>

	<li>

	<p>If the character at <var title="">position</var> is a U+002E
	FULL STOP character (.), run these substeps:</p>

	<ol><li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> consisting
	of <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a> and
	characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT
	NINE (9). Let <var title="">s</var> be the resulting
	sequence.</p></li>

	<li><p>Remove all <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space
	characters</a> in <var title="">s</var>.</p></li>

	<li>

	<p>If <var title="">s</var> is not the empty string, run these
	subsubsteps:</p>

	<ol><li><p>Let <var title="">length</var> be the number of
	characters in <var title="">s</var> (after the spaces were
	removed).</p></li>

	<li><p>Let <var title="">fraction</var> be the result of
	interpreting <var title="">s</var> as a base-ten integer, and
	then dividing that number by <span title="">10<sup title=""><var title="">length</var></sup></span>.</p></li>

	<li><p>Increment <var title="">value</var> by <var title="">fraction</var>.</p></li>

	</ol></li>

	</ol></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#skip-whitespace">Skip whitespace</a>.</p></li>

	<li>

	<p>If the character at <var title="">position</var> is a U+0025
	PERCENT SIGN (%) character, then set <var title="">unit</var> to
	<i>percentage</i>.</p>

	<p>Otherwise, if the character at <var title="">position</var>
	is a U+002A ASTERISK character (*), then set <var title="">unit</var> to <i>relative</i>.</p>

	</li>

	<!-- the remaining characters in /input/ are ignored -->

	<li><p>Add an entry to <var title="">result</var> consisting of
	the number given by <var title="">value</var> and the unit given
	by <var title="">unit</var>.</p></li>

	</ol></li>

	<li><p>Return the list <var title="">result</var>.</p></li>

	</ol></div>
	<h4 id="dates-and-times"><span class="secno">2.4.5 </span>Dates and times</h4>

	<p>In the algorithms below, the <dfn id="number-of-days-in-month-month-of-year-year">number of days in month <var title="">month</var> of year <var title="">year</var></dfn> is:
	<em>31</em> if <var title="">month</var> is 1, 3, 5, 7, 8, 10, or
	12; <em>30</em> if <var title="">month</var> is 4, 6, 9, or 11;
	<em>29</em> if <var title="">month</var> is 2 and <var title="">year</var> is a number divisible by 400, or if <var title="">year</var> is a number divisible by 4 but not by 100; and
	<em>28</em> otherwise. This takes into account leap years in the
	Gregorian calendar. <a href="http://www.clearboth.org/html5/references.html#refsGREGORIAN">[GREGORIAN]</a></p><p>The <dfn id="concept-datetime-digit" title="concept-datetime-digit">digits</dfn> in the date
	and time syntaxes defined in this section must be characters in the
	range U+0030 DIGIT ZERO to U+0039 DIGIT NINE, used to express
	numbers in base ten.</p><div class="impl">

	<p class="note">While the formats described here are intended to be
	subsets of the corresponding ISO8601 formats, this specification
	defines parsing rules in much more detail than ISO8601.
	Implementators are therefore encouraged to carefully examine any
	date parsing libraries before using them to implement the parsing
	rules described below; ISO8601 libraries might not parse dates and
	times exactly the same manner. <a href="http://www.clearboth.org/html5/references.html#refsISO8601">[ISO8601]</a></p>

	</div><h5 id="months"><span class="secno">2.4.5.1 </span>Months</h5><p>A <dfn id="concept-month" title="concept-month">month</dfn> consists of a specific
	proleptic Gregorian date with no time-zone information and no date
	information beyond a year and a month. <a href="http://www.clearboth.org/html5/references.html#refsGREGORIAN">[GREGORIAN]</a></p><p>A string is a <dfn id="valid-month-string">valid month string</dfn> representing a year
	<var title="">year</var> and month <var title="">month</var> if it
	consists of the following components in the given order:</p><ol><li>Four or more <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing <var title="">year</var>, where <var title="">year</var>&nbsp;&gt;&nbsp;0</li>

	<li>A U+002D HYPHEN-MINUS character (-)</li>

	<li>Two <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
	representing the month <var title="">month</var>, in the range
	1&nbsp;≤&nbsp;<var title="">month</var>&nbsp;≤&nbsp;12</li>

	</ol><div class="impl">

	<p>The rules to <dfn id="parse-a-month-string">parse a month string</dfn> are as follows. This
	will either return a year and month, or nothing. If at any point the
	algorithm says that it "fails", this means that it is aborted at
	that point and returns nothing.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-month-component">Parse a month component</a> to obtain <var title="">year</var> and <var title="">month</var>. If this returns
	nothing, then fail.</p>

	</li><li><p>If <var title="">position</var> is <em>not</em> beyond the
	end of <var title="">input</var>, then fail.</p></li>

	<li><p>Return <var title="">year</var> and <var title="">month</var>.</p></li>

	</ol><p>The rules to <dfn id="parse-a-month-component">parse a month component</dfn>, given an <var title="">input</var> string and a <var title="">position</var>, are
	as follows. This will either return a year and a month, or
	nothing. If at any point the algorithm says that it "fails", this
	means that it is aborted at that point and returns nothing.</p>

	<ol><li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
	sequence is not at least four characters long, then
	fail. Otherwise, interpret the resulting sequence as a base-ten
	integer. Let that number be the <var title="">year</var>.</p></li>

	<li><p>If <var title="">year</var> is not a number greater than
	zero, then fail.</p></li>

	<li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+002D HYPHEN-MINUS character,
	then fail. Otherwise, move <var title="">position</var> forwards
	one character.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
	sequence is not exactly two characters long, then fail. Otherwise,
	interpret the resulting sequence as a base-ten integer. Let that
	number be the <var title="">month</var>.</p></li>

	<li><p>If <var title="">month</var> is not a number in the range
	1&nbsp;≤&nbsp;<var title="">month</var>&nbsp;≤&nbsp;12, then
	fail.</p></li>

	<li><p>Return <var title="">year</var> and <var title="">month</var>.</p></li>

	</ol></div><h5 id="dates"><span class="secno">2.4.5.2 </span>Dates</h5><p>A <dfn id="concept-date" title="concept-date">date</dfn> consists of a specific
	proleptic Gregorian date with no time-zone information, consisting
	of a year, a month, and a day. <a href="http://www.clearboth.org/html5/references.html#refsGREGORIAN">[GREGORIAN]</a></p><p>A string is a <dfn id="valid-date-string">valid date string</dfn> representing a year
	<var title="">year</var>, month <var title="">month</var>, and day
	<var title="">day</var> if it consists of the following components
	in the given order:</p><ol><li>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-month-string">valid month string</a>, representing <var title="">year</var> and <var title="">month</var></li>

	<li>A U+002D HYPHEN-MINUS character (-)</li>

	<li>Two <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
	representing <var title="">day</var>, in the range
	1&nbsp;≤&nbsp;<var title="">day</var>&nbsp;≤&nbsp;<var title="">maxday</var> where <var title="">maxday</var> is the <a href="http://www.clearboth.org/html5/infrastructure.html#number-of-days-in-month-month-of-year-year" title="number of days in month month of year year">number of days
	in the month <var title="">month</var> and year <var title="">year</var></a></li>

	</ol><div class="impl">

	<p>The rules to <dfn id="parse-a-date-string">parse a date string</dfn> are as follows. This
	will either return a date, or nothing. If at any point the algorithm
	says that it "fails", this means that it is aborted at that point
	and returns nothing.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-date-component">Parse a date component</a> to obtain <var title="">year</var>, <var title="">month</var>, and <var title="">day</var>. If this returns nothing, then fail.</p>

	</li><li><p>If <var title="">position</var> is <em>not</em> beyond the
	end of <var title="">input</var>, then fail.</p></li>

	<li><p>Let <var title="">date</var> be the date with year <var title="">year</var>, month <var title="">month</var>, and day <var title="">day</var>.</p></li>

	<li><p>Return <var title="">date</var>.</p></li>

	</ol><p>The rules to <dfn id="parse-a-date-component">parse a date component</dfn>, given an <var title="">input</var> string and a <var title="">position</var>, are
	as follows. This will either return a year, a month, and a day, or
	nothing. If at any point the algorithm says that it "fails", this
	means that it is aborted at that point and returns nothing.</p>

	<ol><li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-month-component">Parse a month component</a> to obtain <var title="">year</var> and <var title="">month</var>. If this returns
	nothing, then fail.</p></li>

	<li><p>Let <var title="">maxday</var> be the <a href="http://www.clearboth.org/html5/infrastructure.html#number-of-days-in-month-month-of-year-year">number of days
	in month <var title="">month</var> of year <var title="">year</var></a>.</p></li>

	<li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+002D HYPHEN-MINUS character,
	then fail. Otherwise, move <var title="">position</var> forwards
	one character.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
	sequence is not exactly two characters long, then fail. Otherwise,
	interpret the resulting sequence as a base-ten integer. Let that
	number be the <var title="">day</var>.</p></li>

	<li><p>If <var title="">day</var> is not a number in the range
	1&nbsp;≤&nbsp;<var title="">month</var>&nbsp;≤&nbsp;<var title="">maxday</var>, then fail.</p></li>

	<li><p>Return <var title="">year</var>, <var title="">month</var>,
	and <var title="">day</var>.</p></li>

	</ol></div><h5 id="times"><span class="secno">2.4.5.3 </span>Times</h5><p>A <dfn id="concept-time" title="concept-time">time</dfn> consists of a specific
	time with no time-zone information, consisting of an hour, a minute,
	a second, and a fraction of a second.</p><p>A string is a <dfn id="valid-time-string">valid time string</dfn> representing an hour
	<var title="">hour</var>, a minute <var title="">minute</var>, and a
	second <var title="">second</var> if it consists of the following
	components in the given order:</p><ol><li>Two <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
	representing <var title="">hour</var>, in the range
	0&nbsp;≤&nbsp;<var title="">hour</var>&nbsp;≤&nbsp;23</li>

	<li>A U+003A COLON character (:)</li>

	<li>Two <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
	representing <var title="">minute</var>, in the range
	0&nbsp;≤&nbsp;<var title="">minute</var>&nbsp;≤&nbsp;59</li>

	<li>Optionally (required if <var title="">second</var> is
	non-zero):

	<ol><li>A U+003A COLON character (:)</li>

	<li>Two <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
	representing the integer part of <var title="">second</var>, in
	the range 0&nbsp;≤&nbsp;<var title="">s</var>&nbsp;≤&nbsp;59</li>

	<li>Optionally (required if <var title="">second</var> is not an
	integer):

	<ol><li>A 002E FULL STOP character (.)</li>

	<li>One or more <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing the
	fractional part of <var title="">second</var></li>

	</ol></li>

	</ol></li>

	</ol><p class="note">The <var title="">second</var> component cannot be
	60 or 61; leap seconds cannot be represented.</p><div class="impl">

	<p>The rules to <dfn id="parse-a-time-string">parse a time string</dfn> are as follows. This
	will either return a time, or nothing. If at any point the algorithm
	says that it "fails", this means that it is aborted at that point
	and returns nothing.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-time-component">Parse a time component</a> to obtain <var title="">hour</var>, <var title="">minute</var>, and <var title="">second</var>. If this returns nothing, then fail.</p>

	</li><li><p>If <var title="">position</var> is <em>not</em> beyond the
	end of <var title="">input</var>, then fail.</p></li>

	<li><p>Let <var title="">time</var> be the time with hour <var title="">hour</var>, minute <var title="">minute</var>, and second
	<var title="">second</var>.</p></li>

	<li><p>Return <var title="">time</var>.</p></li>

	</ol><p>The rules to <dfn id="parse-a-time-component">parse a time component</dfn>, given an <var title="">input</var> string and a <var title="">position</var>, are
	as follows. This will either return an hour, a minute, and a second,
	or nothing. If at any point the algorithm says that it "fails", this
	means that it is aborted at that point and returns nothing.</p>

	<ol><li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
	sequence is not exactly two characters long, then fail. Otherwise,
	interpret the resulting sequence as a base-ten integer. Let that
	number be the <var title="">hour</var>.</p></li>

	<li>If <var title="">hour</var> is not a number in the range
	0&nbsp;≤&nbsp;<var title="">hour</var>&nbsp;≤&nbsp;23, then
	fail.</li>

	<li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+003A COLON character, then
	fail. Otherwise, move <var title="">position</var> forwards one
	character.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
	sequence is not exactly two characters long, then fail. Otherwise,
	interpret the resulting sequence as a base-ten integer. Let that
	number be the <var title="">minute</var>.</p></li>

	<li>If <var title="">minute</var> is not a number in the range
	0&nbsp;≤&nbsp;<var title="">minute</var>&nbsp;≤&nbsp;59, then
	fail.</li>

	<li><p>Let <var title="">second</var> be a string with the value
	"0".</p></li>

	<li>

	<p>If <var title="">position</var> is not beyond the end of
	<var title="">input</var> and the character at <var title="">position</var> is a U+003A COLON, then run these
	substeps:</p>

	<ol><li><p>Advance <var title="">position</var> to the next character
	in <var title="">input</var>.</p></li>

	<li><p>If <var title="">position</var> is beyond the end of <var title="">input</var>, or at the last character in <var title="">input</var>, or if the next <em>two</em> characters in
	<var title="">input</var> starting at <var title="">position</var> are not two characters both in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), then
	fail.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are
	either characters in the range U+0030 DIGIT ZERO (0) to U+0039
	DIGIT NINE (9) or U+002E FULL STOP characters. If the collected
	sequence has more than one U+002E FULL STOP characters, or if the
	last character in the sequence is a U+002E FULL STOP character,
	then fail. Otherwise, let the collected string be <var title="">second</var> instead of its previous value.</p></li>

	</ol></li>

	<li><p>Interpret <var title="">second</var> as a base-ten number
	(possibly with a fractional part). Let <var title="">second</var>
	be that number instead of the string version.</p></li>

	<li><p>If <var title="">second</var> is not a number in the range
	0&nbsp;≤&nbsp;<var title="">second</var>&nbsp;&lt;&nbsp;60, then
	fail.</p></li>

	<li><p>Return <var title="">hour</var>, <var title="">minute</var>,
	and <var title="">second</var>.</p></li>

	</ol></div><h5 id="local-dates-and-times"><span class="secno">2.4.5.4 </span>Local dates and times</h5><p>A <dfn id="concept-datetime-local" title="concept-datetime-local">local date and time</dfn>
	consists of a specific proleptic Gregorian date, consisting of a
	year, a month, and a day, and a time, consisting of an hour, a
	minute, a second, and a fraction of a second, but expressed without
	a time zone. <a href="http://www.clearboth.org/html5/references.html#refsGREGORIAN">[GREGORIAN]</a></p><p>A string is a <dfn id="valid-local-date-and-time-string">valid local date and time string</dfn>
	representing a date and time if it consists of the following
	components in the given order:</p><ol><li>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-date-string">valid date string</a> representing the date.</li>

	<li>A U+0054 LATIN CAPITAL LETTER T character.</li>

	<li>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-time-string">valid time string</a> representing the time.</li>

	</ol><div class="impl">

	<p>The rules to <dfn id="parse-a-local-date-and-time-string">parse a local date and time string</dfn> are as
	follows. This will either return a date and time, or nothing. If at
	any point the algorithm says that it "fails", this means that it is
	aborted at that point and returns nothing.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-date-component">Parse a date component</a> to obtain <var title="">year</var>, <var title="">month</var>, and <var title="">day</var>. If this returns nothing, then fail.</p>

	</li><li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+0054 LATIN CAPITAL LETTER T
	character then fail. Otherwise, move <var title="">position</var>
	forwards one character.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-time-component">Parse a time component</a> to obtain <var title="">hour</var>, <var title="">minute</var>, and <var title="">second</var>. If this returns nothing, then fail.</p>

	</li><li><p>If <var title="">position</var> is <em>not</em> beyond the
	end of <var title="">input</var>, then fail.</p></li>

	<li><p>Let <var title="">date</var> be the date with year <var title="">year</var>, month <var title="">month</var>, and day <var title="">day</var>.</p></li>

	<li><p>Let <var title="">time</var> be the time with hour <var title="">hour</var>, minute <var title="">minute</var>, and second
	<var title="">second</var>.</p></li>

	<li><p>Return <var title="">date</var> and <var title="">time</var>.</p></li>

	</ol></div><h5 id="global-dates-and-times"><span class="secno">2.4.5.5 </span>Global dates and times</h5><p>A <dfn id="concept-datetime" title="concept-datetime">global date and time</dfn>
	consists of a specific proleptic Gregorian date, consisting of a
	year, a month, and a day, and a time, consisting of an hour, a
	minute, a second, and a fraction of a second, expressed with a time
	zone, consisting of a number of hours and minutes. <a href="http://www.clearboth.org/html5/references.html#refsGREGORIAN">[GREGORIAN]</a></p><p>A string is a <dfn id="valid-global-date-and-time-string">valid global date and time string</dfn>
	representing a date, time, and a time-zone offset if it consists of
	the following components in the given order:</p><ol><li>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-date-string">valid date string</a> representing the date</li>

	<li>A U+0054 LATIN CAPITAL LETTER T character</li>

	<li>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-time-string">valid time string</a> representing the time</li>

	<li>Either:

	<ul><li>A U+005A LATIN CAPITAL LETTER Z character, allowed only if
	the time zone is UTC</li>

	<li>Or:

	<ol><li>Either a U+002B PLUS SIGN character (+) or a U+002D
	HYPHEN-MINUS (-) character, representing the sign of the
	time-zone offset</li>

	<li>Two <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
	representing the hours component <var title="">hour</var> of
	the time-zone offset, in the range 0&nbsp;≤&nbsp;<var title="">hour</var>&nbsp;≤&nbsp;23</li>

	<li>A U+003A COLON character (:)</li>

	<li>Two <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
	representing the minutes component <var title="">minute</var>
	of the time-zone offset, in the range 0&nbsp;≤&nbsp;<var title="">minute</var>&nbsp;≤&nbsp;59</li>

	</ol></li>

	</ul></li>

	</ol><p class="note">This format allows for time zone offsets from -23:59
	to +23:59. In practice, however, the range of actual time zones is
	-12:00 to +14:00, and the minutes component of actual time zones is
	always either 00, 30, or 45.</p><div class="example">

	<p>The following are some examples of dates written as <a href="http://www.clearboth.org/html5/infrastructure.html#valid-global-date-and-time-string" title="valid global date and time string">valid global date and
	time strings</a>.</p>

	<dl><dt>"<code>0037-12-13T00:00Z</code>"</dt>

	<dd>Midnight UTC on the birthday of Nero (the Roman Emperor).</dd>

	<dt>"<code>1979-10-14T12:00:00.001-04:00</code>"</dt>

	<dd>One millisecond after noon on October 14th 1979, in the time
	zone in use on the east coast of North America during daylight
	saving time.</dd>

	<dt>"<code>8592-01-01T02:09+02:09</code>"</dt>

	<dd>Midnight UTC on the 1st of January, 8592. The time zone
	associated with that time is two hours and nine minutes ahead of
	UTC, which is not a real time zone currently, but is nonetheless
	allowed.</dd>

	</dl><p>Several things are notable about these dates:</p>

	<ul><li>Years with fewer than four digits have to be
	zero-padded. The date "37-12-13" would not be a valid date.</li>

	<li>To unambiguously identify a moment in time prior to the
	introduction of the Gregorian calendar, the date has to be first
	converted to the Gregorian calendar from the calendar in use at
	the time (e.g. from the Julian calendar). The date of Nero's birth
	is the 15th of December 37, in the Julian Calendar, which is the
	13th of December 37 in the proleptic Gregorian Calendar.</li> <!--
	This might not be true. I can't find a reference that gives his
	birthday with an explicit statement about the calendar being
	used. However, it seems unlikely that it would be given in the
	Gregorian calendar, so I assume sites use the Julian one. -->

	<li>The time and time-zone components are not optional.</li>

	<li>Dates before the year zero can't be represented as a datetime
	in this version of HTML.</li>

	<li>Time zones differ based on daylight savings time.</li>

	</ul></div><div class="impl">

	<p>The rules to <dfn id="parse-a-global-date-and-time-string">parse a global date and time string</dfn> are
	as follows. This will either return a time in UTC, with associated
	time-zone information for round tripping or display purposes, or
	nothing. If at any point the algorithm says that it "fails", this
	means that it is aborted at that point and returns nothing.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-date-component">Parse a date component</a> to obtain <var title="">year</var>, <var title="">month</var>, and <var title="">day</var>. If this returns nothing, then fail.</p>

	</li><li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+0054 LATIN CAPITAL LETTER T
	character then fail. Otherwise, move <var title="">position</var>
	forwards one character.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-time-component">Parse a time component</a> to obtain <var title="">hour</var>, <var title="">minute</var>, and <var title="">second</var>. If this returns nothing, then fail.</p>

	</li><li><p>If <var title="">position</var> is beyond the end of <var title="">input</var>, then fail.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-time-zone-component">Parse a time-zone component</a> to obtain <var title="">timezone<sub title="">hours</sub></var> and <var title="">timezone<sub title="">minutes</sub></var>. If this returns
	nothing, then fail.</p>

	</li><li><p>If <var title="">position</var> is <em>not</em> beyond the
	end of <var title="">input</var>, then fail.</p></li>

	<li><p>Let <var title="">time</var> be the moment in time at year
	<var title="">year</var>, month <var title="">month</var>, day <var title="">day</var>, hours <var title="">hour</var>, minute <var title="">minute</var>, second <var title="">second</var>,
	subtracting <var title="">timezone<sub title="">hours</sub></var>
	hours and <var title="">timezone<sub title="">minutes</sub></var>
	minutes. That moment in time is a moment in the UTC
	time zone.</p></li>

	<li><p>Let <var title="">timezone</var> be <var title="">timezone<sub title="">hours</sub></var> hours and <var title="">timezone<sub title="">minutes</sub></var> minutes from
	UTC.</p></li>

	<li><p>Return <var title="">time</var> and <var title="">timezone</var>.</p></li>

	</ol><p>The rules to <dfn id="parse-a-time-zone-component">parse a time-zone component</dfn>, given an <var title="">input</var> string and a <var title="">position</var>, are
	as follows. This will either return time-zone hours and time-zone
	minutes, or nothing. If at any point the algorithm says that it
	"fails", this means that it is aborted at that point and returns
	nothing.</p>

	<ol><li>

	<p>If the character at <var title="">position</var> is a U+005A
	LATIN CAPITAL LETTER Z, then:</p>

	<ol><li><p>Let <var title="">timezone<sub title="">hours</sub></var>
	be 0.</p></li>

	<li><p>Let <var title="">timezone<sub title="">minutes</sub></var> be 0.</p></li>

	<li><p>Advance <var title="">position</var> to the next character
	in <var title="">input</var>.</p></li>

	</ol><p>Otherwise, if the character at <var title="">position</var> is
	either a U+002B PLUS SIGN ("+") or a U+002D HYPHEN-MINUS ("-"),
	then:</p>

	<ol><li><p>If the character at <var title="">position</var> is a
	U+002B PLUS SIGN ("+"), let <var title="">sign</var> be
	"positive". Otherwise, it's a U+002D HYPHEN-MINUS ("-"); let <var title="">sign</var> be "negative".</p></li>

	<li><p>Advance <var title="">position</var> to the next character
	in <var title="">input</var>.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
	sequence is not exactly two characters long, then
	fail. Otherwise, interpret the resulting sequence as a base-ten
	integer. Let that number be the <var title="">timezone<sub title="">hours</sub></var>.</p></li>

	<li>If <var title="">timezone<sub title="">hours</sub></var> is
	not a number in the range 0&nbsp;≤&nbsp;<var title="">timezone<sub title="">hours</sub></var>&nbsp;≤&nbsp;23, then fail.</li>

	<li>If <var title="">sign</var> is "negative", then negate <var title="">timezone<sub title="">hours</sub></var>.</li>

	<li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+003A COLON character, then
	fail. Otherwise, move <var title="">position</var> forwards one
	character.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
	sequence is not exactly two characters long, then
	fail. Otherwise, interpret the resulting sequence as a base-ten
	integer. Let that number be the <var title="">timezone<sub title="">minutes</sub></var>.</p></li>

	<li>If <var title="">timezone<sub title="">minutes</sub></var> is
	not a number in the range 0&nbsp;≤&nbsp;<var title="">timezone<sub title="">minutes</sub></var>&nbsp;≤&nbsp;59, then fail.</li>

	<li>If <var title="">sign</var> is "negative", then negate <var title="">timezone<sub title="">minutes</sub></var>.</li>

	</ol></li>

	<li><p>Return <var title="">timezone<sub title="">hours</sub></var>
	and <var title="">timezone<sub title="">minutes</sub></var>.</p></li>

	</ol></div><h5 id="weeks"><span class="secno">2.4.5.6 </span>Weeks</h5><p>A <dfn id="concept-week" title="concept-week">week</dfn> consists of a week-year
	number and a week number representing a seven day period. Each
	week-year in this calendaring system has either 52 weeks or 53
	weeks, as defined below. A week is a seven-day period. The week
	starting on the Gregorian date Monday December 29th 1969
	(1969-12-29) is defined as week number 1 in week-year
	1970. Consecutive weeks are numbered sequentially. The week before
	the number 1 week in a week-year is the last week in the previous
	week-year, and vice versa. <a href="http://www.clearboth.org/html5/references.html#refsGREGORIAN">[GREGORIAN]</a></p><p>A week-year with a number <var title="">year</var> has 53 weeks
	if it corresponds to either a year <var title="">year</var> in the
	proleptic Gregorian calendar that has a Thursday as its first day
	(January 1st), or a year <var title="">year</var> in the proleptic
	Gregorian calendar that has a Wednesday as its first day (January
	1st) and where <var title="">year</var> is a number divisible by
	400, or a number divisible by 4 but not by 100. All other week-years
	have 52 weeks.</p><p>The <dfn id="week-number-of-the-last-day">week number of the last day</dfn> of a week-year with 53
	weeks is 53; the week number of the last day of a week-year with 52
	weeks is 52.</p><p class="note">The week-year number of a particular day can be
	different than the number of the year that contains that day in the
	proleptic Gregorian calendar. The first week in a week-year <var title="">y</var> is the week that contains the first Thursday of
	the Gregorian year <var title="">y</var>.</p><p>A string is a <dfn id="valid-week-string">valid week string</dfn> representing a
	week-year <var title="">year</var> and week <var title="">week</var>
	if it consists of the following components in the given order:</p><ol><li>Four or more <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>, representing <var title="">year</var>, where <var title="">year</var>&nbsp;&gt;&nbsp;0</li>

	<li>A U+002D HYPHEN-MINUS character (-)</li>

	<li>A U+0057 LATIN CAPITAL LETTER W character</li>

	<li>Two <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime-digit" title="concept-datetime-digit">digits</a>,
	representing the week <var title="">week</var>, in the range
	1&nbsp;≤&nbsp;<var title="">week</var>&nbsp;≤&nbsp;<var title="">maxweek</var>, where <var title="">maxweek</var> is the
	<a href="http://www.clearboth.org/html5/infrastructure.html#week-number-of-the-last-day">week number of the last day</a> of week-year <var title="">year</var></li>

	</ol><div class="impl">

	<p>The rules to <dfn id="parse-a-week-string">parse a week string</dfn> are as follows. This
	will either return a week-year number and week number, or
	nothing. If at any point the algorithm says that it "fails", this
	means that it is aborted at that point and returns nothing.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
	sequence is not at least four characters long, then
	fail. Otherwise, interpret the resulting sequence as a base-ten
	integer. Let that number be the <var title="">year</var>.</p></li>

	<li><p>If <var title="">year</var> is not a number greater than
	zero, then fail.</p></li>

	<li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+002D HYPHEN-MINUS character,
	then fail. Otherwise, move <var title="">position</var> forwards
	one character.</p></li>

	<li><p>If <var title="">position</var> is beyond the end of <var title="">input</var> or if the character at <var title="">position</var> is not a U+0057 LATIN CAPITAL LETTER W
	character, then fail. Otherwise, move <var title="">position</var>
	forwards one character.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> in the range
	U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9). If the collected
	sequence is not exactly two characters long, then fail. Otherwise,
	interpret the resulting sequence as a base-ten integer. Let that
	number be the <var title="">week</var>.</p></li>

	<li><p>Let <var title="">maxweek</var> be the <a href="http://www.clearboth.org/html5/infrastructure.html#week-number-of-the-last-day">week number of
	the last day</a> of year <var title="">year</var>.</p></li>

	<li><p>If <var title="">week</var> is not a number in the range
	1&nbsp;≤&nbsp;<var title="">week</var>&nbsp;≤&nbsp;<var title="">maxweek</var>, then fail.</p></li>

	<li><p>If <var title="">position</var> is <em>not</em> beyond the
	end of <var title="">input</var>, then fail.</p></li>

	<li><p>Return the week-year number <var title="">year</var> and the
	week number <var title="">week</var>.</p></li>

	</ol></div><h5 id="vaguer-moments-in-time"><span class="secno">2.4.5.7 </span>Vaguer moments in time</h5><p>A <dfn id="date-or-time-string">date or time string</dfn> consists of either a <a href="http://www.clearboth.org/html5/infrastructure.html#concept-date" title="concept-date">date</a>, a <a href="http://www.clearboth.org/html5/infrastructure.html#concept-time" title="concept-time">time</a>, or a <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime" title="concept-datetime">global date and time</a>.</p><p>A string is a <dfn id="valid-date-or-time-string">valid date or time string</dfn> if it is also
	one of the following:</p><ul><li>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-date-string">valid date string</a>.</li>

	<li>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-time-string">valid time string</a>.</li>

	<li>A <a href="http://www.clearboth.org/html5/infrastructure.html#valid-global-date-and-time-string">valid global date and time string</a>.</li>

	</ul><p>A string is a <dfn id="valid-date-or-time-string-in-content">valid date or time string in content</dfn> if
	it consists of zero or more <a href="http://www.clearboth.org/html5/infrastructure.html#white_space">White_Space</a> characters,
	followed by a <a href="http://www.clearboth.org/html5/infrastructure.html#valid-date-or-time-string">valid date or time string</a>, followed by
	zero or more further <a href="http://www.clearboth.org/html5/infrastructure.html#white_space">White_Space</a> characters.</p><div class="impl">

	<p>The rules to <dfn id="parse-a-date-or-time-string">parse a date or time string</dfn> are as
	follows. The algorithm is invoked with a flag indicating if the
	<i>in attribute</i> variant or the <i>in content</i> variant is to
	be used. The algorithm will either return a <a href="http://www.clearboth.org/html5/infrastructure.html#concept-date" title="concept-date">date</a>, a <a href="http://www.clearboth.org/html5/infrastructure.html#concept-time" title="concept-time">time</a>, a <a href="http://www.clearboth.org/html5/infrastructure.html#concept-datetime" title="concept-datetime">global date and time</a>, or nothing. If
	at any point the algorithm says that it "fails", this means that it
	is aborted at that point and returns nothing.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p>For the <i>in content</i> variant: <a href="http://www.clearboth.org/html5/infrastructure.html#skip-white_space-characters">skip White_Space
	characters</a>.</p></li>

	<li><p>Set <var title="">start position</var> to the same position
	as <var title="">position</var>.</p></li>

	<li><p>Set the <var title="">date present</var> and <var title="">time present</var> flags to true.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-date-component">Parse a date component</a> to obtain <var title="">year</var>, <var title="">month</var>, and <var title="">day</var>. If this fails, then set the <var title="">date
	present</var> flag to false.</p>

	</li><li>

	<p>If <var title="">date present</var> is true, and <var title="">position</var> is not beyond the end of <var title="">input</var>, and the character at <var title="">position</var> is a U+0054 LATIN CAPITAL LETTER T
	character, then advance <var title="">position</var> to the next
	character in <var title="">input</var>.</p>

	<p>Otherwise, if <var title="">date present</var> is true, and
	either <var title="">position</var> is beyond the end of <var title="">input</var> or the character at <var title="">position</var> is not a U+0054 LATIN CAPITAL LETTER T
	character, then set <var title="">time present</var> to false.</p>

	<p>Otherwise, if <var title="">date present</var> is false, set
	<var title="">position</var> back to the same position as <var title="">start position</var>.</p>

	</li>

	<li><p>If the <var title="">time present</var> flag is true, then
	<a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-time-component">parse a time component</a> to obtain <var title="">hour</var>, <var title="">minute</var>, and <var title="">second</var>. If this returns nothing, then set the <var title="">time present</var> flag to false.</p>

	</li><li><p>If both the <var title="">date present</var> and <var title="">time present</var> flags are false, then fail.</p></li>

	<li><p>If the <var title="">date present</var> and <var title="">time present</var> flags are both true, but <var title="">position</var> is beyond the end of <var title="">input</var>, then fail.</p></li>

	<li><p>If the <var title="">date present</var> and <var title="">time present</var> flags are both true, <a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-time-zone-component">parse a
	time-zone component</a> to obtain <var title="">timezone<sub title="">hours</sub></var> and <var title="">timezone<sub title="">minutes</sub></var>. If this returns nothing, then
	fail.</p>

	</li><li><p>For the <i>in content</i> variant: <a href="http://www.clearboth.org/html5/infrastructure.html#skip-white_space-characters">skip White_Space
	characters</a>.</p></li>

	<li><p>If <var title="">position</var> is <em>not</em> beyond the
	end of <var title="">input</var>, then fail.</p></li>

	<li>

	<p>If the <var title="">date present</var> flag is true and the
	<var title="">time present</var> flag is false, then let <var title="">date</var> be the date with year <var title="">year</var>, month <var title="">month</var>, and day <var title="">day</var>, and return <var title="">date</var>.</p>

	<p>Otherwise, if the <var title="">time present</var> flag is true
	and the <var title="">date present</var> flag is false, then let
	<var title="">time</var> be the time with hour <var title="">hour</var>, minute <var title="">minute</var>, and second
	<var title="">second</var>, and return <var title="">time</var>.</p>

	<p>Otherwise, let <var title="">time</var> be the moment in time
	at year <var title="">year</var>, month <var title="">month</var>,
	day <var title="">day</var>, hours <var title="">hour</var>,
	minute <var title="">minute</var>, second <var title="">second</var>, subtracting <var title="">timezone<sub title="">hours</sub></var> hours and <var title="">timezone<sub title="">minutes</sub></var> minutes, that moment in time being a
	moment in the UTC time zone; let <var title="">timezone</var> be
	<var title="">timezone<sub title="">hours</sub></var> hours and
	<var title="">timezone<sub title="">minutes</sub></var> minutes
	from UTC; and return <var title="">time</var> and <var title="">timezone</var>.</p>

	</li>

	</ol></div>
	<h4 id="colors"><span class="secno">2.4.6 </span>Colors</h4>

	<p class="XXX annotation"><b>Status: </b><i>First draft</i></p><p>A <dfn id="simple-color">simple color</dfn> consists of three 8-bit numbers in the
	range 0..255, representing the red, green, and blue components of
	the color respectively, in the sRGB color space. <a href="http://www.clearboth.org/html5/references.html#refsSRGB">[SRGB]</a></p><p>A string is a <dfn id="valid-simple-color">valid simple color</dfn> if it is exactly
	seven characters long, and the first character is a U+0023 NUMBER
	SIGN (#) character, and the remaining six characters are all in the
	range U+0030 DIGIT ZERO (0) .. U+0039 DIGIT NINE (9), U+0041 LATIN
	CAPITAL LETTER A .. U+0046 LATIN CAPITAL LETTER F, U+0061 LATIN
	SMALL LETTER A .. U+0066 LATIN SMALL LETTER F, with the first two
	digits representing the red component, the middle two digits
	representing the green component, and the last two digits
	representing the blue component, in hexadecimal.</p><p>A string is a <dfn id="valid-lowercase-simple-color">valid lowercase simple color</dfn> if it is a
	<a href="http://www.clearboth.org/html5/infrastructure.html#valid-simple-color">valid simple color</a> and doesn't use any characters in
	the range U+0041 LATIN CAPITAL LETTER A .. U+0046 LATIN CAPITAL
	LETTER F.</p><div class="impl">

	<p>The <dfn id="rules-for-parsing-simple-color-values">rules for parsing simple color values</dfn> are as given
	in the following algorithm. When invoked, the steps must be followed
	in the order given, aborting at the first step that returns a
	value. This algorithm will either return a <a href="http://www.clearboth.org/html5/infrastructure.html#simple-color">simple color</a>
	or an error.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>If <var title="">input</var> is not exactly seven characters
	long, then return an error.</p></li>

	<li><p>If the first character in <var title="">input</var> is not a
	U+0023 NUMBER SIGN (#) character, then return an error.</p></li>

	<li><p>If the last six characters of <var title="">input</var> are
	not all in the range U+0030 DIGIT ZERO (0) .. U+0039 DIGIT NINE
	(9), U+0041 LATIN CAPITAL LETTER A .. U+0046 LATIN CAPITAL LETTER
	F, U+0061 LATIN SMALL LETTER A .. U+0066 LATIN SMALL LETTER F, then
	return an error.</p></li>

	<li><p>Let <var title="">result</var> be a <a href="http://www.clearboth.org/html5/infrastructure.html#simple-color">simple
	color</a>.</p>

	</li><li><p>Interpret the second and third characters as a hexadecimal
	number and let the result be the red component of <var title="">result</var>.</p>

	</li><li><p>Interpret the fourth and fifth characters as a hexadecimal
	number and let the result be the green component of <var title="">result</var>.</p>

	</li><li><p>Interpret the sixth and seventh characters as a hexadecimal
	number and let the result be the blue component of <var title="">result</var>.</p>

	</li><li><p>Return <var title="">result</var>.</p>

	</li></ol><p>The <dfn id="rules-for-serializing-simple-color-values">rules for serializing simple color values</dfn> given a
	<a href="http://www.clearboth.org/html5/infrastructure.html#simple-color">simple color</a> are as given in the following
	algorithm:</p>

	<ol><li><p>Let <var title="">result</var> be a string consisting of a
	single U+0023 NUMBER SIGN (#) character.</p></li>

	<li><p>Convert the red, green, and blue components in turn to
	two-digit hexadecimal numbers using the digits U+0030 DIGIT ZERO
	(0) .. U+0039 DIGIT NINE (9) and U+0061 LATIN SMALL LETTER A
	.. U+0066 LATIN SMALL LETTER F, zero-padding if necessary, and
	append these numbers to <var title="">result</var>, in the order
	red, green, blue.</p>

	</li><li><p>Return <var title="">result</var>, which will be a
	<a href="http://www.clearboth.org/html5/infrastructure.html#valid-lowercase-simple-color">valid lowercase simple color</a>.</p></li>

	</ol><hr><p>Some obsolete legacy attributes parse colors in a more
	complicated manner, using the <dfn id="rules-for-parsing-a-legacy-color-value">rules for parsing a legacy color
	value</dfn>, which are given in the following algorithm. When
	invoked, the steps must be followed in the order given, aborting at
	the first step that returns a value. This algorithm will either
	return a <a href="http://www.clearboth.org/html5/infrastructure.html#simple-color">simple color</a> or an error.</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>If <var title="">input</var> is the empty string, then
	return an error.</p></li>

	<li><p>If <var title="">input</var> is an <a href="http://www.clearboth.org/html5/infrastructure.html#ascii-case-insensitive">ASCII
	case-insensitive</a> match for the string "<code title="">transparent</code>", then return an error.</p></li>

	<li><p>If <var title="">input</var> is an <a href="http://www.clearboth.org/html5/infrastructure.html#ascii-case-insensitive">ASCII
	case-insensitive</a> match for one of the keywords listed in the
	<a href="http://www.w3.org/TR/css3-color/#svg-color">SVG color
	keywords</a> or <a href="http://www.w3.org/TR/css3-color/#css2-system">CSS2 System
	Colors</a> sections of the CSS3 Color specification, then return
	the <a href="http://www.clearboth.org/html5/infrastructure.html#simple-color">simple color</a> corresponding to that keyword. <a href="http://www.clearboth.org/html5/references.html#refsCSSCOLOR">[CSSCOLOR]</a></p></li>

	<li>

	<p>If <var title="">input</var> is four characters long, and the
	first character in <var title="">input</var> is a U+0023 NUMBER
	SIGN (#) character, and the last three characters of <var title="">input</var> are all in the range U+0030 DIGIT ZERO (0)
	.. U+0039 DIGIT NINE (9), U+0041 LATIN CAPITAL LETTER A .. U+0046
	LATIN CAPITAL LETTER F, and U+0061 LATIN SMALL LETTER A .. U+0066
	LATIN SMALL LETTER F, then run these substeps:</p>

	<ol><li><p>Let <var title="">result</var> be a <a href="http://www.clearboth.org/html5/infrastructure.html#simple-color">simple
	color</a>.</p>

	</li><li><p>Interpret the second character of <var title="">input</var> as a hexadecimal digit; let the red
	component of <var title="">result</var> be the resulting number
	multiplied by 17.</p>

	</li><li><p>Interpret the third character of <var title="">input</var>
	as a hexadecimal digit; let the green component of <var title="">result</var> be the resulting number multiplied by
	17.</p>

	</li><li><p>Interpret the fourth character of <var title="">input</var> as a hexadecimal digit; let the blue
	component of <var title="">result</var> be the resulting number
	multiplied by 17.</p>

	</li><li><p>Return <var title="">result</var>.</p>

	</li></ol></li>

	<li><p>Replace any characters in <var title="">input</var> that
	have a Unicode code point greater than U+FFFF (i.e. any characters
	that are not in the basic multilingual plane) with the
	two-character string "<code title="">00</code>".</p></li>

	<li><p>If <var title="">input</var> is longer than 128 characters,
	truncate <var title="">input</var>, leaving only the first 128
	characters.</p></li>

	<li><p>If the first character in <var title="">input</var> is a
	U+0023 NUMBER SIGN character (#), remove it.</p></li>

	<li><p>Replace any character in <var title="">input</var> that is
	not in the range U+0030 DIGIT ZERO (0) .. U+0039 DIGIT NINE (9),
	U+0041 LATIN CAPITAL LETTER A .. U+0046 LATIN CAPITAL LETTER F, and
	U+0061 LATIN SMALL LETTER A .. U+0066 LATIN SMALL LETTER F with the
	character U+0030 DIGIT ZERO (0).</p></li>

	<li><p>While <var title="">input</var>'s length is zero or not a
	multiple of three, append a U+0030 DIGIT ZERO (0) character to <var title="">input</var>.</p></li>

	<li><p>Split <var title="">input</var> into three strings of equal
	length, to obtain three components. Let <var title="">length</var>
	be the length of those components (one third the length of <var title="">input</var>).</p></li>

	<li><p>If <var title="">length</var> is greater than 8, then remove
	the leading <span title=""><var title="">length</var>-8</span>
	characters in each component, and let <var title="">length</var> be
	8.</p></li>

	<li><p>While <var title="">length</var> is greater than two and the
	first character in each component is a U+0030 DIGIT ZERO (0)
	character, remove that character and reduce <var title="">length</var> by one.</p></li>

	<li><p>If <var title="">length</var> is <em>still</em> greater than
	two, truncate each component, leaving only the first two
	characters in each.</p></li>

	<li><p>Let <var title="">result</var> be a <a href="http://www.clearboth.org/html5/infrastructure.html#simple-color">simple
	color</a>.</p>

	</li><li><p>Interpret the first component as a hexadecimal number; let
	the red component of <var title="">result</var> be the resulting
	number.</p></li>

	<li><p>Interpret the second component as a hexadecimal number; let
	the green component of <var title="">result</var> be the resulting
	number.</p></li>

	<li><p>Interpret the third component as a hexadecimal number; let
	the blue component of <var title="">result</var> be the resulting
	number.</p></li>

	<li><p>Return <var title="">result</var>.</p>

	</li></ol></div><hr><p class="note">The <a href="http://www.clearboth.org/html5/the-canvas-element.html#canvas-context-2d" title="canvas-context-2d">2D graphics
	context</a> has a separate color syntax that also handles
	opacity.</p>
	<h4 id="space-separated-tokens"><span class="secno">2.4.7 </span>Space-separated tokens</h4>

	<p>A <dfn id="set-of-space-separated-tokens">set of space-separated tokens</dfn> is a set of zero or
	more words separated by one or more <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space
	character">space characters</a>, where words consist of any
	string of one or more characters, none of which are <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a>.</p><p>A string containing a <a href="http://www.clearboth.org/html5/infrastructure.html#set-of-space-separated-tokens">set of space-separated tokens</a>
	may have leading or trailing <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space
	characters</a>.</p><p>An <dfn id="unordered-set-of-unique-space-separated-tokens">unordered set of unique space-separated tokens</dfn> is a
	<a href="http://www.clearboth.org/html5/infrastructure.html#set-of-space-separated-tokens">set of space-separated tokens</a> where none of the words
	are duplicated.</p><p>An <dfn id="ordered-set-of-unique-space-separated-tokens">ordered set of unique space-separated tokens</dfn> is a
	<a href="http://www.clearboth.org/html5/infrastructure.html#set-of-space-separated-tokens">set of space-separated tokens</a> where none of the words
	are duplicated but where the order of the tokens is meaningful.</p><p><a href="http://www.clearboth.org/html5/infrastructure.html#set-of-space-separated-tokens" title="set of space-separated tokens">Sets of
	space-separated tokens</a> sometimes have a defined set of
	allowed values. When a set of allowed values is defined, the tokens
	must all be from that list of allowed values; other values are
	non-conforming. If no such set of allowed values is provided, then
	all values are conforming.</p><div class="impl">

	<p>When a user agent has to <dfn id="split-a-string-on-spaces">split a string on spaces</dfn>, it
	must use the following algorithm:</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p>Let <var title="">tokens</var> be a list of tokens,
	initially empty.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#skip-whitespace">Skip whitespace</a></p></li>

	<li><p>While <var title="">position</var> is not past the end of
	<var title="">input</var>:</p>

	<ol><li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not
	<a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a>.</p></li>

	<li><p>Add the string collected in the previous step to <var title="">tokens</var>.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#skip-whitespace">Skip whitespace</a></p></li>

	</ol></li>

	<li><p>Return <var title="">tokens</var>.</p></li>

	</ol><p>When a user agent has to <dfn id="remove-a-token-from-a-string">remove a token from a string</dfn>,
	it must use the following algorithm:</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	modified.</p></li>

	<li><p>Let <var title="">token</var> be the token being removed. It
	will not contain any <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space
	characters</a>.</p></li>

	<li><p>Let <var title="">output</var> be the output string,
	initially empty.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p>If <var title="">position</var> is beyond the end of <var title="">input</var>, set the string being modified to <var title="">output</var>, and abort these steps.</p></li>

	<li><p>If the character at <var title="">position</var> is a
	<a href="http://www.clearboth.org/html5/infrastructure.html#space-character">space character</a>:

	</p><ol><li><p>Append the character at <var title="">position</var> to
	the end of <var title="">output</var>.</p></li>

	<li><p>Increment <var title="">position</var> so it points at the
	next character in <var title="">input</var>.</p></li>

	<li><p>Return to step 5 in the overall set of steps.</p></li>

	</ol></li>

	<li><p>Otherwise, the character at <var title="">position</var> is
	the first character of a token. <a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of
	characters</a> that are not <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space
	characters</a>, and let that be <var title="">s</var>.</p></li>

	<li><p>If <var title="">s</var> is exactly equal to <var title="">token</var>, then:</p>

	<ol><li><p><a href="http://www.clearboth.org/html5/infrastructure.html#skip-whitespace">Skip whitespace</a> (in <var title="">input</var>).</p></li>

	<li><p>Remove any <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space
	characters</a> currently at the end of <var title="">output</var>.</p></li>

	<li><p>If <var title="">position</var> is not past the end of
	<var title="">input</var>, and <var title="">output</var> is not
	the empty string, append a single U+0020 SPACE character at the
	end of <var title="">output</var>.</p></li>

	</ol></li>

	<li><p>Otherwise, append <var title="">s</var> to the end of <var title="">output</var>.</p></li>

	<li><p>Return to step 6 in the overall set of steps.</p></li>

	</ol><p class="note">This causes any occurrences of the token to be
	removed from the string, and any spaces that were surrounding the
	token to be collapsed to a single space, except at the start and end
	of the string, where such spaces are removed.</p>

	</div>
	<h4 id="comma-separated-tokens"><span class="secno">2.4.8 </span>Comma-separated tokens</h4>

	<p>A <dfn id="set-of-comma-separated-tokens">set of comma-separated tokens</dfn> is a set of zero or
	more tokens each separated from the next by a single U+002C COMMA
	character (<code title="">,</code>), where tokens consist of any
	string of zero or more characters, neither beginning nor ending with
	<a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a>, nor
	containing any U+002C COMMA characters (<code title="">,</code>),
	and optionally surrounded by <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space
	characters</a>.</p><p class="example">For instance, the string "<code title="">&nbsp;a&nbsp;,b,,d&nbsp;d&nbsp;</code>" consists of four
	tokens: "a", "b", the empty string, and "d&nbsp;d". Leading and
	trailing whitespace around each token doesn't count as part of the
	token, and the empty string can be a token.</p><p><a href="http://www.clearboth.org/html5/infrastructure.html#set-of-comma-separated-tokens" title="set of comma-separated tokens">Sets of
	comma-separated tokens</a> sometimes have further restrictions on
	what consists a valid token. When such restrictions are defined, the
	tokens must all fit within those restrictions; other values are
	non-conforming. If no such restrictions are specified, then all
	values are conforming.</p><div class="impl">

	<p>When a user agent has to <dfn id="split-a-string-on-commas">split a string on commas</dfn>, it
	must use the following algorithm:</p>

	<ol><li><p>Let <var title="">input</var> be the string being
	parsed.</p></li>

	<li><p>Let <var title="">position</var> be a pointer into <var title="">input</var>, initially pointing at the start of the
	string.</p></li>

	<li><p>Let <var title="">tokens</var> be a list of tokens,
	initially empty.</p></li>

	<li><p><i>Token</i>: If <var title="">position</var> is past the
	end of <var title="">input</var>, jump to the last step.</p></li>

	<li><p><a href="http://www.clearboth.org/html5/infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not
	U+002C COMMA characters (<code title="">,</code>). Let <var title="">s</var> be the resulting sequence (which might be the
	empty string).</p></li>

	<li><p>Remove any leading or trailing sequence of <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a> from <var title="">s</var>.</p></li>

	<li><p>Add <var title="">s</var> to <var title="">tokens</var>.</p></li>

	<li><p>If <var title="">position</var> is not past the end of <var title="">input</var>, then the character at <var title="">position</var> is a U+002C COMMA character (<code title="">,</code>); advance <var title="">position</var> past that
	character.</p></li>

	<li><p>Jump back to the step labeled <i>token</i>.</p></li>

	<li><p>Return <var title="">tokens</var>.</p></li>

	</ol></div>
	<h4 id="reversed-dns-identifiers"><span class="secno">2.4.9 </span>Reversed DNS identifiers</h4>

	<p>A <dfn id="valid-reversed-dns-identifier">valid reversed DNS identifier</dfn> is a string that
	consists of a series of IDNA labels in reverse order (i.e. starting
	with the top-level domain), the prefix of which, when reversed and
	converted to ASCII, corresponds to a registered domain.</p><p class="example">For instance, the string "<code title="">com.example.xn--74h</code>" is a <a href="http://www.clearboth.org/html5/infrastructure.html#valid-reversed-dns-identifier">valid reversed DNS
	identifier</a> because the string "<code title="">example.com</code>" is a registered domain.</p><div class="impl">

	<p>To check if a string is a <a href="http://www.clearboth.org/html5/infrastructure.html#valid-reversed-dns-identifier">valid reversed DNS
	identifier</a>, conformance checkers must run the following algorithm:</p>

	<ol><li>

	<p>Apply the IDNA ToASCII algorithm to the string, with both the
	AllowUnassigned and UseSTD3ASCIIRules flags set, but between steps
	2 and 3 of the general ToASCII/ToUnicode algorithm (i.e. after
	splitting the domain name into individual labels), reverse the
	order of the labels.</p>

	<p>If ToASCII fails to convert one of the components of the
	string, e.g. because it is too long or because it contains invalid
	characters, then the string is not valid; abort these steps. <a href="http://www.clearboth.org/html5/references.html#refsRFC3490">[RFC3490]</a></p>

	</li>

	<li>

	<p>Check that the end of the resulting string matches a suffix in
	the Public Suffix List, and that there is at least one domain
	label before the matching substring. If it does not, or if there
	is not, then the string is not valid; abort these steps. <a href="http://www.clearboth.org/html5/references.html#refsPSL">[PSL]</a></p>

	</li>

	<li>

	<p>Check that the domain name up to the label before the prefix
	that was matched in the previous string is a registered domain
	name.</p>

	</li>

	</ol></div>
	<h4 id="syntax-references"><span class="secno">2.4.10 </span>References</h4>

	<p>A <dfn id="valid-hash-name-reference">valid hash-name reference</dfn> to an element of type <var title="">type</var> is a string consisting of a U+0023 NUMBER SIGN
	(<code title="">#</code>) character followed by a string which
	exactly matches the value of the <code title="">name</code>
	attribute of an element in the document with type <var title="">type</var>.</p><div class="impl">

	<p>The <dfn id="rules-for-parsing-a-hash-name-reference">rules for parsing a hash-name reference</dfn> to an
	element of type <var title="">type</var> are as follows:</p>

	<ol><li><p>If the string being parsed does not contain a U+0023 NUMBER
	SIGN character, or if the first such character in the string is the
	last character in the string, then return null and abort these
	steps.</p></li>

	<li><p>Let <var title="">s</var> be the string from the character
	immediately after the first U+0023 NUMBER SIGN character in the
	string being parsed up to the end of that string.</p></li>

	<li><p>Return the first element of type <var title="">type</var>
	that has an <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code> attribute whose value
	is a <a href="http://www.clearboth.org/html5/infrastructure.html#case-sensitive">case-sensitive</a> match for <var title="">s</var> or
	a <code title="">name</code> attribute whose value is a
	<a href="http://www.clearboth.org/html5/infrastructure.html#compatibility-caseless">compatibility caseless</a> match for <var title="">s</var>.</p></li>

	<!--
	IE is also doing case-insensitive id="" matching.
	Tests:
	http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cmap%20name%3D%22T%26eacute%3B%26%23x01F1%3B%26%23x2075%3B%22%3E%3Carea%20href%3D%22%2F%22%20shape%3Drect%20coords%3D0%2C0%2C200%2C200%3E%3C%2Fmap%3E%0A%3Cimg%20usemap%3D%22%23t%26Eacute%3BDZ5%22%20src%3Dimage%3E
	...except that doesn't explain why this fails:
	http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cmap%20name%3D%22T%26eacute%3B%26%23x01F1%3B%26%23x2075%3B%26%23xFB01%3B%22%3E%3Carea%20href%3D%22%2F%22%20shape%3Drect%20coords%3D0%2C0%2C200%2C200%3E%3C%2Fmap%3E%0A%3Cimg%20usemap%3D%22%23t%26Eacute%3BDZ5F%26%23x0131%3B%26%23x0307%3B%22%20src%3Dimage%3E
	maybe they just don't know about combining dot above?
	-->

	</ol></div></div>
	<h3 id="urls"><span class="secno">2.5 </span>URLs</h3>

<span class="collapser">show</span><div class="notyet hidden"><p class="XXX annotation"><b>Status: </b><i>Working draft. </i><span><a href="http://www.w3.org/html/wg/tracker/issues/56">ISSUE-56</a> (urls-webarch) blocks progress to Last Call</span></p><h4 id="terminology-0"><span class="secno">2.5.1 </span>Terminology</h4><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p><p>A <dfn id="url">URL</dfn> is a string used to identify a resource.</p><p>A <a href="http://www.clearboth.org/html5/infrastructure.html#url">URL</a> is a <dfn id="valid-url">valid URL</dfn> if it is a
	<span>valid Web address</span> as defined by the Web addresses
	specification. <a href="http://www.clearboth.org/html5/references.html#refsWEBADDRESSES">[WEBADDRESSES]</a></p><p>A <a href="http://www.clearboth.org/html5/infrastructure.html#url">URL</a> is an <dfn id="absolute-url">absolute URL</dfn> if it is an
	<span>absolute Web address</span> as defined by the Web addresses
	specification. <a href="http://www.clearboth.org/html5/references.html#refsWEBADDRESSES">[WEBADDRESSES]</a></p><div class="impl">

	<p>To <dfn id="parse-a-url">parse a URL</dfn> <var title="">url</var> into its
	component parts, the user agent must use the <span>parse a Web
	address</span> algorithm defined by the Web addresses
	specification. <a href="http://www.clearboth.org/html5/references.html#refsWEBADDRESSES">[WEBADDRESSES]</a></p>

	<p>Parsing a URL results in the following components, again as
	defined by the Web addresses specification:</p>

	<ul class="brief"><li><dfn id="url-scheme" title="url-scheme">&lt;scheme&gt;</dfn></li>
	<li><dfn id="url-host" title="url-host">&lt;host&gt;</dfn></li>
	<li><dfn id="url-port" title="url-port">&lt;port&gt;</dfn></li>
	<li><dfn id="url-hostport" title="url-hostport">&lt;hostport&gt;</dfn></li>
	<li><dfn id="url-path" title="url-path">&lt;path&gt;</dfn></li>
	<li><dfn id="url-query" title="url-query">&lt;query&gt;</dfn></li>
	<li><dfn id="url-fragment" title="url-fragment">&lt;fragment&gt;</dfn></li>
	<li><dfn id="url-host-specific" title="url-host-specific">&lt;host-specific&gt;</dfn></li>
	</ul><p>To <dfn id="resolve-a-url">resolve a URL</dfn> to an <a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute URL</a>
	relative to either another <a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute URL</a> or an element,
	the user agent must use the <span>resolve a Web address</span>
	algorithm defined by the Web addresses specification. <a href="http://www.clearboth.org/html5/references.html#refsWEBADDRESSES">[WEBADDRESSES]</a></p>

	<p>The <dfn id="document-base-url">document base URL</dfn> of a <code>Document</code>
	object is the <span>document base Web address</span> as defined by
	the Web addresses specification. <a href="http://www.clearboth.org/html5/references.html#refsWEBADDRESSES">[WEBADDRESSES]</a></p>

	</div><p class="note">The term "URL" in this specification is used in a
	manner distinct from the precise technical meaning it is given in
	RFC 3986. Readers familiar with that RFC will find it easier to read
	<em>this</em> specification if they pretend the term "URL" as used
	herein is really called something else altogether. This is a
	<a href="http://www.clearboth.org/html5/introduction.html#willful-violation">willful violation</a> of RFC 3986. <a href="http://www.clearboth.org/html5/references.html#refsRFC3986">[RFC3986]</a></p><div class="impl">

	<h4 id="dynamic-changes-to-base-urls"><span class="secno">2.5.2 </span>Dynamic changes to base URLs</h4><p class="XXX annotation"><b>Status: </b><i>Awaiting implementation feedback</i></p>

	<p>When an <code title="attr-xml-base"><a href="http://www.clearboth.org/html5/dom.html#the-xml:base-attribute-xml-only">xml:base</a></code> attribute
	changes, the attribute's element, and all descendant elements, are
	<a href="http://www.clearboth.org/html5/infrastructure.html#affected-by-a-base-url-change">affected by a base URL change</a>.</p>

	<p>When a document's <a href="http://www.clearboth.org/html5/infrastructure.html#document-base-url">document base URL</a> changes, all
	elements in that document are <a href="http://www.clearboth.org/html5/infrastructure.html#affected-by-a-base-url-change">affected by a base URL
	change</a>.</p>

	<p>When an element is moved from one document to another, if the two
	documents have different <a href="http://www.clearboth.org/html5/infrastructure.html#document-base-url" title="document base URL">base
	URLs</a>, then that element and all its descendants are
	<a href="http://www.clearboth.org/html5/infrastructure.html#affected-by-a-base-url-change">affected by a base URL change</a>.</p>

	<p>When an element is <dfn id="affected-by-a-base-url-change">affected by a base URL change</dfn>, it
	must act as described in the following list:</p>

	<dl class="switch"><dt>If the element is a <a href="http://www.clearboth.org/html5/history.html#hyperlink" title="hyperlink">hyperlink
	element</a></dt>

	<dd>

	<p>If the <a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute URL</a> identified by the hyperlink is
	being shown to the user, or if any data derived from that URL is
	affecting the display, then the <code title="attr-hyperlink-href"><a href="http://www.clearboth.org/html5/history.html#attr-hyperlink-href">href</a></code> attribute should be <a href="http://www.clearboth.org/html5/infrastructure.html#resolve-a-url" title="resolve a url">re-resolved</a> relative to the element
	and the UI updated appropriately.</p>

	<p class="example">For example, the CSS <code title="selector-link"><a href="http://www.clearboth.org/html5/interactive-elements.html#selector-link">:link</a></code>/<code title="selector-visited"><a href="http://www.clearboth.org/html5/interactive-elements.html#selector-visited">:visited</a></code> pseudo-classes might have
	been affected.</p>

	<p>If the hyperlink has a <code title="attr-hyperlink-ping"><a href="http://www.clearboth.org/html5/history.html#ping">ping</a></code> attribute and its <a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url" title="absolute URL">absolute URL(s)</a> are being shown to the
	user, then the <code title="attr-hyperlink-ping"><a href="http://www.clearboth.org/html5/history.html#ping">ping</a></code>
	attribute's tokens should be <a href="http://www.clearboth.org/html5/infrastructure.html#resolve-a-url" title="resolve a
	url">re-resolved</a> relative to the element and the UI updated
	appropriately.</p>

	</dd>

	<dt>If the element is a <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-q-element">q</a></code>, <code><a href="http://www.clearboth.org/html5/semantics.html#the-blockquote-element">blockquote</a></code>,
	<code><a href="http://www.clearboth.org/html5/semantics.html#the-section-element">section</a></code>, <code><a href="http://www.clearboth.org/html5/semantics.html#the-article-element">article</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-ins-element">ins</a></code>, or
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-del-element">del</a></code> element with a <code title="">cite</code>
	attribute</dt>

	<dd>

	<p>If the <a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute URL</a> identified by the <code title="">cite</code> attribute is being shown to the user, or if
	any data derived from that URL is affecting the display, then the
	<a href="http://www.clearboth.org/html5/infrastructure.html#url">URL</a> should be <a href="http://www.clearboth.org/html5/infrastructure.html#resolve-a-url" title="resolve a
	url">re-resolved</a> relative to the element and the UI updated
	appropriately.</p>

	</dd>

	<dt>Otherwise</dt>

	<dd>

	<p>The element is not directly affected.</p>

	<p class="example">Changing the base URL doesn't affect the image
	displayed by <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-img-element">img</a></code> elements, although subsequent
	accesses of the <code title="dom-img-src"><a href="http://www.clearboth.org/html5/text-level-semantics.html#dom-img-src">src</a></code> DOM attribute
	from script will return a new <a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute URL</a> that might
	no longer correspond to the image being shown.</p>

	</dd>

	</dl></div><h4 id="interfaces-for-url-manipulation"><span class="secno">2.5.3 </span>Interfaces for URL manipulation</h4><p class="XXX annotation"><b>Status: </b><i>Last call for comments</i></p><p>An interface that has a complement of <dfn id="url-decomposition-attributes">URL decomposition
	attributes</dfn> will have seven attributes with the following
	definitions:</p><pre class="idl extract">           attribute DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-protocol" title="dom-uda-protocol">protocol</a>;
	attribute DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-host" title="dom-uda-host">host</a>;
	attribute DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-hostname" title="dom-uda-hostname">hostname</a>;
	attribute DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-port" title="dom-uda-port">port</a>;
	attribute DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-pathname" title="dom-uda-pathname">pathname</a>;
	attribute DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-search" title="dom-uda-search">search</a>;
	attribute DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-hash" title="dom-uda-hash">hash</a>;
	</pre><dl class="domintro"><dt><var title="">o</var> . <code title="dom-uda-protocol"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-protocol">protocol</a></code> [ = <var title="">value</var> ]</dt>
	<dd>
	<p>Returns the current scheme of the underlying URL.</p>
	<p>Can be set, to change the underlying URL's scheme.</p>
	</dd>

	<dt><var title="">o</var> . <code title="dom-uda-host"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-host">host</a></code> [ = <var title="">value</var> ]</dt>
	<dd>
	<p>Returns the current host and port (if it's not the default port) in the underlying URL.</p>
	<p>Can be set, to change the underlying URL's host and port.</p>
	<p>The host and the port are separated by a colon. The port part,
	if omitted, will be assumed to be the current scheme's default
	port.</p>
	</dd>

	<dt><var title="">o</var> . <code title="dom-uda-hostname"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-hostname">hostname</a></code> [ = <var title="">value</var> ]</dt>
	<dd>
	<p>Returns the current host in the underlying URL.</p>
	<p>Can be set, to change the underlying URL's host.</p>
	</dd>

	<dt><var title="">o</var> . <code title="dom-uda-port"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-port">port</a></code> [ = <var title="">value</var> ]</dt>
	<dd>
	<p>Returns the current port in the underlying URL.</p>
	<p>Can be set, to change the underlying URL's port.</p>
	</dd>

	<dt><var title="">o</var> . <code title="dom-uda-pathname"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-pathname">pathname</a></code> [ = <var title="">value</var> ]</dt>
	<dd>
	<p>Returns the current path in the underlying URL.</p>
	<p>Can be set, to change the underlying URL's path.</p>
	</dd>

	<dt><var title="">o</var> . <code title="dom-uda-search"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-search">search</a></code> [ = <var title="">value</var> ]</dt>
	<dd>
	<p>Returns the current query component in the underlying URL.</p>
	<p>Can be set, to change the underlying URL's query component.</p>
	</dd>

	<dt><var title="">o</var> . <code title="dom-uda-hash"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-hash">hash</a></code> [ = <var title="">value</var> ]</dt>
	<dd>
	<p>Returns the current fragment identifier in the underlying URL.</p>
	<p>Can be set, to change the underlying URL's fragment identifier.</p>
	</dd>

	</dl><div class="impl">

	<hr><p>The attributes defined to be URL decomposition attributes must
	act as described for the attributes with the same corresponding
	names in this section.</p>

	<p>In addition, an interface with a complement of URL decomposition
	attributes will define an <dfn id="concept-uda-input" title="concept-uda-input">input</dfn>, which is a <a href="http://www.clearboth.org/html5/infrastructure.html#url">URL</a>
	that the attributes act on, and a <dfn id="concept-uda-setter" title="concept-uda-setter">common setter action</dfn>, which is a
	set of steps invoked when any of the attributes' setters are
	invoked.</p>

	<p>The seven URL decomposition attributes have similar
	requirements.</p>

	<p>On getting, if the <a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a>
	is an <a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute URL</a> that fulfills the condition given in
	the "getter condition" column corresponding to the attribute in the
	table below, the user agent must return the part of the <a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> URL given in the "component"
	column, with any prefixes specified in the "prefix" column
	appropriately added to the start of the string and any suffixes
	specified in the "suffix" column appropriately added to the end of
	the string. Otherwise, the attribute must return the empty
	string.</p>

	<p>On setting, the new value must first be mutated as described by
	the "setter preprocessor" column, then mutated by %-escaping any
	characters in the new value that are not valid in the relevant
	component as given by the "component" column. Then, if the <a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> is an <a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute
	URL</a> and the resulting new value fulfills the condition given
	in the "setter condition" column, the user agent must make a new
	string <var title="">output</var> by replacing the component of the
	URL given by the "component" column in the <a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> URL with the new value;
	otherwise, the user agent must let <var title="">output</var> be
	equal to the <a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a>. Finally,
	the user agent must invoke the <a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-setter" title="concept-uda-setter">common setter action</a> with the
	value of <var title="">output</var>.</p>

	<p>When replacing a component in the URL, if the component is part
	of an optional group in the URL syntax consisting of a character
	followed by the component, the component (including its prefix
	character) must be included even if the new value is the empty
	string.</p>

	<p class="note">The previous paragraph applies in particular to the
	"<code title="">:</code>" before a &lt;port&gt; component, the "<code title="">?</code>" before a &lt;query&gt; component, and the "<code title="">#</code>" before a &lt;fragment&gt; component.</p>

	<p>For the purposes of the above definitions, URLs must be parsed
	using the <a href="http://www.clearboth.org/html5/infrastructure.html#parse-a-url" title="parse a URL">URL parsing rules</a> defined
	in this specification.</p>

	<table><thead><tr><th>Attribute
	</th><th>Component
	</th><th>Getter Condition
	</th><th>Prefix
	</th><th>Suffix
	</th><th>Setter Preprocessor
	</th><th>Setter Condition
	</th></tr></thead><tbody><tr><td><dfn id="dom-uda-protocol" title="dom-uda-protocol"><code>protocol</code></dfn>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#url-scheme" title="url-scheme">&lt;scheme&gt;</a>
	</td><td>—
	</td><td>—
	</td><td>U+003A COLON ("<code title="">:</code>")
	</td><td>Remove all trailing U+003A COLON ("<code title="">:</code>") characters
	</td><td>The new value is not the empty string
	</td></tr><tr><td><dfn id="dom-uda-host" title="dom-uda-host"><code>host</code></dfn>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#url-hostport" title="url-hostport">&lt;hostport&gt;</a>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
	</td><td>—
	</td><td>—
	</td><td>—
	</td><td>The new value is not the empty string and <a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
	</td></tr><tr><td><dfn id="dom-uda-hostname" title="dom-uda-hostname"><code>hostname</code></dfn>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#url-host" title="url-host">&lt;host&gt;</a>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
	</td><td>—
	</td><td>—
	</td><td>Remove all leading U+002F SOLIDUS ("<code title="">/</code>") characters
	</td><td>The new value is not the empty string and <a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
	</td></tr><tr><td><dfn id="dom-uda-port" title="dom-uda-port"><code>port</code></dfn>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#url-port" title="url-port">&lt;port&gt;</a>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> is hierarchical, uses a server-based naming authority, and contained a <a href="http://www.clearboth.org/html5/infrastructure.html#url-port" title="url-port">&lt;port&gt;</a> component (possibly an empty one)
	</td><td>—
	</td><td>—
	</td><td>Remove any characters in the new value that are not in the range U+0030 DIGIT ZERO .. U+0039 DIGIT NINE.
	If the resulting string is empty, set it to a single U+0030 DIGIT ZERO character ('0').
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> is hierarchical and uses a server-based naming authority
	</td></tr><tr><td><dfn id="dom-uda-pathname" title="dom-uda-pathname"><code>pathname</code></dfn>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#url-path" title="url-path">&lt;path&gt;</a>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> is hierarchical
	</td><td>—
	</td><td>—
	</td><td>If it has no leading U+002F SOLIDUS ("<code title="">/</code>") character, prepend a U+002F SOLIDUS ("<code title="">/</code>") character to the new value
	</td><td>—
	</td></tr><tr><td><dfn id="dom-uda-search" title="dom-uda-search"><code>search</code></dfn>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#url-query" title="url-query">&lt;query&gt;</a>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> is hierarchical, and contained a <a href="http://www.clearboth.org/html5/infrastructure.html#url-query" title="url-query">&lt;query&gt;</a> component (possibly an empty one)
	</td><td>U+003F QUESTION MARK ("<code title="">?</code>")
	</td><td>—
	</td><td>Remove one leading U+003F QUESTION MARK ("<code title="">?</code>") character, if any
	</td><td>—
	</td></tr><tr><td><dfn id="dom-uda-hash" title="dom-uda-hash"><code>hash</code></dfn>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#url-fragment" title="url-fragment">&lt;fragment&gt;</a>
	</td><td><a href="http://www.clearboth.org/html5/infrastructure.html#concept-uda-input" title="concept-uda-input">input</a> contained a <a href="http://www.clearboth.org/html5/infrastructure.html#url-fragment" title="url-fragment">&lt;fragment&gt;</a> component (possibly an empty one)
	</td><td>U+0023 NUMBER SIGN ("<code title="">#</code>")
	</td><td>—
	</td><td>Remove one leading U+0023 NUMBER SIGN ("<code title="">#</code>") character, if any
	</td><td>—
	</td></tr></tbody></table><!--
	http://www.hixie.ch/tests/adhoc/dom/level0/location/components/
	http://lxr.mozilla.org/seamonkey/source/dom/src/base/nsLocation.cpp
	http://wp.netscape.com/eng/mozilla/3.0/handbook/javascript/ref_h-l.htm#84722
	--></div><div class="example">

	<p>The table below demonstrates how the getter <span class="impl">condition</span> for <code title="dom-uda-search"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-search">search</a></code> results in different results
	depending on the exact original syntax of the URL:</p>

	<table><thead><tr><th> Input URL
	</th><th> <code title="dom-uda-search"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-uda-search">search</a></code> value
	</th><th> Explanation
	</th></tr></thead><tbody><tr><td> <code title="">http://example.com/</code>
	</td><td> <i>empty string</i>
	</td><td> No <a href="http://www.clearboth.org/html5/infrastructure.html#url-query" title="url-query">&lt;query&gt;</a> component in input URL.
	</td></tr><tr><td> <code title="">http://example.com/?</code>
	</td><td> <code title="">?</code>
	</td><td> There is a <a href="http://www.clearboth.org/html5/infrastructure.html#url-query" title="url-query">&lt;query&gt;</a> component, but it is empty.
	<span class="impl">The question mark in the resulting value is the prefix.</span>
	</td></tr><tr><td> <code title="">http://example.com/?test</code>
	</td><td> <code title="">?test</code>
	</td><td> The <a href="http://www.clearboth.org/html5/infrastructure.html#url-query" title="url-query">&lt;query&gt;</a> component has the value "<code title="">test</code>".
	</td></tr><tr><td> <code title="">http://example.com/?test#</code>
	</td><td> <code title="">?test</code>
	</td><td> The (empty) <a href="http://www.clearboth.org/html5/infrastructure.html#url-fragment" title="url-fragment">&lt;fragment&gt;</a> component is not part of the <a href="http://www.clearboth.org/html5/infrastructure.html#url-query" title="url-query">&lt;query&gt;</a> component.
	</td></tr></tbody></table></div><div class="impl"></div></div>

	<h3 id="fetching-resources"><span class="secno">2.6 </span>Fetching resources</h3>

<span class="collapser">show</span><div class="notyet hidden"><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p>

	<p>When a user agent is to <dfn id="fetch">fetch</dfn> a resource, the
	following steps must be run:</p>

	<ol><li><p>If the resource is identified by the <a href="http://www.clearboth.org/html5/infrastructure.html#url">URL</a>
	<dfn id="about:blank"><code>about:blank</code></dfn>, then return the empty string
	and abort these steps.</p></li>

	<li><p>Perform the remaining steps asynchronously.</p></li>

	<li>

	<p>If the resource is identified by an <a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute URL</a>,
	and the resource is to be obtained using a idempotent action (such
	as an HTTP GET <a href="http://www.clearboth.org/html5/infrastructure.html#concept-http-equivalent-get" title="concept-http-equivalent-get">or
	equivalent</a>), and it is already being downloaded for other
	reasons (e.g. another invocation of this algorithm), and the user
	agent is configured such that it is to reuse the data from the
	existing download instead of initiating a new one, then use the
	results of the existing download instead of starting a new
	one.</p>

	<p>Otherwise, at a time convenient to the user and the user agent,
	download (or otherwise obtain) the resource, applying the
	semantics of the relevant specifications (e.g. performing an HTTP
	GET or POST operation, or reading the file from disk, following
	redirects, <a href="http://www.clearboth.org/html5/browsers.html#concept-js-deref" title="concept-js-deref">dereferencing <span title="javascript protocol"><code title="">javascript:</code>
	URLs</span></a>, etc).</p>

	<p>For purposes of generating the <i>address of the resource from
	which Request-URIs are obtained</i> as required by HTTP for the
	<code title="http-referer">Referer</code> (sic) header, the user
	agent must use <a href="http://www.clearboth.org/html5/dom.html#the-document-s-current-address">the document's current address</a> of the
	appropriate <code>Document</code> as given by this list.  <a href="http://www.clearboth.org/html5/references.html#refsHTTP">[HTTP]</a></p>

	<dl class="switch"><dt>When <a href="http://www.clearboth.org/html5/history.html#navigate" title="navigate">navigating</a></dt>

	<dd>The <a href="http://www.clearboth.org/html5/browsers.html#active-document">active document</a> of the <a href="http://www.clearboth.org/html5/history.html#source-browsing-context">source browsing
	context</a>.</dd>

	<dt>When fetching resources for an element</dt>

	<dd>The element's <code>Document</code>.</dd>

	<dt>When fetching resources in response to a call to an API</dt>

	<dd>The <a href="http://www.clearboth.org/html5/browsers.html#active-document">active document</a> of the <a href="http://www.clearboth.org/html5/browsers.html#script-s-browsing-context" title="script's
	browsing context">browsing context</a> of the <a href="http://www.clearboth.org/html5/browsers.html#first-script">first
	script</a>.</dd>

	</dl></li>

	<li>

	<p>If there are cookies to be set, then the user agent must run
	the following substeps:</p>

	<ol><li><p>Wait until ownership of the <a href="http://www.clearboth.org/html5/browsers.html#storage-mutex">storage mutex</a> can
	be taken by this instance of the <a href="http://www.clearboth.org/html5/infrastructure.html#fetch" title="fetch">fetching</a> algorithm.</p></li>

	<li><p>Take ownership of the <a href="http://www.clearboth.org/html5/browsers.html#storage-mutex">storage mutex</a>.</p></li>

	<li><p>Update the cookies. <a href="http://www.clearboth.org/html5/references.html#refsRFC2109">[RFC2109]</a> <a href="http://www.clearboth.org/html5/references.html#refsCOOKIES">[COOKIES]</a></p></li>

	<li><p>Release the <a href="http://www.clearboth.org/html5/browsers.html#storage-mutex">storage mutex</a> so that it is once
	again free.</p></li>

	</ol></li>

	<li><p>When the resource is available, or if there is an error of
	some description, <a href="http://www.clearboth.org/html5/browsers.html#queue-a-task">queue a task</a> that uses the resource
	as appropriate. If the resource can be processed incrementally, as,
	for instance, with a progressively interlaced JPEG or an HTML file,
	additional tasks may be queued to process the data as it is
	downloaded. The <a href="http://www.clearboth.org/html5/browsers.html#task-source">task source</a> for these tasks is the
	<a href="http://www.clearboth.org/html5/browsers.html#networking-task-source">networking task source</a>.</p>

	</li></ol><p>If the user agent can determine the actual length of the file
	being <a href="http://www.clearboth.org/html5/infrastructure.html#fetch" title="fetch">fetched</a> for an instance of this
	algorithm, and if that length is finite, then that length is the
	file's <dfn id="concept-fetch-total" title="concept-fetch-total">size</dfn>. Otherwise, the
	subject of the algorithm (that is, the file being fetched) has no
	known <a href="http://www.clearboth.org/html5/infrastructure.html#concept-fetch-total" title="concept-fetch-total">size</a>. (For example,
	the HTTP <code title="http-content-length">Content-Length</code>
	header might provide this information.)</p>

	<p>The user agent must also keep track of the <dfn id="concept-fetch-loaded" title="concept-fetch-loaded">number of bytes downloaded</dfn> for
	each instance of this algorithm. This number must exclude any
	out-of-band metadata, such as HTTP headers.</p>

	<p class="note">The <a href="http://www.clearboth.org/html5/offline.html#application-cache">application cache</a> processing model
	introduces some <a href="http://www.clearboth.org/html5/offline.html#changesToNetworkingModel">changes to the
	networking model</a> to handle the returning of cached
	resources.</p>

	<p class="note">The <a href="http://www.clearboth.org/html5/history.html#navigate" title="navigate">navigation</a>
	processing model handles redirects itself, overriding the
	redirection handling that would be done by the fetching
	algorithm.</p>

	<p class="note">Whether the <a href="http://www.clearboth.org/html5/infrastructure.html#content-type-sniffing">type
	sniffing rules</a> apply to the fetched resource depends on the
	algorithm that invokes the rules — they are not always
	applicable.</p>


	<h4 id="concept-http-equivalent"><span class="secno">2.6.1 </span>Protocol concepts</h4><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p>

	<p>User agents can implement a variety of transfer protocols, but
	this specification mostly defines behavior in terms of HTTP. <a href="http://www.clearboth.org/html5/references.html#refsHTTP">[HTTP]</a></p>

	<p>The <dfn id="concept-http-equivalent-get" title="concept-http-equivalent-get">HTTP GET
	method</dfn> is equivalent to the default retrieval action of the
	protocol. For example, RETR in FTP. Such actions are idempotent and
	safe, in HTTP terms.</p>

	<p>The <dfn id="concept-http-equivalent-codes" title="concept-http-equivalent-codes">HTTP response
	codes</dfn> are equivalent to statuses in other protocols that have
	the same basic meanings. For example, a "file not found" error is
	equivalent to a 404 code, a server error is equivalent to a 5xx
	code, and so on.</p>

	<p>The <dfn id="concept-http-equivalent-headers" title="concept-http-equivalent-headers">HTTP
	headers</dfn> are equivalent to fields in other protocols that have
	the same basic meaning. For example, the HTTP authentication
	headers are equivalent to the authentication aspects of the FTP
	protocol.</p>


	<h4 id="encrypted-http-and-related-security-concerns"><span class="secno">2.6.2 </span>Encrypted HTTP and related security concerns</h4><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p>

	<p>Anything in this specification that refers to HTTP also applies
	to HTTP-over-TLS, as represented by <a href="http://www.clearboth.org/html5/infrastructure.html#url" title="url">URLs</a>
	representing the <code title="">https</code> scheme.</p>

	<p class="warning">User agents should report certificate errors to
	the user and must either refuse to download resources sent with
	erroneous certificates or must act as if such resources were in fact
	served with no encryption.</p>

	<p>User agents should warn the user that there is a potential
	problem whenever the user visits a page that the user has previously
	visited, if the page uses less secure encryption on the second
	visit.</p>

	<p>Not doing so can result in users not noticing man-in-the-middle
	attacks.</p>

	<div class="example">

	<p>If a user connects to a server with a self-signed certificate,
	the user agent could allow the connection but just act as if there
	had been no encryption. If the user agent instead allowed the user
	to override the problem and then displayed the page as if it was
	fully and safely encrypted, the user could be easily tricked into
	accepting man-in-the-middle connections.</p>

	<p>If a user connects to a server with full encryption, but the
	page then refers to an external resource that has an expired
	certificate, then the user agent will act as if the resource was
	unavailable, possibly also reporting the problem to the user. If
	the user agent instead allowed the resource to be used, then an
	attacker could just look for "secure" sites that used resources
	from a different host and only apply man-in-the-middle attacks to
	that host, for example taking over scripts in the page.</p>

	<p>If a user bookmarks a site that uses a CA-signed certificate,
	and then later revisits that site directly but the site has started
	using a self-signed certificate, the user agent could warn the user
	that a man-in-the-middle attack is likely underway, instead of
	simply acting as if the page was not encrypted.</p>

	</div>


	<h4 id="content-type-sniffing"><span class="secno">2.6.3 </span>Determining the type of a resource</h4><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p>

	<p>The <dfn id="content-type" title="Content-Type">Content-Type metadata</dfn> of a
	resource must be obtained and interpreted in a manner consistent
	with the requirements of the Content-Type Processing Model
	specification. <a href="http://www.clearboth.org/html5/references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

	<p>The <dfn id="algorithm-for-extracting-an-encoding-from-a-content-type">algorithm for extracting an encoding from a
	Content-Type</dfn>, given a string <var title="">s</var>, is given
	in the Content-Type Processing Model specification. It either
	returns an encoding or nothing. <a href="http://www.clearboth.org/html5/references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

	<p>The <dfn id="content-type-sniffing-0" title="Content-Type sniffing">sniffed type of a
	resource</dfn> must be found in a manner consistent with the
	requirements given in the Content-Type Processing Model
	specification for finding that <i>sniffed type</i>. <a href="http://www.clearboth.org/html5/references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

	<p>The <dfn id="content-type-sniffing:-image" title="Content-Type sniffing: image">rules for sniffing
	images specifically</dfn> are also defined in the Content-Type
	Processing Model specification. <a href="http://www.clearboth.org/html5/references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

	<p class="warning">It is imperative that the rules in the
	Content-Type Processing Model specification be followed
	exactly. When a user agent uses different heuristics for content
	type detection than the server expects, security problems can
	occur. For more details, see the Content-Type Processing Model
	specification. <a href="http://www.clearboth.org/html5/references.html#refsMIMESNIFF">[MIMESNIFF]</a></p>

	</div><div class="impl"></div>

	<h3 id="character-encodings-0"><span class="secno">2.7 </span>Character encodings</h3>

<span class="collapser">show</span><div class="notyet hidden"><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p>

	<p>User agents must at a minimum support the UTF-8 and Windows-1252
	encodings, but may support more.</p>

	<p class="note">It is not unusual for Web browsers to support dozens
	if not upwards of a hundred distinct character encodings.</p>

	<p>User agents must support the preferred MIME name of every
	character encoding they support that has a preferred MIME name, and
	should support all the IANA-registered aliases. <a href="http://www.clearboth.org/html5/references.html#refsIANACHARSET">[IANACHARSET]</a></p>

	<p>When comparing a string specifying a character encoding with the
	name or alias of a character encoding to determine if they are
	equal, user agents must use the Charset Alias Matching rules defined
	in Unicode Technical Standard #22. <a href="http://www.clearboth.org/html5/references.html#refsUTS22">[UTS22]</a></p>

	<p class="example">For instance, "GB_2312-80" and "g.b.2312(80)" are
	considered equivalent names.</p>

	<!-- this bit will be replaced by actual alias registrations in due course -->

	<p>In addition, user agents must support the aliases given in the
	following table, so that labels from the first column are treated as
	equivalent to the labels given in the corresponding cell from the
	second column on the same row.</p>

	<table><caption>Additional character encoding aliases</caption>
	<thead><tr><th> Alias </th><th> Corresponding encoding </th><th> References
	</th></tr></thead><tbody><tr><td> x-sjis </td><td> windows-31J </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsSHIFTJIS">[SHIFTJIS]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN31J">[WIN31J]</a>
	</td></tr><tr><td> windows-932 </td><td> windows-31J </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN31J">[WIN31J]</a>
	</td></tr><tr><td> x-x-big5 </td><td> Big5 </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsBIG5">[BIG5]</a>
	</td></tr></tbody></table><!-- end of bit that will be replaced by actual alias registrations in due course --><hr><p>When a user agent would otherwise use an encoding given in the
	first column of the following table to either convert content to
	Unicode characters or convert Unicode characters to bytes, it must
	instead use the encoding given in the cell in the second column of
	the same row. When a byte or sequence of bytes is treated
	differently due to this encoding aliasing, it is said to have been
	<dfn id="misinterpreted-for-compatibility">misinterpreted for compatibility</dfn>.</p>

	<table><caption>Character encoding overrides</caption>
	<thead><tr><th> Input encoding </th><th> Replacement encoding </th><th> References
	</th></tr></thead><tbody><!-- how about EUC-JP? --><tr><td> EUC-KR </td><td> windows-949 </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsEUCKR">[EUCKR]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN949">[WIN949]</a>
	</td></tr><tr><td> GB2312 </td><td> GBK </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsRFC1345">[RFC1345]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsGBK">[GBK]</a>
	</td></tr><tr><td> GB_2312-80 </td><td> GBK </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsRFC1345">[RFC1345]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsGBK">[GBK]</a>
	</td></tr><tr><td> ISO-8859-1 </td><td> windows-1252 </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsRFC1345">[RFC1345]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN1252">[WIN1252]</a>
	</td></tr><tr><td> ISO-8859-9 </td><td> windows-1254 </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsRFC1345">[RFC1345]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN1254">[WIN1254]</a>
	</td></tr><tr><td> ISO-8859-11 </td><td> windows-874 </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsISO885911">[ISO885911]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN874">[WIN874]</a>
	</td></tr><tr><td> KS_C_5601-1987 </td><td> windows-949 </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsRFC1345">[RFC1345]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN949">[WIN949]</a>
	</td></tr><tr><td> Shift_JIS </td><td> windows-31J </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsSHIFTJIS">[SHIFTJIS]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN31J">[WIN31J]</a>
	</td></tr><tr><td> TIS-620 </td><td> windows-874 </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsTIS620">[TIS620]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN874">[WIN874]</a>
	</td></tr><tr><td> US-ASCII </td><td> windows-1252 </td><td>
	<a href="http://www.clearboth.org/html5/references.html#refsRFC1345">[RFC1345]</a>
	<a href="http://www.clearboth.org/html5/references.html#refsWIN1252">[WIN1252]</a>
	</td></tr></tbody></table><p class="note">The requirement to treat certain encodings as other
	encodings according to the table above is a <a href="http://www.clearboth.org/html5/introduction.html#willful-violation">willful
	violation</a> of the W3C Character Model specification, motivated
	by a desire for compatibility with legacy content. <a href="http://www.clearboth.org/html5/references.html#refsCHARMOD">[CHARMOD]</a></p>

	<p>When a user agent is to use the UTF-16 encoding but no BOM has
	been found, user agents must default to UTF-16LE.</p>

	<p class="note">The requirement to default UTF-16 to LE rather than
	BE is a <a href="http://www.clearboth.org/html5/introduction.html#willful-violation">willful violation</a> of RFC 2781, motivated by a
	desire for compatibility with legacy content. <a href="http://www.clearboth.org/html5/references.html#refsCHARMOD">[CHARMOD]</a></p>

	<hr><p>User agents must not support the CESU-8, UTF-7, BOCU-1 and SCSU
	encodings. <a href="http://www.clearboth.org/html5/references.html#refsCESU8">[CESU8]</a> <a href="http://www.clearboth.org/html5/references.html#refsUTF7">[UTF7]</a> <a href="http://www.clearboth.org/html5/references.html#refsBOCU1">[BOCU1]</a> <a href="http://www.clearboth.org/html5/references.html#refsSCSU">[SCSU]</a></p>

	<p>Support for encodings based on EBCDIC is not recommended. This
	encoding is rarely used for publicly-facing Web content.</p>

	<p>Support for UTF-32 is not recommended. This encoding is rarely
	used, and frequently implemented incorrectly.</p>

	<p class="note">This specification does not make any attempt to
	support EBCDIC-based encodings and UTF-32 in its algorithms; support
	and use of these encodings can thus lead to unexpected behavior in
	implementations of this specification.</p>

	</div>
	<h3 id="common-dom-interfaces"><span class="secno">2.8 </span>Common DOM interfaces</h3>

<span class="collapser">show</span><div class="notyet hidden"><p class="XXX annotation"><b>Status: </b><i>Working draft</i></p><h4 id="reflecting-content-attributes-in-dom-attributes"><span class="secno">2.8.1 </span>Reflecting content attributes in DOM attributes</h4><p>Some <span title="DOM attribute">DOM attributes</span> are
	defined to <dfn id="reflect">reflect</dfn> a particular <span>content
	attribute</span>. This means that on getting, the DOM attribute
	returns the current value of the content attribute, and on setting,
	the DOM attribute changes the value of the content attribute to the
	given value.</p><p class="note">A list of <a href="http://www.clearboth.org/html5/index.html#reflecting-dom-attributes">reflecting DOM attributes</a> and
	their corresponding content attributes is given in the index.</p><div class="impl">

	<p>In general, on getting, if the content attribute is not present,
	the DOM attribute must act as if the content attribute's value is
	the empty string; and on setting, if the content attribute is not
	present, it must first be added.</p>

	<p>If a reflecting DOM attribute is a <code>DOMString</code>
	attribute whose content attribute is defined to contain a
	<a href="http://www.clearboth.org/html5/infrastructure.html#url">URL</a>, then on getting, the DOM attribute must <a href="http://www.clearboth.org/html5/infrastructure.html#resolve-a-url" title="resolve a url">resolve</a> the value of the content
	attribute relative to the element and return the resulting
	<a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute URL</a> if that was successful, or the empty
	string otherwise; and on setting, must set the content attribute to
	the specified literal value. If the content attribute is absent, the
	DOM attribute must return the default value, if the content
	attribute has one, or else the empty string.</p>

	<p>If a reflecting DOM attribute is a <code>DOMString</code>
	attribute whose content attribute is defined to contain one or more
	<a href="http://www.clearboth.org/html5/infrastructure.html#url" title="URL">URLs</a>, then on getting, the DOM attribute
	must <a href="http://www.clearboth.org/html5/infrastructure.html#split-a-string-on-spaces" title="split a string on spaces">split the content
	attribute on spaces</a> and return the concatenation of <a href="http://www.clearboth.org/html5/infrastructure.html#resolve-a-url" title="resolve a URL">resolving</a> each token URL to an
	<a href="http://www.clearboth.org/html5/infrastructure.html#absolute-url">absolute URL</a> relative to the element, with a single
	U+0020 SPACE character between each URL, ignoring any tokens that
	did not resolve successfully. If the content attribute is absent,
	the DOM attribute must return the default value, if the content
	attribute has one, or else the empty string. On setting, the DOM
	attribute must set the content attribute to the specified literal
	value.</p>

	<p>If a reflecting DOM attribute is a <code>DOMString</code> whose
	content attribute is an <a href="http://www.clearboth.org/html5/infrastructure.html#enumerated-attribute">enumerated attribute</a>, and the
	DOM attribute is <dfn id="limited-to-only-known-values">limited to only known values</dfn>, then, on
	getting, the DOM attribute must return the conforming value
	associated with the state the attribute is in (in its canonical
	case), or the empty string if the attribute is in a state that has
	no associated keyword value; and on setting, if the new value is an
	<a href="http://www.clearboth.org/html5/infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for one of the keywords
	given for that attribute, then the content attribute must be set to
	the conforming value associated with the state that the attribute
	would be in if set to the given new value, otherwise, if the new
	value is the empty string, then the content attribute must be
	removed, otherwise, the setter must raise a <code><a href="http://www.clearboth.org/html5/infrastructure.html#syntax_err">SYNTAX_ERR</a></code>
	exception.</p>

	<p>If a reflecting DOM attribute is a <code>DOMString</code> but
	doesn't fall into any of the above categories, then the getting and
	setting must be done in a transparent, case-preserving manner.</p>

	<p>If a reflecting DOM attribute is a boolean attribute, then on
	getting the DOM attribute must return true if the attribute is set,
	and false if it is absent. On setting, the content attribute must be
	removed if the DOM attribute is set to false, and must be set to
	have the same value as its name if the DOM attribute is set to
	true. (This corresponds to the rules for <a href="http://www.clearboth.org/html5/infrastructure.html#boolean-attribute" title="boolean
	attribute">boolean content attributes</a>.)</p>

	<p>If a reflecting DOM attribute is a signed integer type
	(<code>long</code>) then, on getting, the content attribute must be
	parsed according to the <a href="http://www.clearboth.org/html5/infrastructure.html#rules-for-parsing-integers" title="rules for parsing
	integers">rules for parsing signed integers</a>, and if that is
	successful, and the value is in the range of the DOM attribute's
	type, the resulting value must be returned. If, on the other hand,
	it fails or returns an out of range value, or if the attribute is
	absent, then the default value must be returned instead, or 0 if
	there is no default value. On setting, the given value must be
	converted to the shortest possible string representing the number as
	a <a href="http://www.clearboth.org/html5/infrastructure.html#valid-integer">valid integer</a> and then that string must be used as
	the new content attribute value.</p>

	<p>If a reflecting DOM attribute is an <em>unsigned</em> integer
	type (<code>unsigned long</code>) then, on getting, the content
	attribute must be parsed according to the <a href="http://www.clearboth.org/html5/infrastructure.html#rules-for-parsing-non-negative-integers">rules for parsing
	non-negative integers</a>, and if that is successful, and the
	value is in the range of the DOM attribute's type, the resulting
	value must be returned. If, on the other hand, it fails or returns
	an out of range value, or if the attribute is absent, the default
	value must be returned instead, or 0 if there is no default
	value. On setting, the given value must be converted to the shortest
	possible string representing the number as a <a href="http://www.clearboth.org/html5/infrastructure.html#valid-non-negative-integer">valid
	non-negative integer</a> and then that string must be used as the
	new content attribute value.</p>

	<p>If a reflecting DOM attribute is an unsigned integer type
	(<code>unsigned long</code>) that is <dfn id="limited-to-only-positive-non-zero-numbers">limited to only positive
	non-zero numbers</dfn>, then the behavior is similar to the previous
	case, but zero is not allowed. On getting, the content attribute
	must first be parsed according to the <a href="http://www.clearboth.org/html5/infrastructure.html#rules-for-parsing-non-negative-integers">rules for parsing
	non-negative integers</a>, and if that is successful, and the
	value is in the range of the DOM attribute's type, the resulting
	value must be returned. If, on the other hand, it fails or returns
	an out of range value, or if the attribute is absent, the default
	value must be returned instead, or 1 if there is no default
	value. On setting, if the value is zero, the user agent must fire an
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#index_size_err">INDEX_SIZE_ERR</a></code> exception. Otherwise, the given value
	must be converted to the shortest possible string representing the
	number as a <a href="http://www.clearboth.org/html5/infrastructure.html#valid-non-negative-integer">valid non-negative integer</a> and then that
	string must be used as the new content attribute value.</p>

	<p>If a reflecting DOM attribute is a floating point number type
	(<code>float</code>) and it doesn't fall into one of the earlier
	categories, then, on getting, the content attribute must be parsed
	according to the <a href="http://www.clearboth.org/html5/infrastructure.html#rules-for-parsing-floating-point-number-values">rules for parsing floating point number
	values</a>, and if that is successful, and the value is in the
	range of the DOM attribute's type, the resulting value must be
	returned. If, on the other hand, it fails or returns an out of range
	value, or if the attribute is absent, the default value must be
	returned instead, or 0.0 if there is no default value. On setting,
	the given value must be converted to the <a href="http://www.clearboth.org/html5/infrastructure.html#best-representation-of-the-floating-point-number">best representation
	of the floating point number</a> and then that string must be
	used as the new content attribute value.</p>

	<p class="note">The values Infinity and Not-a-Number (NaN) values
	throw an exception on setting, as <a href="http://www.clearboth.org/html5/infrastructure.html#float-nan">defined
	earlier</a>.</p>

	<p>If a reflecting DOM attribute is of the type
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> or <code><a href="http://www.clearboth.org/html5/infrastructure.html#domsettabletokenlist">DOMSettableTokenList</a></code>, then
	on getting it must return a <code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> or
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#domsettabletokenlist">DOMSettableTokenList</a></code> object (as appropriate) whose
	underlying string is the element's corresponding content
	attribute. When the object mutates its underlying string, the
	content attribute must itself be immediately mutated. When the
	attribute is absent, then the string represented by the object is
	the empty string; when the object mutates this empty string, the
	user agent must add the corresponding content attribute, with its
	value set to the value it would have been set to after mutating the
	empty string. The same <code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> object must be
	returned every time for each attribute.</p>

	<div class="example">

	<p>If an element with no attributes has its <code title="dom-tokenlist-remove"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-remove">element.classList.remove()</a></code>
	method invoked, the underlying string won't be changed, since the
	result of removing any token from the empty string is still the
	empty string. However, if the <code title="dom-tokenlist-add"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-add">element.classList.add()</a></code> method is
	then invoked, a <code title="attr-class"><a href="http://www.clearboth.org/html5/dom.html#classes">class</a></code> attribute
	will be added to the element with the value of the token to be
	added.</p>

	</div>

	<p>If a reflecting DOM attribute has the type
	<code><a href="http://www.clearboth.org/html5/dom.html#htmlelement">HTMLElement</a></code>, or an interface that descends from
	<code><a href="http://www.clearboth.org/html5/dom.html#htmlelement">HTMLElement</a></code>, then, on getting, it must run the
	following algorithm (stopping at the first point where a value is
	returned):

	</p><ol><li>If the corresponding content attribute is absent, then the
	DOM attribute must return null.</li>

	<li>Let <var title="">candidate</var> be the element that the <code title="">document.getElementById()</code> method would find if it
	was passed as its argument the current value of the corresponding
	content attribute.</li>

	<li>If <var title="">candidate</var> is null, or if it is not
	type-compatible with the DOM attribute, then the DOM attribute must
	return null.</li>

	<li>Otherwise, it must return <var title="">candidate</var>.</li>

	</ol><p>On setting, if the given element has an <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code> attribute, then the content attribute must
	be set to the value of that <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code>
	attribute. Otherwise, the DOM attribute must be set to the empty
	string.</p>

	</div><h4 id="collections-0"><span class="secno">2.8.2 </span>Collections</h4><p>The <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlcollection">HTMLCollection</a></code>, <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code>,
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlformcontrolscollection">HTMLFormControlsCollection</a></code>,
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmloptionscollection">HTMLOptionsCollection</a></code>, and
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlpropertycollection">HTMLPropertyCollection</a></code> interfaces represent various
	lists of DOM nodes. Collectively, objects implementing these
	interfaces are called <dfn id="collections">collections</dfn>.</p><p>When a <a href="http://www.clearboth.org/html5/infrastructure.html#collections" title="collections">collection</a> is created, a
	filter and a root are associated with the collection.</p><p class="example">For example, when the <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlcollection">HTMLCollection</a></code>
	object for the <code title="dom-document-images"><a href="http://www.clearboth.org/html5/dom.html#dom-document-images">document.images</a></code> attribute is
	created, it is associated with a filter that selects only
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-img-element">img</a></code> elements, and rooted at the root of the
	document.</p><p>The <a href="http://www.clearboth.org/html5/infrastructure.html#collections" title="collections">collection</a> then <dfn id="represented-by-the-collection" title="represented by the collection">represents</dfn> a
	<a href="http://www.clearboth.org/html5/infrastructure.html#live">live</a> view of the subtree rooted at the collection's
	root, containing only nodes that match the given filter. The view is
	linear. <span class="impl">In the absence of specific requirements
	to the contrary, the nodes within the collection must be sorted in
	<a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a>.</span></p><div class="impl">

	<p class="note">The <code title="dom-table-rows"><a href="http://www.clearboth.org/html5/tabular-data.html#dom-table-rows">rows</a></code> list is
	not in tree order.</p>

	<p>An attribute that returns a collection must return the same
	object every time it is retrieved.</p>

	</div><h5 id="htmlcollection-0"><span class="secno">2.8.2.1 </span>HTMLCollection</h5><p>The <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlcollection">HTMLCollection</a></code> interface represents a generic
	<a href="http://www.clearboth.org/html5/infrastructure.html#collections" title="collections">collection</a> of elements.</p><pre class="idl">interface <dfn id="htmlcollection">HTMLCollection</dfn> {
	readonly attribute unsigned long <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlcollection-length" title="dom-HTMLCollection-length">length</a>;
	caller getter Element <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlcollection-item" title="dom-HTMLCollection-item">item</a>(in unsigned long index);
	caller getter Element <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlcollection-nameditem" title="dom-HTMLCollection-namedItem">namedItem</a>(in DOMString name);
	<a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a> <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlcollection-tags" title="dom-HTMLCollection-tags">tags</a>(in DOMString tagName);
	};</pre><dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLCollection-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlcollection-length">length</a></code></dt>
	<dd>
	<p>Returns the number of elements in the collection.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlcollection-item">item</a></code>(<var title="">index</var>)</dt>
	<dt><var title="">collection</var>[<var title="">index</var>]</dt>
	<dt><var title="">collection</var>(<var title="">index</var>)</dt>
	<dd>
	<p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a>.</p>
	<p>Returns null if <var title="">index</var> is out of range.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlcollection-item">namedItem</a></code>(<var title="">name</var>)</dt>
	<dt><var title="">collection</var>[<var title="">name</var>]</dt>
	<dt><var title="">collection</var>(<var title="">name</var>)</dt>
	<dd>
	<p>Returns the first item with ID or name <var title="">name</var>
	from the collection.</p>
	<p>Returns null if no element with that ID or name could be found.</p>
	<p>Only <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-a-element">a</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#the-applet-element">applet</a></code>, <code><a href="http://www.clearboth.org/html5/the-canvas-element.html#the-area-element">area</a></code>,
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-embed-element">embed</a></code>, <code><a href="http://www.clearboth.org/html5/forms.html#the-form-element">form</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#frame">frame</a></code>,
	<code><a href="http://www.clearboth.org/html5/obsolete.html#frameset">frameset</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-iframe-element">iframe</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-img-element">img</a></code>, and
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-object-element">object</a></code> elements can have a name for the purpose of
	this method; their name is given by the value of their <code title="">name</code> attribute.</p>
	</dd>

	<dt><var title="">collection</var> = <var title="">collection</var> . <code title="dom-HTMLCollection-tags"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlcollection-tags">tags</a></code>(<var title="">tagName</var>)</dt>
	<dd>
	<p>Returns a collection that is a filtered view of the current collection, containing only elements with the given tag name.</p>
	</dd>

	</dl><div class="impl">

	<hr><p>The object's <span>indices of the supported indexed
	properties</span> are the numbers in the range zero to one less than
	the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a>. If
	there are no such elements, then there are no <span>supported
	indexed properties</span>.</p>

	<p>The <dfn id="dom-htmlcollection-length" title="dom-HTMLCollection-length"><code>length</code></dfn>
	attribute must return the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a>.</p>

	<p>The <dfn id="dom-htmlcollection-item" title="dom-HTMLCollection-item"><code>item(<var title="">index</var>)</code></dfn> method must return the <var title="">index</var>th node in the collection. If there is no <var title="">index</var>th node in the collection, then the method must
	return null.</p>

	<p>The <span>names of the supported named properties</span> consist
	of the values of the <code title="">name</code> attributes of each
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-a-element">a</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#the-applet-element">applet</a></code>, <code><a href="http://www.clearboth.org/html5/the-canvas-element.html#the-area-element">area</a></code>,
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-embed-element">embed</a></code>, <code><a href="http://www.clearboth.org/html5/forms.html#the-form-element">form</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#frame">frame</a></code>,
	<code><a href="http://www.clearboth.org/html5/obsolete.html#frameset">frameset</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-iframe-element">iframe</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-img-element">img</a></code>, and
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-object-element">object</a></code> element <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a> with a <code title="">name</code> attribute, plus
	the list of IDs that the elements <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a> have.</p>

	<p>The <dfn id="dom-htmlcollection-nameditem" title="dom-HTMLCollection-namedItem"><code>namedItem(<var title="">key</var>)</code></dfn> method must return the first node
	in the collection that matches the following requirements:</p>

	<ul><li>It is an <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-a-element">a</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#the-applet-element">applet</a></code>,
	<code><a href="http://www.clearboth.org/html5/the-canvas-element.html#the-area-element">area</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-embed-element">embed</a></code>, <code><a href="http://www.clearboth.org/html5/forms.html#the-form-element">form</a></code>,
	<code><a href="http://www.clearboth.org/html5/obsolete.html#frame">frame</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#frameset">frameset</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-iframe-element">iframe</a></code>,
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-img-element">img</a></code>, or <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-object-element">object</a></code> element with a <code title="">name</code> attribute equal to <var title="">key</var>,
	or,</li>

	<li>It is an element with an ID <var title="">key</var>.</li>

	</ul><p>If no such elements are found, then the method must return
	null.</p>

	<p>The <dfn id="dom-htmlcollection-tags" title="dom-HTMLCollection-tags"><code>tags(<var title="">tagName</var>)</code></dfn> method must return an
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code> rooted at the same node as the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlcollection">HTMLCollection</a></code> object on which the method was invoked,
	whose filter matches only <a href="http://www.clearboth.org/html5/infrastructure.html#html-elements">HTML elements</a> whose local
	name is the <var title="">tagName</var> argument and that already
	match the filter of the <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlcollection">HTMLCollection</a></code> object on which
	the method was invoked. In <a href="http://www.clearboth.org/html5/dom.html#html-documents">HTML documents</a>, the argument
	must first be <a href="http://www.clearboth.org/html5/infrastructure.html#converted-to-ascii-lowercase">converted to ASCII lowercase</a>.</p>

	</div><h5 id="htmlallcollection-0"><span class="secno">2.8.2.2 </span>HTMLAllCollection</h5><p>The <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code> interface represents a generic
	<a href="http://www.clearboth.org/html5/infrastructure.html#collections" title="collections">collection</a> of elements just like
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlcollection">HTMLCollection</a></code>, with the exception that its <code title="dom-HTMLAllCollection-namedItem"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-nameditem">namedItem()</a></code> method
	returns an <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlcollection">HTMLCollection</a></code> object when there are
	multiple matching elements.</p><pre class="idl">interface <dfn id="htmlallcollection">HTMLAllCollection</dfn> {
	readonly attribute unsigned long <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-length" title="dom-HTMLAllCollection-length">length</a>;
	caller getter Element <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-item" title="dom-HTMLAllCollection-item">item</a>(in unsigned long index);
	caller getter object <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-nameditem" title="dom-HTMLAllCollection-namedItem">namedItem</a>(in DOMString name);
	<a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a> <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-tags" title="dom-HTMLAllCollection-tags">tags</a>(in DOMString tagName);
	};</pre><dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLAllCollection-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-length">length</a></code></dt>
	<dd>
	<p>Returns the number of elements in the collection.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-item">item</a></code>(<var title="">index</var>)</dt>
	<dt><var title="">collection</var>[<var title="">index</var>]</dt>
	<dt><var title="">collection</var>(<var title="">index</var>)</dt>
	<dd>
	<p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a>.</p>
	<p>Returns null if <var title="">index</var> is out of range.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-item">namedItem</a></code>(<var title="">name</var>)</dt>
	<dt><var title="">collection</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-item">namedItem</a></code>(<var title="">name</var>)</dt>
	<dt><var title="">collection</var>[<var title="">name</var>]</dt>
	<dt><var title="">collection</var>(<var title="">name</var>)</dt>
	<dd>
	<p>Returns the item with ID or name <var title="">name</var> from the collection.</p>
	<p>If there are multiple matching items, then an <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code> object containing all those elements is returned.</p>
	<p>Returns null if no element with that ID or name could be found.</p>
	<p>Only <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-a-element">a</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#the-applet-element">applet</a></code>, <code><a href="http://www.clearboth.org/html5/the-canvas-element.html#the-area-element">area</a></code>,
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-embed-element">embed</a></code>, <code><a href="http://www.clearboth.org/html5/forms.html#the-form-element">form</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#frame">frame</a></code>,
	<code><a href="http://www.clearboth.org/html5/obsolete.html#frameset">frameset</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-iframe-element">iframe</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-img-element">img</a></code>, and
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-object-element">object</a></code> elements can have a name for the purpose of
	this method; their name is given by the value of their <code title="">name</code> attribute.</p>
	</dd>

	<dt><var title="">collection</var> = <var title="">collection</var> . <code title="dom-HTMLAllCollection-tags"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlallcollection-tags">tags</a></code>(<var title="">tagName</var>)</dt>
	<dd>
	<p>Returns a collection that is a filtered view of the current collection, containing only elements with the given tag name.</p>
	</dd>

	</dl><div class="impl">

	<hr><p>The object's <span>indices of the supported indexed
	properties</span> are the numbers in the range zero to one less than
	the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a>. If
	there are no such elements, then there are no <span>supported
	indexed properties</span>.</p>

	<p>The <dfn id="dom-htmlallcollection-length" title="dom-HTMLAllCollection-length"><code>length</code></dfn>
	attribute must return the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a>.</p>

	<p>The <dfn id="dom-htmlallcollection-item" title="dom-HTMLAllCollection-item"><code>item(<var title="">index</var>)</code></dfn> method must return the <var title="">index</var>th node in the collection. If there is no <var title="">index</var>th node in the collection, then the method must
	return null.</p>

	<p>The <span>names of the supported named properties</span> consist
	of the values of the <code title="">name</code> attributes of each
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-a-element">a</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#the-applet-element">applet</a></code>, <code><a href="http://www.clearboth.org/html5/the-canvas-element.html#the-area-element">area</a></code>,
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-embed-element">embed</a></code>, <code><a href="http://www.clearboth.org/html5/forms.html#the-form-element">form</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#frame">frame</a></code>,
	<code><a href="http://www.clearboth.org/html5/obsolete.html#frameset">frameset</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-iframe-element">iframe</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-img-element">img</a></code>, and
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-object-element">object</a></code> element <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a> with a <code title="">name</code> attribute, plus
	the list of IDs that the elements <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a> have.</p>

	<p>The <dfn id="dom-htmlallcollection-nameditem" title="dom-HTMLAllCollection-namedItem"><code>namedItem(<var title="">key</var>)</code></dfn> method must act according to the
	following algorithm:</p>

	<ol><li>

	<p>Let <var title="">collection</var> be an
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code> object rooted at the same node as
	the <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code> object on which the method was
	invoked, whose filter matches only only elements that already
	match the filter of the <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code> object on
	which the method was invoked and that are either:</p>

	<ul><li><code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-a-element">a</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#the-applet-element">applet</a></code>, <code><a href="http://www.clearboth.org/html5/the-canvas-element.html#the-area-element">area</a></code>,
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-embed-element">embed</a></code>, <code><a href="http://www.clearboth.org/html5/forms.html#the-form-element">form</a></code>, <code><a href="http://www.clearboth.org/html5/obsolete.html#frame">frame</a></code>,
	<code><a href="http://www.clearboth.org/html5/obsolete.html#frameset">frameset</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-iframe-element">iframe</a></code>, <code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-img-element">img</a></code>, or
	<code><a href="http://www.clearboth.org/html5/text-level-semantics.html#the-object-element">object</a></code> elements with a <code title="">name</code>
	attribute equal to <var title="">key</var>, or,</li>

	<li>elements with an ID <var title="">key</var>.</li>

	</ul></li>

	<li>If, at the time the method is called, there is exactly one node
	in <var title="">collection</var>, then return that node and stop
	the algorithm.</li>

	<li>Otherwise, if, at the time the method is called, <var title="">collection</var> is empty, return null and stop the
	algorithm.</li>

	<li>Otherwise, return <var title="">collection</var>.</li>

	</ol><p>The <dfn id="dom-htmlallcollection-tags" title="dom-HTMLAllCollection-tags"><code>tags(<var title="">tagName</var>)</code></dfn> method must return an
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code> rooted at the same node as the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code> object on which the method was
	invoked, whose filter matches only <a href="http://www.clearboth.org/html5/infrastructure.html#html-elements">HTML elements</a> whose
	local name is the <var title="">tagName</var> argument and that
	already match the filter of the <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlallcollection">HTMLAllCollection</a></code>
	object on which the method was invoked. In <a href="http://www.clearboth.org/html5/dom.html#html-documents">HTML
	documents</a>, the argument must first be <a href="http://www.clearboth.org/html5/infrastructure.html#converted-to-ascii-lowercase">converted to
	ASCII lowercase</a>.</p>

	</div><h5 id="htmlformcontrolscollection-0"><span class="secno">2.8.2.3 </span>HTMLFormControlsCollection</h5><p>The <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlformcontrolscollection">HTMLFormControlsCollection</a></code> interface represents
	a <a href="http://www.clearboth.org/html5/infrastructure.html#collections" title="collections">collection</a> of <a href="http://www.clearboth.org/html5/forms.html#category-listed" title="category-listed">listed</a> elements in <code><a href="http://www.clearboth.org/html5/forms.html#the-form-element">form</a></code>
	and <code><a href="http://www.clearboth.org/html5/forms.html#the-fieldset-element">fieldset</a></code> elements.</p><pre class="idl">interface <dfn id="htmlformcontrolscollection">HTMLFormControlsCollection</dfn> {
	readonly attribute unsigned long <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlformcontrolscollection-length" title="dom-HTMLFormControlsCollection-length">length</a>;
	caller getter <a href="http://www.clearboth.org/html5/dom.html#htmlelement">HTMLElement</a> <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlformcontrolscollection-item" title="dom-HTMLFormControlsCollection-item">item</a>(in unsigned long index);
	caller getter object <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlformcontrolscollection-nameditem" title="dom-HTMLFormControlsCollection-namedItem">namedItem</a>(in DOMString name);
	};

	interface <dfn id="radionodelist">RadioNodeList</dfn> : <span>NodeList</span> {
	attribute DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-radionodelist-value" title="dom-RadioNodeList-value">value</a>;
	};</pre><dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLFormControlsCollection-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlformcontrolscollection-length">length</a></code></dt>
	<dd>
	<p>Returns the number of elements in the collection.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLFormControlsCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlformcontrolscollection-item">item</a></code>(<var title="">index</var>)</dt>
	<dt><var title="">collection</var>[<var title="">index</var>]</dt>
	<dt><var title="">collection</var>(<var title="">index</var>)</dt>
	<dd>
	<p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a>.</p>
	<p>Returns null if <var title="">index</var> is out of range.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLFormControlsCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlformcontrolscollection-item">namedItem</a></code>(<var title="">name</var>)</dt>
	<dt><var title="">radioNodeList</var> = <var title="">collection</var> . <code title="dom-HTMLFormControlsCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlformcontrolscollection-item">namedItem</a></code>(<var title="">name</var>)</dt>
	<dt><var title="">collection</var>[<var title="">name</var>]</dt>
	<dt><var title="">collection</var>(<var title="">name</var>)</dt>
	<dd>
	<p>Returns the item with ID or <code title="attr-fe-name"><a href="http://www.clearboth.org/html5/forms.html#attr-fe-name">name</a></code> <var title="">name</var> from the collection.</p>
	<p>If there are multiple matching items, then a <code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code> object containing all those elements is returned.</p>
	<p>Returns null if no element with that ID or <code title="attr-fe-name"><a href="http://www.clearboth.org/html5/forms.html#attr-fe-name">name</a></code> could be found.</p>
	</dd>

	<dt><var title="">radioNodeList</var> . <var title="">value</var> [ = <var title="">value</var> ]</dt>

	<dd>

	<p>Returns the value of the first checked radio button represented
	by the object.</p>

	<p>Can be set, to check the first radio button with the given
	value represented by the object.</p>

	</dd>

	</dl><div class="impl">

	<hr><p>The object's <span>indices of the supported indexed
	properties</span> are the numbers in the range zero to one less than
	the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a>. If
	there are no such elements, then there are no <span>supported
	indexed properties</span>.</p>

	<p>The <dfn id="dom-htmlformcontrolscollection-length" title="dom-HTMLFormControlsCollection-length"><code>length</code></dfn>
	attribute must return the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a>.</p>

	<p>The <dfn id="dom-htmlformcontrolscollection-item" title="dom-HTMLFormControlsCollection-item"><code>item(<var title="">index</var>)</code></dfn> method must return the <var title="">index</var>th node in the collection. If there is no <var title="">index</var>th node in the collection, then the method must
	return null.</p>

	<p>The <span>names of the supported named properties</span> consist
	of the values of all the <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code> and <code title="attr-fe-name"><a href="http://www.clearboth.org/html5/forms.html#attr-fe-name">name</a></code> attributes of all the elements
	<a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a>.</p>

	<p>The <dfn id="dom-htmlformcontrolscollection-nameditem" title="dom-HTMLFormControlsCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> method must act according to the
	following algorithm:

	</p><ol><li>If, at the time the method is called, there is exactly one node
	in the collection that has either an <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code> attribute or a <code title="attr-fe-name"><a href="http://www.clearboth.org/html5/forms.html#attr-fe-name">name</a></code> attribute equal to <var title="">name</var>, then return that node and stop the
	algorithm.</li>

	<li>Otherwise, if there are no nodes in the collection that have
	either an <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code> attribute or a <code title="attr-fe-name"><a href="http://www.clearboth.org/html5/forms.html#attr-fe-name">name</a></code> attribute equal to <var title="">name</var>, then return null and stop the algorithm.</li>

	<li>Otherwise, create a <code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code> object
	representing a live view of the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlformcontrolscollection">HTMLFormControlsCollection</a></code> object, further filtered so
	that the only nodes in the <code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code> object are
	those that have either an <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code> attribute
	or a <code title="attr-fe-name"><a href="http://www.clearboth.org/html5/forms.html#attr-fe-name">name</a></code> attribute equal to <var title="">name</var>. The nodes in the <code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code>
	object must be sorted in <a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a>.</li>

	<li>Return that <code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code> object.</li>

	</ol><hr><p>Members of the <code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code> interface inherited
	from the <code>NodeList</code> interface must behave as they would
	on a <code>NodeList</code> object.</p>

	<p>The <dfn id="dom-radionodelist-value" title="dom-RadioNodeList-value"><code>value</code></dfn>
	DOM attribute on the <code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code> object, on getting,
	must return the value returned by running the following steps:</p>

	<ol><li><p>Let <var title="">element</var> be the first element in
	<a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a> represented by the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code> object that is an <code><a href="http://www.clearboth.org/html5/forms.html#the-input-element">input</a></code>
	element whose <code title="attr-input-type"><a href="http://www.clearboth.org/html5/forms.html#attr-input-type">type</a></code> attribute
	is in the <a href="http://www.clearboth.org/html5/forms.html#radio-button-state" title="attr-input-type-radio">Radio Button</a>
	state and whose <a href="http://www.clearboth.org/html5/forms.html#concept-fe-checked" title="concept-fe-checked">checkedness</a>
	is true. Otherwise, let it be null.</p></li>

	<li><p>If <var title="">element</var> is null, or if it is an
	element with no <code title="attr-input-value"><a href="http://www.clearboth.org/html5/forms.html#attr-input-value">value</a></code>
	attribute, return the empty string.</p></li>

	<li><p>Otherwise, return the value of <var title="">element</var>'s
	<code title="attr-input-value"><a href="http://www.clearboth.org/html5/forms.html#attr-input-value">value</a></code> attribute.</p></li>

	</ol><p>On setting, the <code title="dom-RadioNodeList-value"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-radionodelist-value">value</a></code> DOM attribute must run
	the following steps:</p>

	<ol><li><p>Let <var title="">element</var> be the first element in
	<a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a> represented by the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code> object that is an <code><a href="http://www.clearboth.org/html5/forms.html#the-input-element">input</a></code>
	element whose <code title="attr-input-type"><a href="http://www.clearboth.org/html5/forms.html#attr-input-type">type</a></code> attribute
	is in the <a href="http://www.clearboth.org/html5/forms.html#radio-button-state" title="attr-input-type-radio">Radio Button</a>
	state and whose <code title="attr-input-value"><a href="http://www.clearboth.org/html5/forms.html#attr-input-value">value</a></code> content
	attribute is present and equal to the new value, if any. Otherwise,
	let it be null.</p></li>

	<li><p>If <var title="">element</var> is not null, then set its
	<a href="http://www.clearboth.org/html5/forms.html#concept-fe-checked" title="concept-fe-checked">checkedness</a> to true.</p>

	</li></ol><!--
	http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C%21DOCTYPE%20html%3E...%0A%3Cform%20name%3D%22a%22%3E%3Cinput%20id%3D%22x%22%20name%3D%22y%22%3E%3Cinput%20name%3D%22x%22%20id%3D%22y%22%3E%3C/form%3E%0A%3Cscript%3E%0A%20%20var%20x%3B%0A%20%20w%28x%20%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20x%5B0%5D.parentNode.removeChild%28x%5B0%5D%29%3B%0A%20%20w%28x.length%29%3B%0A%20%20w%28x%20%3D%3D%20document.forms%5B%27a%27%5D%5B%27x%27%5D%29%3B%0A%3C/script%3E%0A
	--></div><h5 id="htmloptionscollection-0"><span class="secno">2.8.2.4 </span>HTMLOptionsCollection</h5><p>The <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmloptionscollection">HTMLOptionsCollection</a></code> interface represents a
	list of <code><a href="http://www.clearboth.org/html5/forms.html#the-option-element">option</a></code> elements. It is always rooted on a
	<code><a href="http://www.clearboth.org/html5/forms.html#the-select-element">select</a></code> element and has attributes and methods that
	manipulate that element's descendants.</p><pre class="idl">interface <dfn id="htmloptionscollection">HTMLOptionsCollection</dfn> {
	attribute unsigned long <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-length" title="dom-HTMLOptionsCollection-length">length</a>;
	caller getter <a href="http://www.clearboth.org/html5/forms.html#htmloptionelement">HTMLOptionElement</a> <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-item" title="dom-HTMLOptionsCollection-item">item</a>(in unsigned long index);
	caller getter object <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-nameditem" title="dom-HTMLOptionsCollection-namedItem">namedItem</a>(in DOMString name);
	void <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-add" title="dom-HTMLOptionsCollection-add">add</a>(in <a href="http://www.clearboth.org/html5/dom.html#htmlelement">HTMLElement</a> element, in optional <a href="http://www.clearboth.org/html5/dom.html#htmlelement">HTMLElement</a> before);
	void <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-add" title="dom-HTMLOptionsCollection-add">add</a>(in <a href="http://www.clearboth.org/html5/dom.html#htmlelement">HTMLElement</a> element, in long before);
	void <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-remove" title="dom-HTMLOptionsCollection-remove">remove</a>(in long index);
	};</pre><dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLOptionsCollection-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-length">length</a></code> [ = <var title="">value</var> ]</dt>
	<dd>
	<p>Returns the number of elements in the collection.</p>
	<p>When set to a smaller number, truncates the number of <code><a href="http://www.clearboth.org/html5/forms.html#the-option-element">option</a></code> elements in the corresponding container.</p>
	<p>When set to a greater number, adds new blank <code><a href="http://www.clearboth.org/html5/forms.html#the-option-element">option</a></code> elements to that container.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLOptionsCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-item">item</a></code>(<var title="">index</var>)</dt>
	<dt><var title="">collection</var>[<var title="">index</var>]</dt>
	<dt><var title="">collection</var>(<var title="">index</var>)</dt>
	<dd>
	<p>Returns the item with index <var title="">index</var> from the collection. The items are sorted in <a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a>.</p>
	<p>Returns null if <var title="">index</var> is out of range.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLOptionsCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-item">namedItem</a></code>(<var title="">name</var>)</dt>
	<dt><var title="">nodeList</var> = <var title="">collection</var> . <code title="dom-HTMLOptionsCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-item">namedItem</a></code>(<var title="">name</var>)</dt>
	<dt><var title="">collection</var>[<var title="">name</var>]</dt>
	<dt><var title="">collection</var>(<var title="">name</var>)</dt>
	<dd>
	<p>Returns the item with ID or <code title="attr-option-name">name</code> <var title="">name</var> from the collection.</p>
	<p>If there are multiple matching items, then a <code>NodeList</code> object containing all those elements is returned.</p>
	<p>Returns null if no element with that ID could be found.</p>
	</dd>

	<dt><var title="">collection</var> . <code title="dom-HTMLOptionsCollection-add"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-add">add</a></code>(<var title="">element</var> [, <var title="">before</var> ] )</dt>
	<dd>
	<p>Inserts <var title="">element</var> before the node given by <var title="">before</var>.</p>
	<p>The <var title="">before</var> argument can be a number, in
	which case <var title="">element</var> is inserted before the item
	with that number, or an element from the collection, in which case
	<var title="">element</var> is inserted before that element.</p>
	<p>If <var title="">before</var> is omitted, null, or a number out
	of range, then <var title="">element</var> will be added at the
	end of the list.</p>
	<p>This method will throw a <code><a href="http://www.clearboth.org/html5/infrastructure.html#hierarchy_request_err">HIERARCHY_REQUEST_ERR</a></code>
	exception if <var title="">element</var> is an ancestor of the
	element into which it is to be inserted. If <var title="">element</var> is not an <code><a href="http://www.clearboth.org/html5/forms.html#the-option-element">option</a></code> or
	<code><a href="http://www.clearboth.org/html5/forms.html#the-optgroup-element">optgroup</a></code> element, then the method does nothing.</p>
	</dd>

	</dl><div class="impl">

	<p>The object's <span>indices of the supported indexed
	properties</span> are the numbers in the range zero to one less than
	the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a>. If
	there are no such elements, then there are no <span>supported
	indexed properties</span>.</p>

	<p>On getting, the <dfn id="dom-htmloptionscollection-length" title="dom-HTMLOptionsCollection-length"><code>length</code></dfn>
	attribute must return the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a>.</p>

	<p>On setting, the behavior depends on whether the new value is
	equal to, greater than, or less than the number of nodes
	<a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a> at that time. If the
	number is the same, then setting the attribute must do nothing. If
	the new value is greater, then <var title="">n</var> new
	<code><a href="http://www.clearboth.org/html5/forms.html#the-option-element">option</a></code> elements with no attributes and no child nodes
	must be appended to the <code><a href="http://www.clearboth.org/html5/forms.html#the-select-element">select</a></code> element on which the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted, where <var title="">n</var> is the difference between the two numbers (new
	value minus old value). If the new value is lower, then the last
	<var title="">n</var> nodes in the collection must be removed from
	their parent nodes, where <var title="">n</var> is the difference
	between the two numbers (old value minus new value).</p>

	<p class="note">Setting <code title="dom-HTMLOptionsCollection-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmloptionscollection-length">length</a></code> never removes
	or adds any <code><a href="http://www.clearboth.org/html5/forms.html#the-optgroup-element">optgroup</a></code> elements, and never adds new
	children to existing <code><a href="http://www.clearboth.org/html5/forms.html#the-optgroup-element">optgroup</a></code> elements (though it can
	remove children from them).</p>

	<p>The <dfn id="dom-htmloptionscollection-item" title="dom-HTMLOptionsCollection-item"><code>item(<var title="">index</var>)</code></dfn> method must return the <var title="">index</var>th node in the collection. If there is no <var title="">index</var>th node in the collection, then the method must
	return null.</p>

	<p>The <span>names of the supported named properties</span> consist
	of the values of all the <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code> and <code title="attr-option-name">name</code> attributes of all the elements
	<a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a>.</p>

	<p>The <dfn id="dom-htmloptionscollection-nameditem" title="dom-HTMLOptionsCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> method must act according to the
	following algorithm:

	</p><ol><li>If, at the time the method is called, there is exactly one node
	in the collection that has either an <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code> attribute or a <code title="attr-option-name">name</code> attribute equal to <var title="">name</var>, then return that node and stop the
	algorithm.</li>

	<li>Otherwise, if there are no nodes in the collection that have
	either an <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code> attribute or a <code title="attr-option-name">name</code> attribute equal to <var title="">name</var>, then return null and stop the algorithm.</li>

	<!-- IE returns an HTMLCollection instead; we may need to change to that for compat -->
	<li>Otherwise, create a <code>NodeList</code> object representing a
	live view of the <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmloptionscollection">HTMLOptionsCollection</a></code> object, further
	filtered so that the only nodes in the <code>NodeList</code> object
	are those that have either an <code title="attr-id"><a href="http://www.clearboth.org/html5/dom.html#the-id-attribute">id</a></code>
	attribute or a <code title="attr-option-name">name</code> attribute
	equal to <var title="">name</var>. The nodes in the
	<code>NodeList</code> object must be sorted in <a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree
	order</a>.</li>

	<li>Return that <code>NodeList</code> object.</li>

	</ol><p>The <dfn id="dom-htmloptionscollection-add" title="dom-HTMLOptionsCollection-add"><code>add(<var title="">element</var>, <var title="">before</var>)</code></dfn>
	method must act according to the following algorithm:</p>

	<ol><li><p>If <var title="">element</var> is not an <code><a href="http://www.clearboth.org/html5/forms.html#the-option-element">option</a></code>
	or <code><a href="http://www.clearboth.org/html5/forms.html#the-optgroup-element">optgroup</a></code> element, then return and abort these
	steps.</p></li>

	<li><p>If <var title="">element</var> is an ancestor of the
	<code><a href="http://www.clearboth.org/html5/forms.html#the-select-element">select</a></code> element on which the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted, then throw a
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#hierarchy_request_err">HIERARCHY_REQUEST_ERR</a></code> exception.</p></li>

	<li><p>If <var title="">before</var> is an element, but that
	element isn't a descendant of the <code><a href="http://www.clearboth.org/html5/forms.html#the-select-element">select</a></code> element on
	which the <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted, then throw
	a <code><a href="http://www.clearboth.org/html5/infrastructure.html#not_found_err">NOT_FOUND_ERR</a></code> exception.</p></li>

	<li><p>If <var title="">element</var> and <var title="">before</var> are the same element, then return and abort
	these steps.</p></li>

	<li><p>If <var title="">before</var> is a node, then let <var title="">reference</var> be that node. Otherwise, if <var title="">before</var> is an integer, and there is a <var title="">before</var>th node in the collection, let <var title="">reference</var> be that node. Otherwise, let <var title="">reference</var> be null.</p></li>

	<li><p>If <var title="">reference</var> is not null, let <var title="">parent</var> be the parent node of <var title="">reference</var>. Otherwise, let <var title="">parent</var>
	be the <code><a href="http://www.clearboth.org/html5/forms.html#the-select-element">select</a></code> element on which the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmloptionscollection">HTMLOptionsCollection</a></code> is rooted.</p></li>

	<li><p>Act as if the DOM Core <code title="dom-insertBefore">insertBefore()</code> method was invoked
	on the <var title="">parent</var> node, with <var title="">element</var> as the first argument and <var title="">reference</var> as the second argument.</p>

	</li></ol><p>The <dfn id="dom-htmloptionscollection-remove" title="dom-HTMLOptionsCollection-remove"><code>remove(<var title="">index</var>)</code></dfn> method must act according to
	the following algorithm:</p>

	<ol><li><p>If the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a> is zero, abort these steps.</p></li>

	<li><p>If <var title="">index</var> is not a number greater than or
	equal to 0 and less than the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by
	the collection</a>, let <var title="">element</var> be the first
	element in the collection. Otherwise, let <var title="">element</var> be the <var title="">index</var>th element
	in the collection.</p></li>

	<li><p>Remove <var title="">element</var> from its parent
	node.</p></li>

	</ol><!-- see also http://ln.hixie.ch/?start=1161042744&count=1 --></div><h5 id="htmlpropertycollection-0"><span class="secno">2.8.2.5 </span>HTMLPropertyCollection</h5><p>The <code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlpropertycollection">HTMLPropertyCollection</a></code> interface represents a
	<a href="http://www.clearboth.org/html5/infrastructure.html#collections" title="collections">collection</a> of elements that add
	name-value pairs to a particular <a href="http://www.clearboth.org/html5/microdata.html#concept-item" title="concept-item">item</a> in the <a href="http://www.clearboth.org/html5/microdata.html#microdata">microdata</a>
	model.</p><pre class="idl">interface <dfn id="htmlpropertycollection">HTMLPropertyCollection</dfn> {
	readonly attribute unsigned long <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlpropertycollection-length" title="dom-HTMLPropertyCollection-length">length</a>;
	readonly attribute <span>DOMStringList</span> <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlpropertycollection-names" title="dom-HTMLPropertyCollection-names">names</a>;
	caller getter <a href="http://www.clearboth.org/html5/dom.html#htmlelement">HTMLElement</a> <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlpropertycollection-item" title="dom-HTMLPropertyCollection-item">item</a>(in unsigned long index);
	caller getter <a href="http://www.clearboth.org/html5/infrastructure.html#propertynodelist">PropertyNodeList</a> <a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlpropertycollection-nameditem" title="dom-HTMLPropertyCollection-namedItem">namedItem</a>(in DOMString name);
	};

	typedef sequence&lt;any&gt; <dfn id="propertyvaluearray">PropertyValueArray</dfn>;

	interface <dfn id="propertynodelist">PropertyNodeList</dfn> : <span>NodeList</span> {
	attribute <a href="http://www.clearboth.org/html5/infrastructure.html#propertyvaluearray">PropertyValueArray</a> <a href="http://www.clearboth.org/html5/infrastructure.html#dom-propertynodelist-contents" title="dom-PropertyNodeList-contents">contents</a>;
	};</pre><dl class="domintro"><dt><var title="">collection</var> . <code title="dom-HTMLPropertyCollection-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlpropertycollection-length">length</a></code></dt>
	<dd>
	<p>Returns the number of elements in the collection.</p>
	</dd>

	<dt><var title="">collection</var> . <code title="dom-HTMLPropertyCollection-names"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlpropertycollection-names">names</a></code></dt>
	<dd>
	<p>Returns a <code>DOMStringList</code> with the <a href="http://www.clearboth.org/html5/microdata.html#property-names">property names</a> of the elements in the collection.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">collection</var> . <code title="dom-HTMLPropertyCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlpropertycollection-item">item</a></code>(<var title="">index</var>)</dt>
	<dt><var title="">collection</var>[<var title="">index</var>]</dt>
	<dt><var title="">collection</var>(<var title="">index</var>)</dt>
	<dd>
	<p>Returns the element with index <var title="">index</var> from the collection. The items are sorted in <a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a>.</p>
	<p>Returns null if <var title="">index</var> is out of range.</p>
	</dd>

	<dt><var title="">propertyNodeList</var> = <var title="">collection</var> . <code title="dom-HTMLPropertyCollection-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-htmlpropertycollection-item">namedItem</a></code>(<var title="">name</var>)</dt>
	<dt><var title="">collection</var>[<var title="">name</var>]</dt>
	<dt><var title="">collection</var>(<var title="">name</var>)</dt>
	<dd>
	<p>Returns a <code><a href="http://www.clearboth.org/html5/infrastructure.html#propertynodelist">PropertyNodeList</a></code> object containing any elements that add a property named <var title="">name</var>.</p>
	</dd>

	<dt><var title="">propertyNodeList</var> . <code title="dom-PropertyNodeList-contents"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-propertynodelist-contents">contents</a></code></dt>
	<dd>
	<p>Returns an array of the various values that the relevant elements have.</p>
	</dd>

	</dl><div class="impl">

	<hr><p>The object's <span>indices of the supported indexed
	properties</span> are the numbers in the range zero to one less than
	the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a>. If
	there are no such elements, then there are no <span>supported
	indexed properties</span>.</p>

	<p>The <dfn id="dom-htmlpropertycollection-length" title="dom-HTMLPropertyCollection-length"><code>length</code></dfn>
	attribute must return the number of nodes <a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the
	collection</a>.</p>

	<p>The <dfn id="dom-htmlpropertycollection-item" title="dom-HTMLPropertyCollection-item"><code>item(<var title="">index</var>)</code></dfn> method must return the <var title="">index</var>th node in the collection. If there is no <var title="">index</var>th node in the collection, then the method must
	return null.</p>

	<p>The <span>names of the supported named properties</span> consist
	of the <a href="http://www.clearboth.org/html5/microdata.html#property-names">property names</a> of all the elements
	<a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a>.</p>

	<p>The <dfn id="dom-htmlpropertycollection-names" title="dom-HTMLPropertyCollection-names"><code>names</code></dfn>
	attribute must return a live <code>DOMStringList</code> object
	giving the <a href="http://www.clearboth.org/html5/microdata.html#property-names">property names</a> of all the elements
	<a href="http://www.clearboth.org/html5/infrastructure.html#represented-by-the-collection">represented by the collection</a>, listed in <a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree
	order</a>, but with duplicates removed, leaving only the first
	occurrence of each name. The same object must be returned each
	time.</p>

	<p>The <dfn id="dom-htmlpropertycollection-nameditem" title="dom-HTMLPropertyCollection-namedItem"><code>namedItem(<var title="">name</var>)</code></dfn> method must return a
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#propertynodelist">PropertyNodeList</a></code> object representing a live view of the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#htmlpropertycollection">HTMLPropertyCollection</a></code> object, further filtered so that
	the only nodes in the <code><a href="http://www.clearboth.org/html5/infrastructure.html#radionodelist">RadioNodeList</a></code> object are those
	that have a <a href="http://www.clearboth.org/html5/microdata.html#property-names" title="property names">property name</a> equal
	to <var title="">name</var>. The nodes in the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#propertynodelist">PropertyNodeList</a></code> object must be sorted in <a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree
	order</a>, and the same object must be returned each time a
	particular <var title="">name</var> is queried.</p>

	<hr><p>Members of the <code><a href="http://www.clearboth.org/html5/infrastructure.html#propertynodelist">PropertyNodeList</a></code> interface inherited
	from the <code>NodeList</code> interface must behave as they would
	on a <code>NodeList</code> object.</p>

	<p>The <dfn id="dom-propertynodelist-contents" title="dom-PropertyNodeList-contents"><code>contents</code></dfn>
	DOM attribute on the <code><a href="http://www.clearboth.org/html5/infrastructure.html#propertynodelist">PropertyNodeList</a></code> object, on
	getting, must return a newly constructed array whose values are the
	values obtained from the <code title="dom-content"><a href="http://www.clearboth.org/html5/microdata.html#dom-content">content</a></code>
	DOM property of each of the elements represented by the object, in
	<a href="http://www.clearboth.org/html5/infrastructure.html#tree-order">tree order</a>.</p>

	</div><h4 id="domtokenlist-0"><span class="secno">2.8.3 </span>DOMTokenList</h4><p>The <code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> interface represents an interface
	to an underlying string that consists of a <a href="http://www.clearboth.org/html5/infrastructure.html#set-of-space-separated-tokens">set of
	space-separated tokens</a>.</p><p class="note"><code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> objects are always
	<a href="http://www.clearboth.org/html5/infrastructure.html#case-sensitive">case-sensitive</a>, even when the underlying string might
	ordinarily be treated in a case-insensitive manner.</p><pre class="idl">interface <dfn id="domtokenlist">DOMTokenList</dfn> {
	readonly attribute unsigned long <a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-length" title="dom-tokenlist-length">length</a>;
	getter DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-item" title="dom-tokenlist-item">item</a>(in unsigned long index);
	boolean <a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-contains" title="dom-tokenlist-contains">contains</a>(in DOMString token);
	void <a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-add" title="dom-tokenlist-add">add</a>(in DOMString token);
	void <a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-remove" title="dom-tokenlist-remove">remove</a>(in DOMString token);
	boolean <a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-toggle" title="dom-tokenlist-toggle">toggle</a>(in DOMString token);
	<a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-tostring" title="dom-tokenlist-toString">stringifier</a> DOMString ();
	};</pre><dl class="domintro"><dt><var title="">tokenlist</var> . <code title="dom-tokenlist-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-length">length</a></code></dt>
	<dd>
	<p>Returns the number of tokens in the string.</p>
	</dd>

	<dt><var title="">element</var> = <var title="">tokenlist</var> . <code title="dom-tokenlist-item"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-item">item</a></code>(<var title="">index</var>)</dt>
	<dt><var title="">tokenlist</var>[<var title="">index</var>]</dt>
	<dd>
	<p>Returns the token with index <var title="">index</var>. The tokens are returned in the order they are found in the underlying string.</p>
	<p>Returns null if <var title="">index</var> is out of range.</p>
	</dd>

	<dt><var title="">hastoken</var> = <var title="">tokenlist</var> . <code title="dom-tokenlist-contains"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-contains">contains</a></code>(<var title="">token</var>)</dt>
	<dd>
	<p>Returns true if the <var title="">token</var> is present; false otherwise.</p>
	<p>Throws a <code><a href="http://www.clearboth.org/html5/infrastructure.html#syntax_err">SYNTAX_ERR</a></code> exception if <var title="">token</var> is empty.</p>
	<p>Throws an <code><a href="http://www.clearboth.org/html5/infrastructure.html#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception if <var title="">token</var> contains any spaces.</p>
	</dd>

	<dt><var title="">tokenlist</var> . <code title="dom-tokenlist-add"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-add">add</a></code>(<var title="">token</var>)</dt>
	<dd>
	<p>Adds <var title="">token</var>, unless it is already present.</p>
	<p>Throws a <code><a href="http://www.clearboth.org/html5/infrastructure.html#syntax_err">SYNTAX_ERR</a></code> exception if <var title="">token</var> is empty.</p>
	<p>Throws an <code><a href="http://www.clearboth.org/html5/infrastructure.html#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception if <var title="">token</var> contains any spaces.</p>
	</dd>

	<dt><var title="">tokenlist</var> . <code title="dom-tokenlist-remove"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-remove">remove</a></code>(<var title="">token</var>)</dt>
	<dd>
	<p>Removes <var title="">token</var> if it is present.</p>
	<p>Throws a <code><a href="http://www.clearboth.org/html5/infrastructure.html#syntax_err">SYNTAX_ERR</a></code> exception if <var title="">token</var> is empty.</p>
	<p>Throws an <code><a href="http://www.clearboth.org/html5/infrastructure.html#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception if <var title="">token</var> contains any spaces.</p>
	</dd>

	<dt><var title="">hastoken</var> = <var title="">tokenlist</var> . <code title="dom-tokenlist-toggle"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-toggle">toggle</a></code>(<var title="">token</var>)</dt>
	<dd>
	<p>Adds <var title="">token</var> if it is not present, or removes it if it is.</p>
	<p>Throws a <code><a href="http://www.clearboth.org/html5/infrastructure.html#syntax_err">SYNTAX_ERR</a></code> exception if <var title="">token</var> is empty.</p>
	<p>Throws an <code><a href="http://www.clearboth.org/html5/infrastructure.html#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception if <var title="">token</var> contains any spaces.</p>
	</dd>

	</dl><div class="impl">

	<p>The <dfn id="dom-tokenlist-length" title="dom-tokenlist-length"><code>length</code></dfn>
	attribute must return the number of tokens that result from <a href="http://www.clearboth.org/html5/infrastructure.html#split-a-string-on-spaces" title="split a string on spaces">splitting the underlying string on
	spaces</a>. This is the <var title="dom-tokenlist-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-length">length</a></var>.</p>

	<p>The object's <span>indices of the supported indexed
	properties</span> are the numbers in the range zero to <span title=""><var title="dom-tokenlist-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-length">length</a></var>-1</span>, unless the <var title="dom-tokenlist-length"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-tokenlist-length">length</a></var> is zero, in which case
	there are no <span>supported indexed properties</span>.</p>

	<p>The <dfn id="dom-tokenlist-item" title="dom-tokenlist-item"><code>item(<var title="">index</var>)</code></dfn> method must <a href="http://www.clearboth.org/html5/infrastructure.html#split-a-string-on-spaces" title="split a
	string on spaces">split the underlying string on spaces</a>,
	preserving the order of the tokens as found in the underlying
	string, and then return the <var title="">index</var>th item in this
	list. If <var title="">index</var> is equal to or greater than the
	number of tokens, then the method must return null.</p>

	<p class="example">For example, if the string is "<code title="">a b
	a c</code>" then there are four tokens: the token with index 0 is
	"<code title="">a</code>", the token with index 1 is "<code title="">b</code>", the token with index 2 is "<code title="">a</code>", and the token with index 3 is "<code title="">c</code>".</p>

	<p>The <dfn id="dom-tokenlist-contains" title="dom-tokenlist-contains"><code>contains(<var title="">token</var>)</code></dfn> method must run the following
	algorithm:</p>

	<ol><li>If the <var title="">token</var> argument is the empty string,
	then raise a <code><a href="http://www.clearboth.org/html5/infrastructure.html#syntax_err">SYNTAX_ERR</a></code> exception and stop the
	algorithm.</li>

	<li>If the <var title="">token</var> argument contains any <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a>, then raise an
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception and stop the
	algorithm.</li>

	<li>Otherwise, <a href="http://www.clearboth.org/html5/infrastructure.html#split-a-string-on-spaces" title="split a string on spaces">split the
	underlying string on spaces</a> to get the list of tokens in the
	object's underlying string.</li>

	<li>If the token indicated by <var title="">token</var> is a
	<a href="http://www.clearboth.org/html5/infrastructure.html#case-sensitive">case-sensitive</a> match for one of the tokens in the
	object's underlying string then return true and stop this
	algorithm.</li>

	<li>Otherwise, return false.</li>

	</ol><p>The <dfn id="dom-tokenlist-add" title="dom-tokenlist-add"><code>add(<var title="">token</var>)</code></dfn> method must run the following
	algorithm:</p>

	<ol><li>If the <var title="">token</var> argument is the empty string,
	then raise a <code><a href="http://www.clearboth.org/html5/infrastructure.html#syntax_err">SYNTAX_ERR</a></code> exception and stop the
	algorithm.</li>

	<li>If the <var title="">token</var> argument contains any <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a>, then raise an
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception and stop the
	algorithm.</li>

	<li>Otherwise, <a href="http://www.clearboth.org/html5/infrastructure.html#split-a-string-on-spaces" title="split a string on spaces">split the
	underlying string on spaces</a> to get the list of tokens in the
	object's underlying string.</li>

	<li>If the given <var title="">token</var> is a
	<a href="http://www.clearboth.org/html5/infrastructure.html#case-sensitive">case-sensitive</a> match for one of the tokens in the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> object's underlying string then stop the
	algorithm.</li>

	<li>Otherwise, if the <code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> object's underlying
	string is not the empty string and the last character of that
	string is not a <a href="http://www.clearboth.org/html5/infrastructure.html#space-character">space character</a>, then append a U+0020
	SPACE character to the end of that string.</li>

	<li>Append the value of <var title="">token</var> to the end of the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> object's underlying string.</li>

	</ol><p>The <dfn id="dom-tokenlist-remove" title="dom-tokenlist-remove"><code>remove(<var title="">token</var>)</code></dfn> method must run the following
	algorithm:</p>

	<ol><li>If the <var title="">token</var> argument is the empty string,
	then raise a <code><a href="http://www.clearboth.org/html5/infrastructure.html#syntax_err">SYNTAX_ERR</a></code> exception and stop the
	algorithm.</li>

	<li>If the <var title="">token</var> argument contains any <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a>, then raise an
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception and stop the
	algorithm.</li>

	<li>Otherwise, <a href="http://www.clearboth.org/html5/infrastructure.html#remove-a-token-from-a-string" title="remove a token from a string">remove
	the given <var title="">token</var> from the underlying
	string</a>.</li>

	</ol><p>The <dfn id="dom-tokenlist-toggle" title="dom-tokenlist-toggle"><code>toggle(<var title="">token</var>)</code></dfn> method must run the following
	algorithm:</p>

	<ol><li>If the <var title="">token</var> argument is the empty string,
	then raise a <code><a href="http://www.clearboth.org/html5/infrastructure.html#syntax_err">SYNTAX_ERR</a></code> exception and stop the
	algorithm.</li>

	<li>If the <var title="">token</var> argument contains any <a href="http://www.clearboth.org/html5/infrastructure.html#space-character" title="space character">space characters</a>, then raise an
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#invalid_character_err">INVALID_CHARACTER_ERR</a></code> exception and stop the
	algorithm.</li>

	<li>Otherwise, <a href="http://www.clearboth.org/html5/infrastructure.html#split-a-string-on-spaces" title="split a string on spaces">split the
	underlying string on spaces</a> to get the list of tokens in the
	object's underlying string.</li>

	<li>If the given <var title="">token</var> is a
	<a href="http://www.clearboth.org/html5/infrastructure.html#case-sensitive">case-sensitive</a> match for one of the tokens in the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> object's underlying string then <a href="http://www.clearboth.org/html5/infrastructure.html#remove-a-token-from-a-string" title="remove a token from a string">remove the given <var title="">token</var> from the underlying string</a> and stop the
	algorithm, returning false.</li>

	<li>Otherwise, if the <code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> object's underlying
	string is not the empty string and the last character of that
	string is not a <a href="http://www.clearboth.org/html5/infrastructure.html#space-character">space character</a>, then append a U+0020
	SPACE character to the end of that string.</li>

	<li>Append the value of <var title="">token</var> to the end of the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> object's underlying string.</li>

	<li>Return true.</li>

	</ol><p>Objects implementing the <code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> interface must
	<dfn id="dom-tokenlist-tostring" title="dom-tokenlist-toString">stringify</dfn> to the object's
	underlying string representation.</p>

	</div><h4 id="domsettabletokenlist-0"><span class="secno">2.8.4 </span>DOMSettableTokenList</h4><p>The <code><a href="http://www.clearboth.org/html5/infrastructure.html#domsettabletokenlist">DOMSettableTokenList</a></code> interface is the same as the
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code> interface, except that it allows the
	underlying string to be directly changed.</p><pre class="idl">interface <dfn id="domsettabletokenlist">DOMSettableTokenList</dfn> : <a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a> {
	attribute DOMString <a href="http://www.clearboth.org/html5/infrastructure.html#dom-domsettabletokenlist-value" title="dom-DOMSettableTokenList-value">value</a>;
	};</pre><dl class="domintro"><dt><var title="">tokenlist</var> . <code title="dom-DOMSettableTokenList-value"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-domsettabletokenlist-value">value</a></code></dt>
	<dd>
	<p>Returns the underlying string.</p>
	<p>Can be set, to change the underlying string.</p>
	</dd>

	</dl><div class="impl">

	<p>An object implementing the <code><a href="http://www.clearboth.org/html5/infrastructure.html#domsettabletokenlist">DOMSettableTokenList</a></code>
	interface must act as defined for the <code><a href="http://www.clearboth.org/html5/infrastructure.html#domtokenlist">DOMTokenList</a></code>
	interface, except for the <code title="dom-DOMSettableTokenList-value"><a href="http://www.clearboth.org/html5/infrastructure.html#dom-domsettabletokenlist-value">value</a></code> attribute defined
	here.</p>

	<p>The <dfn id="dom-domsettabletokenlist-value" title="dom-DOMSettableTokenList-value"><code>value</code></dfn>
	attribute must return the underlying string on getting, and must
	replace the underlying string with the new value on setting.</p>

	</div><div class="impl">

	<h4 id="safe-passing-of-structured-data"><span class="secno">2.8.5 </span>Safe passing of structured data</h4>

	<p>When a user agent is required to obtain a <dfn id="structured-clone">structured
	clone</dfn> of an object, it must run the following algorithm, which
	either returns a separate object, or throws an exception.</p>

	<ol><li><p>Let <var title="">input</var> be the object being
	cloned.</p></li>

	<li><p>Let <var title="">memory</var> be a list of objects,
	initially empty. (This is used to catch cycles.)</p></li>

	<li><p>Let <var title="">output</var> be the object resulting from
	calling the <a href="http://www.clearboth.org/html5/infrastructure.html#internal-structured-cloning-algorithm">internal structured cloning algorithm</a> with
	<var title="">input</var> and <var title="">memory</var>.</p></li>

	<li><p>Return <var title="">output</var>.</p></li>

	</ol><p>The <dfn id="internal-structured-cloning-algorithm">internal structured cloning algorithm</dfn> is always
	called with two arguments, <var title="">input</var> and <var title="">memory</var>, and its behavior depends on the type of <var title="">input</var>, as follows:</p>

	<dl class="switch"><dt>If <var title="">input</var> is the undefined value</dt>

	<dd><p>Return the undefined value.</p></dd>

	<dt>If <var title="">input</var> is the null value</dt>

	<dd><p>Return the null value.</p></dd>

	<dt>If <var title="">input</var> is the false value</dt>

	<dd><p>Return the false value.</p></dd>

	<dt>If <var title="">input</var> is the true value</dt>

	<dd><p>Return the true value.</p></dd>

	<dt>If <var title="">input</var> is a Number object</dt>

	<dd><p>Return a newly constructed Number object with the same value as <var title="">input</var>.</p></dd>

	<dt>If <var title="">input</var> is a String object</dt>

	<dd><p>Return a newly constructed String object with the same value as <var title="">input</var>.</p></dd>

	<dt>If <var title="">input</var> is a <code>Date</code> object</dt>

	<dd><p>Return a newly constructed <code>Date</code> object with the same value as <var title="">input</var>.</p></dd>

	<dt>If <var title="">input</var> is a <code>RegExp</code> object</dt>

	<dd>

	<p>Return a newly constructed <code>RegExp</code> object with the same pattern and flags as <var title="">input</var>.</p>

	<p class="note">The value of the <code title="">lastIndex</code> property is not copied.</p>

	</dd>

	<dt>If <var title="">input</var> is a <code><a href="http://www.clearboth.org/html5/the-canvas-element.html#imagedata">ImageData</a></code> object</dt>

	<dd><p>Return a newly constructed <code><a href="http://www.clearboth.org/html5/the-canvas-element.html#imagedata">ImageData</a></code> object
	with the same <code title="dom-imagedata-width"><a href="http://www.clearboth.org/html5/the-canvas-element.html#dom-imagedata-width">width</a></code> and
	<code title="dom-imagedata-height"><a href="http://www.clearboth.org/html5/the-canvas-element.html#dom-imagedata-height">height</a></code> as <var title="">input</var>, and with a newly constructed
	<code><a href="http://www.clearboth.org/html5/the-canvas-element.html#canvaspixelarray">CanvasPixelArray</a></code> for its <code title="dom-imagedata-data"><a href="http://www.clearboth.org/html5/the-canvas-element.html#dom-imagedata-data">data</a></code> attribute, with the same
	<code title="dom-canvaspixelarray-length"><a href="http://www.clearboth.org/html5/the-canvas-element.html#dom-canvaspixelarray-length">length</a></code> and pixel
	values as the <var title="">input</var>'s.</p></dd>

	<dt>If <var title="">input</var> is a <code>File</code> object</dt>

	<dd><p>Return a newly constructed <code>File</code> object corresponding to the same underlying data.</p></dd>

	<dt>If <var title="">input</var> is a <code>FileData</code> object</dt>

	<dd><p>Return a newly constructed <code>FileData</code> object corresponding to the same underlying data.</p></dd>

	<dt>If <var title="">input</var> is a <code>FileList</code> object</dt>

	<dd><p>Return a newly constructed <code>FileList</code> object containing a list of newly constructed <code>File</code> objects corresponding to the same underlying data as those in <var title="">input</var>, maintaining their relative order.</p></dd>

	<dt>If <var title="">input</var> is a host object (e.g. a DOM node)</dt>

	<dd><p>Return the null value.</p></dd>

	<dt>If <var title="">input</var> is an Array object</dt>
	<dt>If <var title="">input</var> is an Object object</dt>

	<dd>

	<ol><li><p>If <var title="">input</var> is in <var title="">memory</var>, then throw a
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#not_supported_err">NOT_SUPPORTED_ERR</a></code> exception and abort the overall
	<a href="http://www.clearboth.org/html5/infrastructure.html#structured-clone">structured clone</a> algorithm.</p></li>

	<li><p>Otherwise, let <var title="">new memory</var> be a list
	consisting of the items in <var title="">memory</var> with the
	addition of <var title="">input</var>.</p></li>

	<li><p>Create a new object, <var title="">output</var>, of the
	same type as <var title="">input</var>: either an Array or an
	Object.</p></li>

	<li>

	<p>For each enumerable property in <var title="">input</var>,
	add a corresponding property to <var title="">output</var>
	having the same name, and having a value created from invoking
	the <a href="http://www.clearboth.org/html5/infrastructure.html#internal-structured-cloning-algorithm">internal structured cloning algorithm</a>
	recursively with the value of the property as the "<var title="">input</var>" argument and <var title="">new
	memory</var> as the "<var title="">memory</var>" argument. The
	order of the properties in the <var title="">input</var> and
	<var title="">output</var> objects must be the same.</p>

	<p class="note">This does not walk the prototype chain.</p>

	</li>

	<li><p>Return <var title="">output</var>.</p></li>

	</ol></dd>

	<dt>If <var title="">input</var> is another native object type (e.g. <code>Error</code>)</dt>

	<dd><p>Return the null value.</p></dd>

	</dl></div><h4 id="domstringmap-0"><span class="secno">2.8.6 </span>DOMStringMap</h4><p>The <code><a href="http://www.clearboth.org/html5/infrastructure.html#domstringmap">DOMStringMap</a></code> interface represents a set of
	name-value pairs. It exposes these using the scripting language's
	native mechanisms for property access.</p><div class="impl">

	<p>When a <code><a href="http://www.clearboth.org/html5/infrastructure.html#domstringmap">DOMStringMap</a></code> object is instantiated, it is
	associated with three algorithms, one for getting the list of
	name-value pairs, one for setting names to certain values, and one
	for deleting names.</p>

	<pre class="idl">interface <dfn id="domstringmap">DOMStringMap</dfn> {
	getter DOMString (in DOMString name);
	setter void (in DOMString name, in DOMString value);
	creator void (in DOMString name);
	deleter void (in DOMString name);
	};</pre>

	<p>The <span>names of the supported named properties</span> on a
	<code><a href="http://www.clearboth.org/html5/infrastructure.html#domstringmap">DOMStringMap</a></code> object at any instant are the names of
	each pair returned from the algorithm for getting the list of
	name-value pairs at that instant.</p>

	<p>When a <code><a href="http://www.clearboth.org/html5/infrastructure.html#domstringmap">DOMStringMap</a></code> object is indexed to retrieve a
	named property <var title="">name</var>, the value returned must be
	the value component of the name-value pair whose name component is
	<var title="">name</var> in the list returned by the algorithm for
	getting the list of name-value pairs.</p>

	<p>When a <code><a href="http://www.clearboth.org/html5/infrastructure.html#domstringmap">DOMStringMap</a></code> object is indexed to create or
	modify a named property <var title="">name</var> with value <var title="">value</var>, the algorithm for setting names to certain
	values must be run, passing <var title="">name</var> as the name and
	the result of converting <var title="">value</var> to a
	<code>DOMString</code> as the value.</p>

	<p>When a <code><a href="http://www.clearboth.org/html5/infrastructure.html#domstringmap">DOMStringMap</a></code> object is indexed to delete a
	named property named <var title="">name</var>, the algorithm for
	deleting names must be run, passing <var title="">name</var> as the
	name.</p>

	<p class="note">The <code><a href="http://www.clearboth.org/html5/infrastructure.html#domstringmap">DOMStringMap</a></code> interface definition
	here is only intended for JavaScript environments. Other language
	bindings will need to define how <code><a href="http://www.clearboth.org/html5/infrastructure.html#domstringmap">DOMStringMap</a></code> is to be
	implemented for those languages.</p>

	</div><div class="example">

	<p>The <code title="dom-dataset"><a href="http://www.clearboth.org/html5/dom.html#dom-dataset">dataset</a></code> attribute on
	elements exposes the <code title="attr-data-*"><a href="http://www.clearboth.org/html5/dom.html#attr-data">data-*</a></code>
	attributes on the element.</p>

	<p>Given the following fragment and elements with similar
	constructions:</p>

	<pre>&lt;img class="tower" id="tower5" data-x="12" data-y="5"
	data-ai="robotarget" data-hp="46" data-ability="flames"
	src="towers/rocket.png alt="Rocket Tower"&gt;</pre>

	<p>...one could imagine a function <code title="">splashDamage()</code> that takes some arguments, the first
	of which is the element to process:</p>

	<pre>function splashDamage(node, x, y, damage) {
	if (node.classList.contains('tower') &amp;&amp; // checking the 'class' attribute
	node.dataset.x == x &amp;&amp; // reading the 'data-x' attribute
	node.dataset.y == y) { // reading the 'data-y' attribute
	var hp = parseInt(node.dataset.hp); // reading the 'data-hp' attribute
	hp = hp - damage;
	if (hp &lt; 0) {
	hp = 0;
	node.dataset.ai = 'dead'; // setting the 'data-ai' attribute
	delete node.dataset.ability; // removing the 'data-ability' attribute
	}
	node.dataset.hp = hp; // setting the 'data-hp' attribute
	}
	}</pre>

	</div><h4 id="dom-feature-strings"><span class="secno">2.8.7 </span>DOM feature strings</h4><p>DOM3 Core defines mechanisms for checking for interface support,
	and for obtaining implementations of interfaces, using <a href="http://www.w3.org/TR/DOM-Level-3-Core/core.html#DOMFeatures">feature
	strings</a>. <a href="http://www.clearboth.org/html5/references.html#refsDOMCORE">[DOMCORE]</a></p><p>Authors are strongly discouraged from using these, as they are
	notoriously unreliable and imprecise. Authors are encouraged to rely
	on explicit feature testing or the graceful degradation behavior
	intrinsic to some of the features in this specification.</p><div class="impl">

	<p>For historical reasons, user agents should return the true value
	when the <dfn id="hasfeature" title="hasFeature"><code>hasFeature(<var title="">feature</var>, <var title="">version</var>)</code></dfn>
	method of the <code>DOMImplementation</code> interface is invoked
	with <var title="">feature</var> set to either "<code title="">HTML</code>" or "<code title="">XHTML</code>" and <var title="">version</var> set to either "<code>1.0</code>" or
	"<code>2.0</code>".</p>

	</div><h4 id="exceptions"><span class="secno">2.8.8 </span>Exceptions</h4><p>The following <code>DOMException</code> codes are defined in DOM
	Core. <a href="http://www.clearboth.org/html5/references.html#refsDOMCORE">[DOMCORE]</a></p><ol class="brief"><li value="1"><dfn id="index_size_err"><code>INDEX_SIZE_ERR</code></dfn></li>
	<li value="2"><dfn id="domstring_size_err"><code>DOMSTRING_SIZE_ERR</code></dfn></li>
	<li value="3"><dfn id="hierarchy_request_err"><code>HIERARCHY_REQUEST_ERR</code></dfn></li>
	<li value="4"><dfn id="wrong_document_err"><code>WRONG_DOCUMENT_ERR</code></dfn></li>
	<li value="5"><dfn id="invalid_character_err"><code>INVALID_CHARACTER_ERR</code></dfn></li>
	<li value="6"><dfn id="no_data_allowed_err"><code>NO_DATA_ALLOWED_ERR</code></dfn></li>
	<li value="7"><dfn id="no_modification_allowed_err"><code>NO_MODIFICATION_ALLOWED_ERR</code></dfn></li>
	<li value="8"><dfn id="not_found_err"><code>NOT_FOUND_ERR</code></dfn></li>
	<li value="9"><dfn id="not_supported_err"><code>NOT_SUPPORTED_ERR</code></dfn></li>
	<li value="10"><dfn id="inuse_attribute_err"><code>INUSE_ATTRIBUTE_ERR</code></dfn></li>
	<li value="11"><dfn id="invalid_state_err"><code>INVALID_STATE_ERR</code></dfn></li>
	<li value="12"><dfn id="syntax_err"><code>SYNTAX_ERR</code></dfn></li>
	<li value="13"><dfn id="invalid_modification_err"><code>INVALID_MODIFICATION_ERR</code></dfn></li>
	<li value="14"><dfn id="namespace_err"><code>NAMESPACE_ERR</code></dfn></li>
	<li value="15"><dfn id="invalid_access_err"><code>INVALID_ACCESS_ERR</code></dfn></li>
	<li value="16"><dfn id="validation_err"><code>VALIDATION_ERR</code></dfn></li>
	<li value="17"><dfn id="type_mismatch_err"><code>TYPE_MISMATCH_ERR</code></dfn></li>
	<li value="18"><dfn id="security_err"><code>SECURITY_ERR</code></dfn></li> <!-- actually in XHR for now -->
	<li value="19"><dfn id="network_err"><code>NETWORK_ERR</code></dfn></li> <!-- actually in XHR for now -->
	<li value="20"><dfn id="abort_err"><code>ABORT_ERR</code></dfn></li> <!-- actually in XHR for now -->
	<li value="21"><dfn id="url_mismatch_err"><code>URL_MISMATCH_ERR</code></dfn></li> <!-- actually in workers for now -->
	<li value="22"><dfn id="quota_exceeded_err"><code>QUOTA_EXCEEDED_ERR</code></dfn></li> <!-- actually defined right here for now -->
	<!--v2DATAGRID   <li value="23"><dfn><code>DATAGRID_MODEL_ERR</code></dfn></li> --> <!-- actually defined right here for now -->
	<li value="81"><dfn id="parse_err"><code>PARSE_ERR</code></dfn></li> <!-- actually defined in dom3ls -->
	<li value="82"><dfn id="serialize_err"><code>SERIALIZE_ERR</code></dfn></li> <!-- actually defined in dom3ls -->
	</ol><div class="impl">

	<h4 id="garbage-collection"><span class="secno">2.8.9 </span>Garbage collection</h4>

	<p>There is an <dfn id="implied-strong-reference">implied strong reference</dfn> from any DOM
	attribute that returns a pre-existing object to that object.</p>

	<div class="example">

	<p>For example, the <code>document.location</code> attribute means
	that there is a strong reference from a <code>Document</code>
	object to its <code><a href="http://www.clearboth.org/html5/history.html#location">Location</a></code> object. Similarly, there is
	always a strong reference from a <code>Document</code> to any
	descendant nodes, and from any node to its owner
	<code>Document</code>.</p>

	</div>

	</div>
	</div>
	<script type="text/javascript" src="infrastructure_files/translationCore.js"> </script>
</body></html>